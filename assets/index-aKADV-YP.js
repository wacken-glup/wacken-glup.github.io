const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/DiscoverView-CgoXlk3B.js","assets/DiscoverView-CToP2zVp.css","assets/MembersView-ByzlVEjG.js","assets/MembersView-1xYex20J.css"])))=>i.map(i=>d[i]);
var zw=Object.defineProperty;var Yw=(t,e,n)=>e in t?zw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var fe=(t,e,n)=>Yw(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Qw="modulepreload",Jw=function(t){return"/"+t},ng={},Tr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Jw(l),l in ng)return;ng[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Qw,u||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function Xw(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,l;const u=async(f=!0)=>{await l};async function h(){if("serviceWorker"in navigator){if(a=await Tr(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{o==null||o(f)}),!a)return;a.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),a.addEventListener("installed",f=>{f.isUpdate||r==null||r()}),a.register({immediate:e}).then(f=>{i?i("/sw.js",f):s==null||s(f)}).catch(f=>{o==null||o(f)})}}return l=h(),u}const rg=[];function yc(){return window==null?void 0:window.matchMedia("(pointer: coarse)").matches}function Zw(){return window==null?void 0:window.matchMedia("(prefers-color-scheme: dark)").matches}async function fy(t){await new Promise(e=>setTimeout(e,t))}function eI(){return"fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function As(t,e){try{return typeof t=="string"?(e??document).querySelector(t):t}catch{return null}}function Zt(t,e){try{return typeof t=="string"?(e??document).querySelectorAll(t):t??rg}catch{return rg}}function xt(t,e){return(t==null?void 0:t.classList.contains(e))??!1}function cr(t,e){var n;return((n=t==null?void 0:t.tagName)==null?void 0:n.toLowerCase())===e}function ta(t,e){var n;return((n=t==null?void 0:t.type)==null?void 0:n.toLowerCase())===e}function ds(t,e){if(t instanceof NodeList)for(let n=0;n<t.length;n++)t[n].classList.add(e);else t==null||t.classList.add(e)}function Ln(t,e){if(t instanceof NodeList)for(let n=0;n<t.length;n++)t[n].classList.remove(e);else t==null||t.classList.remove(e)}function gt(t,e,n,r=!0){t!=null&&t.addEventListener&&t.addEventListener(e,n,r)}function pf(t,e,n,r=!0){t!=null&&t.removeEventListener&&t.removeEventListener(e,n,r)}function tI(t,e){var n;(n=e==null?void 0:e.parentNode)==null||n.insertBefore(t,e)}function _f(t){return t==null?void 0:t.previousElementSibling}function yf(t){return t==null?void 0:t.nextElementSibling}function Cs(t){return t==null?void 0:t.parentElement}function nI(t){const e=document.createElement("div");for(let n=0,r=Object.keys(t),s=r.length;n<s;n++){const i=r[n],o=t[i];e.setAttribute(i,o)}return e}function vf(){var t;(t=document.activeElement)==null||t.blur()}function rI(t){return Zt('[data-ui="#'+t+'"]')}function sI(t){return As('[data-ui="#'+t+'"]')}function iI(t){t.id&&xt(t,"page")&&(t=sI(t.id)??t);const e=Cs(t);if(!xt(e,"tabs")&&!xt(e,"tabbed")&&!cr(e,"nav"))return;const n=Zt("a",e);for(let r=0;r<n.length;r++)Ln(n[r],"active");!cr(t,"button")&&!xt(t,"button")&&!xt(t,"chip")&&ds(t,"active")}function dy(t){t.placeholder||(t.placeholder=" ")}function oI(t){const e=t.currentTarget,n=Cs(e),r=As("input:not([type=file], [type=checkbox], [type=radio]), select, textarea",n);r&&r.focus()}function Ef(t){const e=t.currentTarget;Aa(e)}function wf(t){const e=t.currentTarget;Aa(e)}function aI(t){const e=t.currentTarget;If(e)}function lI(t){const e=t.currentTarget;Tf(e)}function cI(t){const e=t.currentTarget;If(e,t)}function uI(t){const e=t.currentTarget;Tf(e,t)}function hI(t){const e=t.currentTarget;my(e)}function fI(t){var e;const n=t.currentTarget,r=As("input",Cs(n));r&&(e=n.textContent)!=null&&e.includes("visibility")&&(r.type=r.type==="password"?"text":"password")}function dI(){const t=Zt(".field > label");for(let e=0;e<t.length;e++)gt(t[e],"click",oI)}function mI(){const t=Zt(".field > input:not([type=file], [type=color], [type=range])");for(let e=0;e<t.length;e++)gt(t[e],"focus",Ef),gt(t[e],"blur",wf),Aa(t[e])}function gI(){const t=Zt(".field > select");for(let e=0;e<t.length;e++)gt(t[e],"focus",Ef),gt(t[e],"blur",wf)}function pI(){const t=Zt(".field > input[type=file]");for(let e=0;e<t.length;e++)gt(t[e],"change",aI),If(t[e])}function _I(){const t=Zt(".field > input[type=color]");for(let e=0;e<t.length;e++)gt(t[e],"change",lI),Tf(t[e])}function yI(){const t=Zt(".field.textarea > textarea");for(let e=0;e<t.length;e++)gt(t[e],"focus",Ef),gt(t[e],"blur",wf),gt(t[e],"input",hI),my(t[e])}function vI(){const t=Zt("input[type=password] ~ :is(i, a)");for(let e=0;e<t.length;e++)gt(t[e],"click",fI)}function Aa(t){ta(t,"number")&&!t.value&&(t.value=""),dy(t)}function If(t,e){if((e==null?void 0:e.key)==="Enter"){const r=_f(t);if(!ta(r,"file"))return;r.click();return}const n=yf(t);ta(n,"text")&&(n.value=t.files?Array.from(t.files).map(r=>r.name).join(", "):"",n.readOnly=!0,gt(n,"keydown",cI,!1),Aa(n))}function Tf(t,e){if((e==null?void 0:e.key)==="Enter"){const r=_f(t);if(!ta(r,"color"))return;r.click();return}const n=yf(t);ta(n,"text")&&(n.readOnly=!0,n.value=t.value,gt(n,"keydown",uI,!1),Aa(n))}function my(t){dy(t);const e=Cs(t);e.removeAttribute("style"),xt(e,"min")&&e.style.setProperty("--_size",`${Math.min(192,Math.max(t.scrollHeight,e.offsetHeight))}px`)}function EI(){dI(),mI(),gI(),pI(),_I(),yI(),vI()}function sg(t){const e=t.target;!cr(e,"input")&&!cr(e,"select")||(e.type==="range"?(e.focus(),py(e)):gy())}function wI(t){if(!yc())return;const e=t.target,n=Cs(e);xt(n,"vertical")&&document.body.classList.add("no-scroll")}function II(t){if(!yc())return;const e=t.target,n=Cs(e);xt(n,"vertical")&&document.body.classList.remove("no-scroll")}function gy(){const t=document.body,e=Zt(".slider > input[type=range]");e.length?gt(t,"input",sg,!1):pf(t,"input",sg,!1);for(let n=0;n<e.length;n++)py(e[n])}function TI(){const t=getComputedStyle(document.documentElement).getPropertyValue("--size")||"16px";return t.includes("%")?parseInt(t)*16/100:t.includes("em")?parseInt(t)*16:parseInt(t)}function py(t){gt(t,"focus",wI),gt(t,"blur",II);const e=Cs(t),n=As("span",e),r=Zt("input",e);if(!r.length||!n)return;const s=TI(),i=xt(e,"max")?0:.25*s*100/r[0].offsetWidth,o=[],a=[];for(let g=0,E=r.length;g<E;g++){const w=parseFloat(r[g].min)||0,R=parseFloat(r[g].max)||100,L=parseFloat(r[g].value)||0,S=(L-w)*100/(R-w),T=i/2-i*S/100;o.push(S+T),a.push(L)}let l=o[0],u=0,h=100-u-l,f=a[0],m=a[1]||0;r.length>1&&(l=Math.abs(o[1]-o[0]),u=o[1]>o[0]?o[0]:o[1],h=100-u-l,m>f&&(f=a[1]||0,m=a[0])),e.style.setProperty("--_start",`${u}%`),e.style.setProperty("--_end",`${h}%`),e.style.setProperty("--_value1",`'${f}'`),e.style.setProperty("--_value2",`'${m}'`)}function bI(){gy()}const wn={light:"",dark:""};function ih(){var t;return(t=document==null?void 0:document.body)!=null&&t.classList.contains("dark")?"dark":"light"}function AI(){if(wn.light&&wn.dark)return wn;const t=document.body,e=document.createElement("body");e.className="light",t.appendChild(e);const n=document.createElement("body");n.className="dark",t.appendChild(n);const r=getComputedStyle(e),s=getComputedStyle(n),i=["--primary","--on-primary","--primary-container","--on-primary-container","--secondary","--on-secondary","--secondary-container","--on-secondary-container","--tertiary","--on-tertiary","--tertiary-container","--on-tertiary-container","--error","--on-error","--error-container","--on-error-container","--background","--on-background","--surface","--on-surface","--surface-variant","--on-surface-variant","--outline","--outline-variant","--shadow","--scrim","--inverse-surface","--inverse-on-surface","--inverse-primary","--surface-dim","--surface-bright","--surface-container-lowest","--surface-container-low","--surface-container","--surface-container-high","--surface-container-highest"];for(let o=0,a=i.length;o<a;o++)wn.light+=i[o]+":"+r.getPropertyValue(i[o])+";",wn.dark+=i[o]+":"+s.getPropertyValue(i[o])+";";return t.removeChild(e),t.removeChild(n),wn}function CI(t){const e=globalThis,n=document.body;if(!t||!e.materialDynamicColors)return AI();const r=ih();return t.light&&t.dark?(wn.light=t.light,wn.dark=t.dark,n.setAttribute("style",t[r]),t):e.materialDynamicColors(t).then(s=>{const i=o=>{let a="";for(let l=0,u=Object.keys(o),h=u.length;l<h;l++){const f=u[l],m=o[f],g=f.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();a+="--"+g+":"+m+";"}return a};return wn.light=i(s.light),wn.dark=i(s.dark),n.setAttribute("style",wn[r]),wn})}function _y(t){const e=globalThis,n=document.body;if(!n)return t;if(!t)return ih();t==="auto"&&(t=Zw()?"dark":"light"),n.classList.remove("light","dark"),n.classList.add(t);const r=t==="light"?wn.light:wn.dark;return e.materialDynamicColors&&n.setAttribute("style",r),ih()}const Il=[];function yy(t){if(t.key==="Escape"){const e=t.currentTarget;Ey(e,e)}}function SI(t){(As("[autofocus]",t)??t).focus()}function vy(t,e){Ln(rI(t.id),"active"),Ln(t,"active"),Ln(e,"active"),t.close(),Il.pop();const n=Il[Il.length-1];n?n.focus():yc()&&document.body.classList.remove("no-scroll")}async function PI(t,e,n,r){!cr(r,"button")&&!xt(r,"button")&&!xt(r,"chip")&&ds(r,"active"),ds(e,"active"),ds(t,"active"),n?t.showModal():t.show(),await fy(90),n||gt(t,"keydown",yy,!1),Il.push(t),yc()&&document.body.classList.add("no-scroll"),SI(t)}function RI(t){const e=t.currentTarget,n=yf(e);cr(n,"dialog")&&vy(n,e)}async function Ey(t,e){vf();let n=_f(e);const r=xt(e,"active")||e.open,s=xt(e,"modal");s||pf(e,"keydown",yy,!1),xt(n,"overlay")||(n=nI({class:"overlay"}),tI(n,e),await fy(90)),s||gt(n,"click",RI,!1),r?vy(e,n):PI(e,n,s,t)}let Iu;function wy(t){pf(document.body,"click",wy);const e=t.target,n=Zt("menu.active");for(let r=0;r<n.length;r++)Iy(e,n[r],t)}function kI(t){setTimeout(()=>{const e=As(".field > input",t);e?e.focus():t.focus()},90)}function Iy(t,e,n){Iu&&clearTimeout(Iu),Iu=setTimeout(()=>{gt(document.body,"click",wy),cr(document.activeElement,"input")||vf();const r=xt(e,"active"),s=(n==null?void 0:n.target)===t,i=!!t.closest("menu");if(!r&&i||r&&s){Ln(e,"active");return}Ln(Zt("menu.active"),"active"),ds(e,"active"),kI(e)},90)}let Lo;function DI(t){const e=t.currentTarget;Ln(e,"active"),Lo&&clearTimeout(Lo)}function NI(t,e){vf();const n=Zt(".snackbar.active");for(let r=0;r<n.length;r++)Ln(n[r],"active");ds(t,"active"),gt(t,"click",DI),Lo&&clearTimeout(Lo),e!==-1&&(Lo=setTimeout(()=>{Ln(t,"active")},e??6e3))}function OI(t){const e=Cs(t);e&&Ln(Zt(":scope > .page",e),"active"),ds(t,"active")}function LI(t){MI(t)}function MI(t){const e=t.currentTarget,n=e.getBoundingClientRect(),r=Math.max(n.width,n.height),s=r/2,i=t.clientX-n.left-s,o=t.clientY-n.top-s,a=document.createElement("div");a.className="ripple-js";const l=document.createElement("div");l.style.inlineSize=l.style.blockSize=`${r}px`,l.style.left=`${i}px`,l.style.top=`${o}px`,l.addEventListener("animationend",()=>{a.remove()}),a.appendChild(l),e.appendChild(a)}function xI(){const t=Zt(".slow-ripple, .ripple, .fast-ripple");for(let e=0;e<t.length;e++)gt(t[e],"pointerdown",LI)}const Mo=globalThis;let Tu,bu;function ig(){Tu&&clearTimeout(Tu),Tu=setTimeout(async()=>await by(),180)}async function bf(t,e,n,r){if(!e&&(e=As(t.getAttribute("data-ui")),!e)){t.classList.toggle("active");return}if(iI(t),cr(e,"dialog")){await Ey(t,e);return}if(cr(e,"menu")){Iy(t,e,r);return}if(xt(e,"snackbar")){NI(e,n);return}if(xt(e,"page")){OI(e);return}if(xt(e,"active")){Ln(t,"active"),Ln(e,"active");return}ds(e,"active")}function VI(t){bf(t.currentTarget,null,null,t)}function FI(t){t.key==="Enter"&&bf(t.currentTarget,null,null,t)}function Ty(){Mo.ui||bu||!Mo.MutationObserver||(bu=new MutationObserver(ig),bu.observe(document.body,{childList:!0,subtree:!0}),ig())}function UI(){const t=Zt("[data-ui]");for(let e=0,n=t.length;e<n;e++)gt(t[e],"click",VI),cr(t[e],"a")&&!t[e].getAttribute("href")&&gt(t[e],"keydown",FI)}function by(t,e){if(t){if(t==="setup"){Ty();return}if(t==="guid")return eI();if(t==="mode")return _y(e);if(t==="theme")return CI(e);const n=As(t);if(!n)return;bf(n,n,e)}UI(),EI(),bI(),xI()}function $I(){var t;if(Mo.ui)return;const e=(t=Mo.document)==null?void 0:t.body;e&&!e.classList.contains("dark")&&!e.classList.contains("light")&&_y("auto"),Ty(),Mo.ui=by}$I();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(t){return t<0?-1:t===0?0:1}function xo(t,e,n){return(1-n)*t+n*e}function BI(t,e,n){return n<t?t:n>e?e:n}function Fl(t,e,n){return n<t?t:n>e?e:n}function og(t){return t=t%360,t<0&&(t=t+360),t}function Af(t){return t=t%360,t<0&&(t=t+360),t}function jI(t,e){return Af(e-t)<=180?1:-1}function Ay(t,e){return 180-Math.abs(Math.abs(t-e)-180)}function oh(t,e){const n=t[0]*e[0][0]+t[1]*e[0][1]+t[2]*e[0][2],r=t[0]*e[1][0]+t[1]*e[1][1]+t[2]*e[1][2],s=t[0]*e[2][0]+t[1]*e[2][1]+t[2]*e[2][2];return[n,r,s]}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const Cy=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],HI=[[3.2413774792388685,-1.5376652402851851,-.49885366846268053],[-.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-.20395524564742123,1.0571799111220335]],Cf=[95.047,100,108.883];function vc(t,e,n){return(255<<24|(t&255)<<16|(e&255)<<8|n&255)>>>0}function ag(t){const e=Gs(t[0]),n=Gs(t[1]),r=Gs(t[2]);return vc(e,n,r)}function WI(t){return t>>24&255}function Ec(t){return t>>16&255}function wc(t){return t>>8&255}function Ic(t){return t&255}function Sy(t,e,n){const r=HI,s=r[0][0]*t+r[0][1]*e+r[0][2]*n,i=r[1][0]*t+r[1][1]*e+r[1][2]*n,o=r[2][0]*t+r[2][1]*e+r[2][2]*n,a=Gs(s),l=Gs(i),u=Gs(o);return vc(a,l,u)}function qI(t){const e=Or(Ec(t)),n=Or(wc(t)),r=Or(Ic(t));return oh([e,n,r],Cy)}function KI(t,e,n){const r=Cf,s=(t+16)/116,i=e/500+s,o=s-n/200,a=Tl(i),l=Tl(s),u=Tl(o),h=a*r[0],f=l*r[1],m=u*r[2];return Sy(h,f,m)}function GI(t){const e=Or(Ec(t)),n=Or(wc(t)),r=Or(Ic(t)),s=Cy,i=s[0][0]*e+s[0][1]*n+s[0][2]*r,o=s[1][0]*e+s[1][1]*n+s[1][2]*r,a=s[2][0]*e+s[2][1]*n+s[2][2]*r,l=Cf,u=i/l[0],h=o/l[1],f=a/l[2],m=Vo(u),g=Vo(h),E=Vo(f),w=116*g-16,R=500*(m-g),L=200*(g-E);return[w,R,L]}function zI(t){const e=cs(t),n=Gs(e);return vc(n,n,n)}function ah(t){const e=qI(t)[1];return 116*Vo(e/100)-16}function cs(t){return 100*Tl((t+16)/116)}function lh(t){return Vo(t/100)*116-16}function Or(t){const e=t/255;return e<=.040449936?e/12.92*100:Math.pow((e+.055)/1.055,2.4)*100}function Gs(t){const e=t/100;let n=0;return e<=.0031308?n=e*12.92:n=1.055*Math.pow(e,1/2.4)-.055,BI(0,255,Math.round(n*255))}function YI(){return Cf}function Vo(t){const e=.008856451679035631,n=24389/27;return t>e?Math.pow(t,1/3):(n*t+16)/116}function Tl(t){const e=.008856451679035631,n=24389/27,r=t*t*t;return r>e?r:(116*t-16)/n}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Rr=class Py{static make(e=YI(),n=200/Math.PI*cs(50)/100,r=50,s=2,i=!1){const o=e,a=o[0]*.401288+o[1]*.650173+o[2]*-.051461,l=o[0]*-.250268+o[1]*1.204414+o[2]*.045854,u=o[0]*-.002079+o[1]*.048952+o[2]*.953127,h=.8+s/10,f=h>=.9?xo(.59,.69,(h-.9)*10):xo(.525,.59,(h-.8)*10);let m=i?1:h*(1-1/3.6*Math.exp((-n-42)/92));m=m>1?1:m<0?0:m;const g=h,E=[m*(100/a)+1-m,m*(100/l)+1-m,m*(100/u)+1-m],w=1/(5*n+1),R=w*w*w*w,L=1-R,S=R*n+.1*L*L*Math.cbrt(5*n),T=cs(r)/e[1],A=1.48+Math.sqrt(T),U=.725/Math.pow(T,.2),F=U,y=[Math.pow(S*E[0]*a/100,.42),Math.pow(S*E[1]*l/100,.42),Math.pow(S*E[2]*u/100,.42)],_=[400*y[0]/(y[0]+27.13),400*y[1]/(y[1]+27.13),400*y[2]/(y[2]+27.13)],v=(2*_[0]+_[1]+.05*_[2])*U;return new Py(T,v,U,F,f,g,E,S,Math.pow(S,.25),A)}constructor(e,n,r,s,i,o,a,l,u,h){this.n=e,this.aw=n,this.nbb=r,this.ncb=s,this.c=i,this.nc=o,this.rgbD=a,this.fl=l,this.fLRoot=u,this.z=h}};Rr.DEFAULT=Rr.make();/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Lt{constructor(e,n,r,s,i,o,a,l,u){this.hue=e,this.chroma=n,this.j=r,this.q=s,this.m=i,this.s=o,this.jstar=a,this.astar=l,this.bstar=u}distance(e){const n=this.jstar-e.jstar,r=this.astar-e.astar,s=this.bstar-e.bstar,i=Math.sqrt(n*n+r*r+s*s);return 1.41*Math.pow(i,.63)}static fromInt(e){return Lt.fromIntInViewingConditions(e,Rr.DEFAULT)}static fromIntInViewingConditions(e,n){const r=(e&16711680)>>16,s=(e&65280)>>8,i=e&255,o=Or(r),a=Or(s),l=Or(i),u=.41233895*o+.35762064*a+.18051042*l,h=.2126*o+.7152*a+.0722*l,f=.01932141*o+.11916382*a+.95034478*l,m=.401288*u+.650173*h-.051461*f,g=-.250268*u+1.204414*h+.045854*f,E=-.002079*u+.048952*h+.953127*f,w=n.rgbD[0]*m,R=n.rgbD[1]*g,L=n.rgbD[2]*E,S=Math.pow(n.fl*Math.abs(w)/100,.42),T=Math.pow(n.fl*Math.abs(R)/100,.42),A=Math.pow(n.fl*Math.abs(L)/100,.42),U=vn(w)*400*S/(S+27.13),F=vn(R)*400*T/(T+27.13),y=vn(L)*400*A/(A+27.13),_=(11*U+-12*F+y)/11,v=(U+F-2*y)/9,N=(20*U+20*F+21*y)/20,V=(40*U+20*F+y)/20,x=Math.atan2(v,_)*180/Math.PI,P=x<0?x+360:x>=360?x-360:x,be=P*Math.PI/180,Ge=V*n.nbb,ke=100*Math.pow(Ge/n.aw,n.c*n.z),Ce=4/n.c*Math.sqrt(ke/100)*(n.aw+4)*n.fLRoot,Ie=P<20.14?P+360:P,ut=.25*(Math.cos(Ie*Math.PI/180+2)+3.8),yt=5e4/13*ut*n.nc*n.ncb*Math.sqrt(_*_+v*v)/(N+.305),Je=Math.pow(yt,.9)*Math.pow(1.64-Math.pow(.29,n.n),.73),$e=Je*Math.sqrt(ke/100),He=$e*n.fLRoot,Ut=50*Math.sqrt(Je*n.c/(n.aw+4)),kt=(1+100*.007)*ke/(1+.007*ke),ft=1/.0228*Math.log(1+.0228*He),z=ft*Math.cos(be),ae=ft*Math.sin(be);return new Lt(P,$e,ke,Ce,He,Ut,kt,z,ae)}static fromJch(e,n,r){return Lt.fromJchInViewingConditions(e,n,r,Rr.DEFAULT)}static fromJchInViewingConditions(e,n,r,s){const i=4/s.c*Math.sqrt(e/100)*(s.aw+4)*s.fLRoot,o=n*s.fLRoot,a=n/Math.sqrt(e/100),l=50*Math.sqrt(a*s.c/(s.aw+4)),u=r*Math.PI/180,h=(1+100*.007)*e/(1+.007*e),f=1/.0228*Math.log(1+.0228*o),m=f*Math.cos(u),g=f*Math.sin(u);return new Lt(r,n,e,i,o,l,h,m,g)}static fromUcs(e,n,r){return Lt.fromUcsInViewingConditions(e,n,r,Rr.DEFAULT)}static fromUcsInViewingConditions(e,n,r,s){const i=n,o=r,a=Math.sqrt(i*i+o*o),l=(Math.exp(a*.0228)-1)/.0228/s.fLRoot;let u=Math.atan2(o,i)*(180/Math.PI);u<0&&(u+=360);const h=e/(1-(e-100)*.007);return Lt.fromJchInViewingConditions(h,l,u,s)}toInt(){return this.viewed(Rr.DEFAULT)}viewed(e){const n=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),r=Math.pow(n/Math.pow(1.64-Math.pow(.29,e.n),.73),1/.9),s=this.hue*Math.PI/180,i=.25*(Math.cos(s+2)+3.8),o=e.aw*Math.pow(this.j/100,1/e.c/e.z),a=i*(5e4/13)*e.nc*e.ncb,l=o/e.nbb,u=Math.sin(s),h=Math.cos(s),f=23*(l+.305)*r/(23*a+11*r*h+108*r*u),m=f*h,g=f*u,E=(460*l+451*m+288*g)/1403,w=(460*l-891*m-261*g)/1403,R=(460*l-220*m-6300*g)/1403,L=Math.max(0,27.13*Math.abs(E)/(400-Math.abs(E))),S=vn(E)*(100/e.fl)*Math.pow(L,1/.42),T=Math.max(0,27.13*Math.abs(w)/(400-Math.abs(w))),A=vn(w)*(100/e.fl)*Math.pow(T,1/.42),U=Math.max(0,27.13*Math.abs(R)/(400-Math.abs(R))),F=vn(R)*(100/e.fl)*Math.pow(U,1/.42),y=S/e.rgbD[0],_=A/e.rgbD[1],v=F/e.rgbD[2],N=1.86206786*y-1.01125463*_+.14918677*v,V=.38752654*y+.62144744*_-.00897398*v,x=-.0158415*y-.03412294*_+1.04996444*v;return Sy(N,V,x)}static fromXyzInViewingConditions(e,n,r,s){const i=.401288*e+.650173*n-.051461*r,o=-.250268*e+1.204414*n+.045854*r,a=-.002079*e+.048952*n+.953127*r,l=s.rgbD[0]*i,u=s.rgbD[1]*o,h=s.rgbD[2]*a,f=Math.pow(s.fl*Math.abs(l)/100,.42),m=Math.pow(s.fl*Math.abs(u)/100,.42),g=Math.pow(s.fl*Math.abs(h)/100,.42),E=vn(l)*400*f/(f+27.13),w=vn(u)*400*m/(m+27.13),R=vn(h)*400*g/(g+27.13),L=(11*E+-12*w+R)/11,S=(E+w-2*R)/9,T=(20*E+20*w+21*R)/20,A=(40*E+20*w+R)/20,U=Math.atan2(S,L)*180/Math.PI,F=U<0?U+360:U>=360?U-360:U,y=F*Math.PI/180,_=A*s.nbb,v=100*Math.pow(_/s.aw,s.c*s.z),N=4/s.c*Math.sqrt(v/100)*(s.aw+4)*s.fLRoot,V=F<20.14?F+360:F,x=1/4*(Math.cos(V*Math.PI/180+2)+3.8),P=5e4/13*x*s.nc*s.ncb*Math.sqrt(L*L+S*S)/(T+.305),be=Math.pow(P,.9)*Math.pow(1.64-Math.pow(.29,s.n),.73),Ge=be*Math.sqrt(v/100),ke=Ge*s.fLRoot,Ce=50*Math.sqrt(be*s.c/(s.aw+4)),Ie=(1+100*.007)*v/(1+.007*v),ut=Math.log(1+.0228*ke)/.0228,yt=ut*Math.cos(y),Je=ut*Math.sin(y);return new Lt(F,Ge,v,N,ke,Ce,Ie,yt,Je)}xyzInViewingConditions(e){const n=this.chroma===0||this.j===0?0:this.chroma/Math.sqrt(this.j/100),r=Math.pow(n/Math.pow(1.64-Math.pow(.29,e.n),.73),1/.9),s=this.hue*Math.PI/180,i=.25*(Math.cos(s+2)+3.8),o=e.aw*Math.pow(this.j/100,1/e.c/e.z),a=i*(5e4/13)*e.nc*e.ncb,l=o/e.nbb,u=Math.sin(s),h=Math.cos(s),f=23*(l+.305)*r/(23*a+11*r*h+108*r*u),m=f*h,g=f*u,E=(460*l+451*m+288*g)/1403,w=(460*l-891*m-261*g)/1403,R=(460*l-220*m-6300*g)/1403,L=Math.max(0,27.13*Math.abs(E)/(400-Math.abs(E))),S=vn(E)*(100/e.fl)*Math.pow(L,1/.42),T=Math.max(0,27.13*Math.abs(w)/(400-Math.abs(w))),A=vn(w)*(100/e.fl)*Math.pow(T,1/.42),U=Math.max(0,27.13*Math.abs(R)/(400-Math.abs(R))),F=vn(R)*(100/e.fl)*Math.pow(U,1/.42),y=S/e.rgbD[0],_=A/e.rgbD[1],v=F/e.rgbD[2],N=1.86206786*y-1.01125463*_+.14918677*v,V=.38752654*y+.62144744*_-.00897398*v,x=-.0158415*y-.03412294*_+1.04996444*v;return[N,V,x]}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let us=class Se{static sanitizeRadians(e){return(e+Math.PI*8)%(Math.PI*2)}static trueDelinearized(e){const n=e/100;let r=0;return n<=.0031308?r=n*12.92:r=1.055*Math.pow(n,1/2.4)-.055,r*255}static chromaticAdaptation(e){const n=Math.pow(Math.abs(e),.42);return vn(e)*400*n/(n+27.13)}static hueOf(e){const n=oh(e,Se.SCALED_DISCOUNT_FROM_LINRGB),r=Se.chromaticAdaptation(n[0]),s=Se.chromaticAdaptation(n[1]),i=Se.chromaticAdaptation(n[2]),o=(11*r+-12*s+i)/11,a=(r+s-2*i)/9;return Math.atan2(a,o)}static areInCyclicOrder(e,n,r){const s=Se.sanitizeRadians(n-e),i=Se.sanitizeRadians(r-e);return s<i}static intercept(e,n,r){return(n-e)/(r-e)}static lerpPoint(e,n,r){return[e[0]+(r[0]-e[0])*n,e[1]+(r[1]-e[1])*n,e[2]+(r[2]-e[2])*n]}static setCoordinate(e,n,r,s){const i=Se.intercept(e[s],n,r[s]);return Se.lerpPoint(e,i,r)}static isBounded(e){return 0<=e&&e<=100}static nthVertex(e,n){const r=Se.Y_FROM_LINRGB[0],s=Se.Y_FROM_LINRGB[1],i=Se.Y_FROM_LINRGB[2],o=n%4<=1?0:100,a=n%2===0?0:100;if(n<4){const l=o,u=a,h=(e-l*s-u*i)/r;return Se.isBounded(h)?[h,l,u]:[-1,-1,-1]}else if(n<8){const l=o,u=a,h=(e-u*r-l*i)/s;return Se.isBounded(h)?[u,h,l]:[-1,-1,-1]}else{const l=o,u=a,h=(e-l*r-u*s)/i;return Se.isBounded(h)?[l,u,h]:[-1,-1,-1]}}static bisectToSegment(e,n){let r=[-1,-1,-1],s=r,i=0,o=0,a=!1,l=!0;for(let u=0;u<12;u++){const h=Se.nthVertex(e,u);if(h[0]<0)continue;const f=Se.hueOf(h);if(!a){r=h,s=h,i=f,o=f,a=!0;continue}(l||Se.areInCyclicOrder(i,f,o))&&(l=!1,Se.areInCyclicOrder(i,n,f)?(s=h,o=f):(r=h,i=f))}return[r,s]}static midpoint(e,n){return[(e[0]+n[0])/2,(e[1]+n[1])/2,(e[2]+n[2])/2]}static criticalPlaneBelow(e){return Math.floor(e-.5)}static criticalPlaneAbove(e){return Math.ceil(e-.5)}static bisectToLimit(e,n){const r=Se.bisectToSegment(e,n);let s=r[0],i=Se.hueOf(s),o=r[1];for(let a=0;a<3;a++)if(s[a]!==o[a]){let l=-1,u=255;s[a]<o[a]?(l=Se.criticalPlaneBelow(Se.trueDelinearized(s[a])),u=Se.criticalPlaneAbove(Se.trueDelinearized(o[a]))):(l=Se.criticalPlaneAbove(Se.trueDelinearized(s[a])),u=Se.criticalPlaneBelow(Se.trueDelinearized(o[a])));for(let h=0;h<8&&!(Math.abs(u-l)<=1);h++){const f=Math.floor((l+u)/2),m=Se.CRITICAL_PLANES[f],g=Se.setCoordinate(s,m,o,a),E=Se.hueOf(g);Se.areInCyclicOrder(i,n,E)?(o=g,u=f):(s=g,i=E,l=f)}}return Se.midpoint(s,o)}static inverseChromaticAdaptation(e){const n=Math.abs(e),r=Math.max(0,27.13*n/(400-n));return vn(e)*Math.pow(r,1/.42)}static findResultByJ(e,n,r){let s=Math.sqrt(r)*11;const i=Rr.DEFAULT,o=1/Math.pow(1.64-Math.pow(.29,i.n),.73),a=.25*(Math.cos(e+2)+3.8)*(5e4/13)*i.nc*i.ncb,l=Math.sin(e),u=Math.cos(e);for(let h=0;h<5;h++){const f=s/100,m=n===0||s===0?0:n/Math.sqrt(f),g=Math.pow(m*o,1/.9),E=i.aw*Math.pow(f,1/i.c/i.z)/i.nbb,w=23*(E+.305)*g/(23*a+11*g*u+108*g*l),R=w*u,L=w*l,S=(460*E+451*R+288*L)/1403,T=(460*E-891*R-261*L)/1403,A=(460*E-220*R-6300*L)/1403,U=Se.inverseChromaticAdaptation(S),F=Se.inverseChromaticAdaptation(T),y=Se.inverseChromaticAdaptation(A),_=oh([U,F,y],Se.LINRGB_FROM_SCALED_DISCOUNT);if(_[0]<0||_[1]<0||_[2]<0)return 0;const v=Se.Y_FROM_LINRGB[0],N=Se.Y_FROM_LINRGB[1],V=Se.Y_FROM_LINRGB[2],x=v*_[0]+N*_[1]+V*_[2];if(x<=0)return 0;if(h===4||Math.abs(x-r)<.002)return _[0]>100.01||_[1]>100.01||_[2]>100.01?0:ag(_);s=s-(x-r)*s/(2*x)}return 0}static solveToInt(e,n,r){if(n<1e-4||r<1e-4||r>99.9999)return zI(r);e=Af(e);const s=e/180*Math.PI,i=cs(r),o=Se.findResultByJ(s,n,i);if(o!==0)return o;const a=Se.bisectToLimit(i,s);return ag(a)}static solveToCam(e,n,r){return Lt.fromInt(Se.solveToInt(e,n,r))}};us.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,.0002795742885861124],[.0005891086651375999,.0029785502573438758,.0003270666104008398],[.00010146692491640572,.0005364214359186694,.0032979401770712076]];us.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]];us.Y_FROM_LINRGB=[.2126,.7152,.0722];us.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776];/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ct{static from(e,n,r){return new Ct(us.solveToInt(e,n,r))}static fromInt(e){return new Ct(e)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(e){this.setInternalState(us.solveToInt(e,this.internalChroma,this.internalTone))}get chroma(){return this.internalChroma}set chroma(e){this.setInternalState(us.solveToInt(this.internalHue,e,this.internalTone))}get tone(){return this.internalTone}set tone(e){this.setInternalState(us.solveToInt(this.internalHue,this.internalChroma,e))}constructor(e){this.argb=e;const n=Lt.fromInt(e);this.internalHue=n.hue,this.internalChroma=n.chroma,this.internalTone=ah(e),this.argb=e}setInternalState(e){const n=Lt.fromInt(e);this.internalHue=n.hue,this.internalChroma=n.chroma,this.internalTone=ah(e),this.argb=e}inViewingConditions(e){const n=Lt.fromInt(this.toInt()).xyzInViewingConditions(e),r=Lt.fromXyzInViewingConditions(n[0],n[1],n[2],Rr.make());return Ct.from(r.hue,r.chroma,lh(n[1]))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Sf{static harmonize(e,n){const r=Ct.fromInt(e),s=Ct.fromInt(n),i=Ay(r.hue,s.hue),o=Math.min(i*.5,15),a=Af(r.hue+o*jI(r.hue,s.hue));return Ct.from(a,r.chroma,r.tone).toInt()}static hctHue(e,n,r){const s=Sf.cam16Ucs(e,n,r),i=Lt.fromInt(s),o=Lt.fromInt(e);return Ct.from(i.hue,o.chroma,ah(e)).toInt()}static cam16Ucs(e,n,r){const s=Lt.fromInt(e),i=Lt.fromInt(n),o=s.jstar,a=s.astar,l=s.bstar,u=i.jstar,h=i.astar,f=i.bstar,m=o+(u-o)*r,g=a+(h-a)*r,E=l+(f-l)*r;return Lt.fromUcs(m,g,E).toInt()}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Dt{static ratioOfTones(e,n){return e=Fl(0,100,e),n=Fl(0,100,n),Dt.ratioOfYs(cs(e),cs(n))}static ratioOfYs(e,n){const r=e>n?e:n,s=r===n?e:n;return(r+5)/(s+5)}static lighter(e,n){if(e<0||e>100)return-1;const r=cs(e),s=n*(r+5)-5,i=Dt.ratioOfYs(s,r),o=Math.abs(i-n);if(i<n&&o>.04)return-1;const a=lh(s)+.4;return a<0||a>100?-1:a}static darker(e,n){if(e<0||e>100)return-1;const r=cs(e),s=(r+5)/n-5,i=Dt.ratioOfYs(r,s),o=Math.abs(i-n);if(i<n&&o>.04)return-1;const a=lh(s)-.4;return a<0||a>100?-1:a}static lighterUnsafe(e,n){const r=Dt.lighter(e,n);return r<0?100:r}static darkerUnsafe(e,n){const r=Dt.darker(e,n);return r<0?0:r}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Pf{static isDisliked(e){const n=Math.round(e.hue)>=90&&Math.round(e.hue)<=111,r=Math.round(e.chroma)>16,s=Math.round(e.tone)<65;return n&&r&&s}static fixIfDisliked(e){return Pf.isDisliked(e)?Ct.from(e.hue,e.chroma,70):e}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class le{static fromPalette(e){return new le(e.name??"",e.palette,e.tone,e.isBackground??!1,e.background,e.secondBackground,e.contrastCurve,e.toneDeltaPair)}constructor(e,n,r,s,i,o,a,l){if(this.name=e,this.palette=n,this.tone=r,this.isBackground=s,this.background=i,this.secondBackground=o,this.contrastCurve=a,this.toneDeltaPair=l,this.hctCache=new Map,!i&&o)throw new Error(`Color ${e} has secondBackgrounddefined, but background is not defined.`);if(!i&&a)throw new Error(`Color ${e} has contrastCurvedefined, but background is not defined.`);if(i&&!a)throw new Error(`Color ${e} has backgrounddefined, but contrastCurve is not defined.`)}getArgb(e){return this.getHct(e).toInt()}getHct(e){const n=this.hctCache.get(e);if(n!=null)return n;const r=this.getTone(e),s=this.palette(e).getHct(r);return this.hctCache.size>4&&this.hctCache.clear(),this.hctCache.set(e,s),s}getTone(e){const n=e.contrastLevel<0;if(this.toneDeltaPair){const r=this.toneDeltaPair(e),s=r.roleA,i=r.roleB,o=r.delta,a=r.polarity,l=r.stayTogether,u=this.background(e).getTone(e),h=a==="nearer"||a==="lighter"&&!e.isDark||a==="darker"&&e.isDark,f=h?s:i,m=h?i:s,g=this.name===f.name,E=e.isDark?1:-1,w=f.contrastCurve.getContrast(e.contrastLevel),R=m.contrastCurve.getContrast(e.contrastLevel),L=f.tone(e);let S=Dt.ratioOfTones(u,L)>=w?L:le.foregroundTone(u,w);const T=m.tone(e);let A=Dt.ratioOfTones(u,T)>=R?T:le.foregroundTone(u,R);return n&&(S=le.foregroundTone(u,w),A=le.foregroundTone(u,R)),(A-S)*E>=o||(A=Fl(0,100,S+o*E),(A-S)*E>=o||(S=Fl(0,100,A-o*E))),50<=S&&S<60?E>0?(S=60,A=Math.max(A,S+o*E)):(S=49,A=Math.min(A,S+o*E)):50<=A&&A<60&&(l?E>0?(S=60,A=Math.max(A,S+o*E)):(S=49,A=Math.min(A,S+o*E)):E>0?A=60:A=49),g?S:A}else{let r=this.tone(e);if(this.background==null)return r;const s=this.background(e).getTone(e),i=this.contrastCurve.getContrast(e.contrastLevel);if(Dt.ratioOfTones(s,r)>=i||(r=le.foregroundTone(s,i)),n&&(r=le.foregroundTone(s,i)),this.isBackground&&50<=r&&r<60&&(Dt.ratioOfTones(49,s)>=i?r=49:r=60),this.secondBackground){const[o,a]=[this.background,this.secondBackground],[l,u]=[o(e).getTone(e),a(e).getTone(e)],[h,f]=[Math.max(l,u),Math.min(l,u)];if(Dt.ratioOfTones(h,r)>=i&&Dt.ratioOfTones(f,r)>=i)return r;const m=Dt.lighter(h,i),g=Dt.darker(f,i),E=[];return m!==-1&&E.push(m),g!==-1&&E.push(g),le.tonePrefersLightForeground(l)||le.tonePrefersLightForeground(u)?m<0?100:m:E.length===1?E[0]:g<0?0:g}return r}}static foregroundTone(e,n){const r=Dt.lighterUnsafe(e,n),s=Dt.darkerUnsafe(e,n),i=Dt.ratioOfTones(r,e),o=Dt.ratioOfTones(s,e);if(le.tonePrefersLightForeground(e)){const a=Math.abs(i-o)<.1&&i<n&&o<n;return i>=n||i>=o||a?r:s}else return o>=n||o>=i?s:r}static tonePrefersLightForeground(e){return Math.round(e)<60}static toneAllowsLightForeground(e){return Math.round(e)<=49}static enableLightForeground(e){return le.tonePrefersLightForeground(e)&&!le.toneAllowsLightForeground(e)?49:e}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var na;(function(t){t[t.MONOCHROME=0]="MONOCHROME",t[t.NEUTRAL=1]="NEUTRAL",t[t.TONAL_SPOT=2]="TONAL_SPOT",t[t.VIBRANT=3]="VIBRANT",t[t.EXPRESSIVE=4]="EXPRESSIVE",t[t.FIDELITY=5]="FIDELITY",t[t.CONTENT=6]="CONTENT",t[t.RAINBOW=7]="RAINBOW",t[t.FRUIT_SALAD=8]="FRUIT_SALAD"})(na||(na={}));/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Ue{constructor(e,n,r,s){this.low=e,this.normal=n,this.medium=r,this.high=s}getContrast(e){return e<=-1?this.low:e<0?xo(this.low,this.normal,(e- -1)/1):e<.5?xo(this.normal,this.medium,(e-0)/.5):e<1?xo(this.medium,this.high,(e-.5)/.5):this.high}}/**
* @license
* Copyright 2023 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class Tn{constructor(e,n,r,s,i){this.roleA=e,this.roleB=n,this.delta=r,this.polarity=s,this.stayTogether=i}}/**
* @license
* Copyright 2022 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Xi(t){return t.variant===na.FIDELITY||t.variant===na.CONTENT}function It(t){return t.variant===na.MONOCHROME}function QI(t,e,n,r){let s=n,i=Ct.from(t,e,n);if(i.chroma<e){let o=i.chroma;for(;i.chroma<e;){s+=r?-1:1;const a=Ct.from(t,e,s);if(o>a.chroma||Math.abs(a.chroma-e)<.4)break;const l=Math.abs(a.chroma-e),u=Math.abs(i.chroma-e);l<u&&(i=a),o=Math.max(o,a.chroma)}}return s}function JI(t){return Rr.make(void 0,void 0,t.isDark?30:80,void 0,void 0)}function Rf(t,e){const n=t.inViewingConditions(JI(e));return le.tonePrefersLightForeground(t.tone)&&!le.toneAllowsLightForeground(n.tone)?le.enableLightForeground(t.tone):le.enableLightForeground(n.tone)}class G{static highestSurface(e){return e.isDark?G.surfaceBright:G.surfaceDim}}G.contentAccentToneDelta=15;G.primaryPaletteKeyColor=le.fromPalette({name:"primary_palette_key_color",palette:t=>t.primaryPalette,tone:t=>t.primaryPalette.keyColor.tone});G.secondaryPaletteKeyColor=le.fromPalette({name:"secondary_palette_key_color",palette:t=>t.secondaryPalette,tone:t=>t.secondaryPalette.keyColor.tone});G.tertiaryPaletteKeyColor=le.fromPalette({name:"tertiary_palette_key_color",palette:t=>t.tertiaryPalette,tone:t=>t.tertiaryPalette.keyColor.tone});G.neutralPaletteKeyColor=le.fromPalette({name:"neutral_palette_key_color",palette:t=>t.neutralPalette,tone:t=>t.neutralPalette.keyColor.tone});G.neutralVariantPaletteKeyColor=le.fromPalette({name:"neutral_variant_palette_key_color",palette:t=>t.neutralVariantPalette,tone:t=>t.neutralVariantPalette.keyColor.tone});G.background=le.fromPalette({name:"background",palette:t=>t.neutralPalette,tone:t=>t.isDark?6:98,isBackground:!0});G.onBackground=le.fromPalette({name:"on_background",palette:t=>t.neutralPalette,tone:t=>t.isDark?90:10,background:t=>G.background,contrastCurve:new Ue(3,3,4.5,7)});G.surface=le.fromPalette({name:"surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?6:98,isBackground:!0});G.surfaceDim=le.fromPalette({name:"surface_dim",palette:t=>t.neutralPalette,tone:t=>t.isDark?6:87,isBackground:!0});G.surfaceBright=le.fromPalette({name:"surface_bright",palette:t=>t.neutralPalette,tone:t=>t.isDark?24:98,isBackground:!0});G.surfaceContainerLowest=le.fromPalette({name:"surface_container_lowest",palette:t=>t.neutralPalette,tone:t=>t.isDark?4:100,isBackground:!0});G.surfaceContainerLow=le.fromPalette({name:"surface_container_low",palette:t=>t.neutralPalette,tone:t=>t.isDark?10:96,isBackground:!0});G.surfaceContainer=le.fromPalette({name:"surface_container",palette:t=>t.neutralPalette,tone:t=>t.isDark?12:94,isBackground:!0});G.surfaceContainerHigh=le.fromPalette({name:"surface_container_high",palette:t=>t.neutralPalette,tone:t=>t.isDark?17:92,isBackground:!0});G.surfaceContainerHighest=le.fromPalette({name:"surface_container_highest",palette:t=>t.neutralPalette,tone:t=>t.isDark?22:90,isBackground:!0});G.onSurface=le.fromPalette({name:"on_surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?90:10,background:t=>G.highestSurface(t),contrastCurve:new Ue(4.5,7,11,21)});G.surfaceVariant=le.fromPalette({name:"surface_variant",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?30:90,isBackground:!0});G.onSurfaceVariant=le.fromPalette({name:"on_surface_variant",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?80:30,background:t=>G.highestSurface(t),contrastCurve:new Ue(3,4.5,7,11)});G.inverseSurface=le.fromPalette({name:"inverse_surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?90:20});G.inverseOnSurface=le.fromPalette({name:"inverse_on_surface",palette:t=>t.neutralPalette,tone:t=>t.isDark?20:95,background:t=>G.inverseSurface,contrastCurve:new Ue(4.5,7,11,21)});G.outline=le.fromPalette({name:"outline",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?60:50,background:t=>G.highestSurface(t),contrastCurve:new Ue(1.5,3,4.5,7)});G.outlineVariant=le.fromPalette({name:"outline_variant",palette:t=>t.neutralVariantPalette,tone:t=>t.isDark?30:80,background:t=>G.highestSurface(t),contrastCurve:new Ue(1,1,3,7)});G.shadow=le.fromPalette({name:"shadow",palette:t=>t.neutralPalette,tone:t=>0});G.scrim=le.fromPalette({name:"scrim",palette:t=>t.neutralPalette,tone:t=>0});G.surfaceTint=le.fromPalette({name:"surface_tint",palette:t=>t.primaryPalette,tone:t=>t.isDark?80:40,isBackground:!0});G.primary=le.fromPalette({name:"primary",palette:t=>t.primaryPalette,tone:t=>It(t)?t.isDark?100:0:t.isDark?80:40,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(3,4.5,7,11),toneDeltaPair:t=>new Tn(G.primaryContainer,G.primary,15,"nearer",!1)});G.onPrimary=le.fromPalette({name:"on_primary",palette:t=>t.primaryPalette,tone:t=>It(t)?t.isDark?10:90:t.isDark?20:100,background:t=>G.primary,contrastCurve:new Ue(4.5,7,11,21)});G.primaryContainer=le.fromPalette({name:"primary_container",palette:t=>t.primaryPalette,tone:t=>Xi(t)?Rf(t.sourceColorHct,t):It(t)?t.isDark?85:25:t.isDark?30:90,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(1,1,3,7),toneDeltaPair:t=>new Tn(G.primaryContainer,G.primary,15,"nearer",!1)});G.onPrimaryContainer=le.fromPalette({name:"on_primary_container",palette:t=>t.primaryPalette,tone:t=>Xi(t)?le.foregroundTone(G.primaryContainer.tone(t),4.5):It(t)?t.isDark?0:100:t.isDark?90:10,background:t=>G.primaryContainer,contrastCurve:new Ue(4.5,7,11,21)});G.inversePrimary=le.fromPalette({name:"inverse_primary",palette:t=>t.primaryPalette,tone:t=>t.isDark?40:80,background:t=>G.inverseSurface,contrastCurve:new Ue(3,4.5,7,11)});G.secondary=le.fromPalette({name:"secondary",palette:t=>t.secondaryPalette,tone:t=>t.isDark?80:40,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(3,4.5,7,11),toneDeltaPair:t=>new Tn(G.secondaryContainer,G.secondary,15,"nearer",!1)});G.onSecondary=le.fromPalette({name:"on_secondary",palette:t=>t.secondaryPalette,tone:t=>It(t)?t.isDark?10:100:t.isDark?20:100,background:t=>G.secondary,contrastCurve:new Ue(4.5,7,11,21)});G.secondaryContainer=le.fromPalette({name:"secondary_container",palette:t=>t.secondaryPalette,tone:t=>{const e=t.isDark?30:90;if(It(t))return t.isDark?30:85;if(!Xi(t))return e;let n=QI(t.secondaryPalette.hue,t.secondaryPalette.chroma,e,!t.isDark);return n=Rf(t.secondaryPalette.getHct(n),t),n},isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(1,1,3,7),toneDeltaPair:t=>new Tn(G.secondaryContainer,G.secondary,15,"nearer",!1)});G.onSecondaryContainer=le.fromPalette({name:"on_secondary_container",palette:t=>t.secondaryPalette,tone:t=>Xi(t)?le.foregroundTone(G.secondaryContainer.tone(t),4.5):t.isDark?90:10,background:t=>G.secondaryContainer,contrastCurve:new Ue(4.5,7,11,21)});G.tertiary=le.fromPalette({name:"tertiary",palette:t=>t.tertiaryPalette,tone:t=>It(t)?t.isDark?90:25:t.isDark?80:40,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(3,4.5,7,11),toneDeltaPair:t=>new Tn(G.tertiaryContainer,G.tertiary,15,"nearer",!1)});G.onTertiary=le.fromPalette({name:"on_tertiary",palette:t=>t.tertiaryPalette,tone:t=>It(t)?t.isDark?10:90:t.isDark?20:100,background:t=>G.tertiary,contrastCurve:new Ue(4.5,7,11,21)});G.tertiaryContainer=le.fromPalette({name:"tertiary_container",palette:t=>t.tertiaryPalette,tone:t=>{if(It(t))return t.isDark?60:49;if(!Xi(t))return t.isDark?30:90;const e=Rf(t.tertiaryPalette.getHct(t.sourceColorHct.tone),t),n=t.tertiaryPalette.getHct(e);return Pf.fixIfDisliked(n).tone},isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(1,1,3,7),toneDeltaPair:t=>new Tn(G.tertiaryContainer,G.tertiary,15,"nearer",!1)});G.onTertiaryContainer=le.fromPalette({name:"on_tertiary_container",palette:t=>t.tertiaryPalette,tone:t=>It(t)?t.isDark?0:100:Xi(t)?le.foregroundTone(G.tertiaryContainer.tone(t),4.5):t.isDark?90:10,background:t=>G.tertiaryContainer,contrastCurve:new Ue(4.5,7,11,21)});G.error=le.fromPalette({name:"error",palette:t=>t.errorPalette,tone:t=>t.isDark?80:40,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(3,4.5,7,11),toneDeltaPair:t=>new Tn(G.errorContainer,G.error,15,"nearer",!1)});G.onError=le.fromPalette({name:"on_error",palette:t=>t.errorPalette,tone:t=>t.isDark?20:100,background:t=>G.error,contrastCurve:new Ue(4.5,7,11,21)});G.errorContainer=le.fromPalette({name:"error_container",palette:t=>t.errorPalette,tone:t=>t.isDark?30:90,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(1,1,3,7),toneDeltaPair:t=>new Tn(G.errorContainer,G.error,15,"nearer",!1)});G.onErrorContainer=le.fromPalette({name:"on_error_container",palette:t=>t.errorPalette,tone:t=>t.isDark?90:10,background:t=>G.errorContainer,contrastCurve:new Ue(4.5,7,11,21)});G.primaryFixed=le.fromPalette({name:"primary_fixed",palette:t=>t.primaryPalette,tone:t=>It(t)?40:90,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(1,1,3,7),toneDeltaPair:t=>new Tn(G.primaryFixed,G.primaryFixedDim,10,"lighter",!0)});G.primaryFixedDim=le.fromPalette({name:"primary_fixed_dim",palette:t=>t.primaryPalette,tone:t=>It(t)?30:80,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(1,1,3,7),toneDeltaPair:t=>new Tn(G.primaryFixed,G.primaryFixedDim,10,"lighter",!0)});G.onPrimaryFixed=le.fromPalette({name:"on_primary_fixed",palette:t=>t.primaryPalette,tone:t=>It(t)?100:10,background:t=>G.primaryFixedDim,secondBackground:t=>G.primaryFixed,contrastCurve:new Ue(4.5,7,11,21)});G.onPrimaryFixedVariant=le.fromPalette({name:"on_primary_fixed_variant",palette:t=>t.primaryPalette,tone:t=>It(t)?90:30,background:t=>G.primaryFixedDim,secondBackground:t=>G.primaryFixed,contrastCurve:new Ue(3,4.5,7,11)});G.secondaryFixed=le.fromPalette({name:"secondary_fixed",palette:t=>t.secondaryPalette,tone:t=>It(t)?80:90,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(1,1,3,7),toneDeltaPair:t=>new Tn(G.secondaryFixed,G.secondaryFixedDim,10,"lighter",!0)});G.secondaryFixedDim=le.fromPalette({name:"secondary_fixed_dim",palette:t=>t.secondaryPalette,tone:t=>It(t)?70:80,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(1,1,3,7),toneDeltaPair:t=>new Tn(G.secondaryFixed,G.secondaryFixedDim,10,"lighter",!0)});G.onSecondaryFixed=le.fromPalette({name:"on_secondary_fixed",palette:t=>t.secondaryPalette,tone:t=>10,background:t=>G.secondaryFixedDim,secondBackground:t=>G.secondaryFixed,contrastCurve:new Ue(4.5,7,11,21)});G.onSecondaryFixedVariant=le.fromPalette({name:"on_secondary_fixed_variant",palette:t=>t.secondaryPalette,tone:t=>It(t)?25:30,background:t=>G.secondaryFixedDim,secondBackground:t=>G.secondaryFixed,contrastCurve:new Ue(3,4.5,7,11)});G.tertiaryFixed=le.fromPalette({name:"tertiary_fixed",palette:t=>t.tertiaryPalette,tone:t=>It(t)?40:90,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(1,1,3,7),toneDeltaPair:t=>new Tn(G.tertiaryFixed,G.tertiaryFixedDim,10,"lighter",!0)});G.tertiaryFixedDim=le.fromPalette({name:"tertiary_fixed_dim",palette:t=>t.tertiaryPalette,tone:t=>It(t)?30:80,isBackground:!0,background:t=>G.highestSurface(t),contrastCurve:new Ue(1,1,3,7),toneDeltaPair:t=>new Tn(G.tertiaryFixed,G.tertiaryFixedDim,10,"lighter",!0)});G.onTertiaryFixed=le.fromPalette({name:"on_tertiary_fixed",palette:t=>t.tertiaryPalette,tone:t=>It(t)?100:10,background:t=>G.tertiaryFixedDim,secondBackground:t=>G.tertiaryFixed,contrastCurve:new Ue(4.5,7,11,21)});G.onTertiaryFixedVariant=le.fromPalette({name:"on_tertiary_fixed_variant",palette:t=>t.tertiaryPalette,tone:t=>It(t)?90:30,background:t=>G.tertiaryFixedDim,secondBackground:t=>G.tertiaryFixed,contrastCurve:new Ue(3,4.5,7,11)});/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class rn{static fromInt(e){const n=Ct.fromInt(e);return rn.fromHct(n)}static fromHct(e){return new rn(e.hue,e.chroma,e)}static fromHueAndChroma(e,n){return new rn(e,n,rn.createKeyColor(e,n))}constructor(e,n,r){this.hue=e,this.chroma=n,this.keyColor=r,this.cache=new Map}static createKeyColor(e,n){let r=Ct.from(e,n,50),s=Math.abs(r.chroma-n);for(let i=1;i<50;i+=1){if(Math.round(n)===Math.round(r.chroma))return r;const o=Ct.from(e,n,50+i),a=Math.abs(o.chroma-n);a<s&&(s=a,r=o);const l=Ct.from(e,n,50-i),u=Math.abs(l.chroma-n);u<s&&(s=u,r=l)}return r}tone(e){let n=this.cache.get(e);return n===void 0&&(n=Ct.from(this.hue,this.chroma,e).toInt(),this.cache.set(e,n)),n}getHct(e){return Ct.fromInt(this.tone(e))}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let Ei=class Bn{static of(e){return new Bn(e,!1)}static contentOf(e){return new Bn(e,!0)}static fromColors(e){return Bn.createPaletteFromColors(!1,e)}static contentFromColors(e){return Bn.createPaletteFromColors(!0,e)}static createPaletteFromColors(e,n){const r=new Bn(n.primary,e);if(n.secondary){const s=new Bn(n.secondary,e);r.a2=s.a1}if(n.tertiary){const s=new Bn(n.tertiary,e);r.a3=s.a1}if(n.error){const s=new Bn(n.error,e);r.error=s.a1}if(n.neutral){const s=new Bn(n.neutral,e);r.n1=s.n1}if(n.neutralVariant){const s=new Bn(n.neutralVariant,e);r.n2=s.n2}return r}constructor(e,n){const r=Ct.fromInt(e),s=r.hue,i=r.chroma;n?(this.a1=rn.fromHueAndChroma(s,i),this.a2=rn.fromHueAndChroma(s,i/3),this.a3=rn.fromHueAndChroma(s+60,i/2),this.n1=rn.fromHueAndChroma(s,Math.min(i/12,4)),this.n2=rn.fromHueAndChroma(s,Math.min(i/6,8))):(this.a1=rn.fromHueAndChroma(s,Math.max(48,i)),this.a2=rn.fromHueAndChroma(s,16),this.a3=rn.fromHueAndChroma(s+60,24),this.n1=rn.fromHueAndChroma(s,4),this.n2=rn.fromHueAndChroma(s,8)),this.error=rn.fromHueAndChroma(25,84)}};/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class XI{fromInt(e){return GI(e)}toInt(e){return KI(e[0],e[1],e[2])}distance(e,n){const r=e[0]-n[0],s=e[1]-n[1],i=e[2]-n[2];return r*r+s*s+i*i}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ZI=10,eT=3;let tT=class{static quantize(e,n,r){const s=new Map,i=new Array,o=new Array,a=new XI;let l=0;for(let S=0;S<e.length;S++){const T=e[S],A=s.get(T);A===void 0?(l++,i.push(a.fromInt(T)),o.push(T),s.set(T,1)):s.set(T,A+1)}const u=new Array;for(let S=0;S<l;S++){const T=o[S],A=s.get(T);A!==void 0&&(u[S]=A)}let h=Math.min(r,l);n.length>0&&(h=Math.min(h,n.length));const f=new Array;for(let S=0;S<n.length;S++)f.push(a.fromInt(n[S]));const m=h-f.length;if(n.length===0&&m>0)for(let S=0;S<m;S++){const T=Math.random()*100,A=Math.random()*201+-100,U=Math.random()*201+-100;f.push(new Array(T,A,U))}const g=new Array;for(let S=0;S<l;S++)g.push(Math.floor(Math.random()*h));const E=new Array;for(let S=0;S<h;S++){E.push(new Array);for(let T=0;T<h;T++)E[S].push(0)}const w=new Array;for(let S=0;S<h;S++){w.push(new Array);for(let T=0;T<h;T++)w[S].push(new nT)}const R=new Array;for(let S=0;S<h;S++)R.push(0);for(let S=0;S<ZI;S++){for(let y=0;y<h;y++){for(let _=y+1;_<h;_++){const v=a.distance(f[y],f[_]);w[_][y].distance=v,w[_][y].index=y,w[y][_].distance=v,w[y][_].index=_}w[y].sort();for(let _=0;_<h;_++)E[y][_]=w[y][_].index}let T=0;for(let y=0;y<l;y++){const _=i[y],v=g[y],N=f[v],V=a.distance(_,N);let x=V,P=-1;for(let be=0;be<h;be++){if(w[v][be].distance>=4*V)continue;const Ge=a.distance(_,f[be]);Ge<x&&(x=Ge,P=be)}P!==-1&&Math.abs(Math.sqrt(x)-Math.sqrt(V))>eT&&(T++,g[y]=P)}if(T===0&&S!==0)break;const A=new Array(h).fill(0),U=new Array(h).fill(0),F=new Array(h).fill(0);for(let y=0;y<h;y++)R[y]=0;for(let y=0;y<l;y++){const _=g[y],v=i[y],N=u[y];R[_]+=N,A[_]+=v[0]*N,U[_]+=v[1]*N,F[_]+=v[2]*N}for(let y=0;y<h;y++){const _=R[y];if(_===0){f[y]=[0,0,0];continue}const v=A[y]/_,N=U[y]/_,V=F[y]/_;f[y]=[v,N,V]}}const L=new Map;for(let S=0;S<h;S++){const T=R[S];if(T===0)continue;const A=a.toInt(f[S]);L.has(A)||L.set(A,T)}return L}},nT=class{constructor(){this.distance=-1,this.index=-1}};/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let rT=class{static quantize(e){const n=new Map;for(let r=0;r<e.length;r++){const s=e[r];WI(s)<255||n.set(s,(n.get(s)??0)+1)}return n}};/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const ll=5,Un=33,wo=35937,fn={RED:"red",GREEN:"green",BLUE:"blue"};class sT{constructor(e=[],n=[],r=[],s=[],i=[],o=[]){this.weights=e,this.momentsR=n,this.momentsG=r,this.momentsB=s,this.moments=i,this.cubes=o}quantize(e,n){this.constructHistogram(e),this.computeMoments();const r=this.createBoxes(n);return this.createResult(r.resultCount)}constructHistogram(e){this.weights=Array.from({length:wo}).fill(0),this.momentsR=Array.from({length:wo}).fill(0),this.momentsG=Array.from({length:wo}).fill(0),this.momentsB=Array.from({length:wo}).fill(0),this.moments=Array.from({length:wo}).fill(0);const n=rT.quantize(e);for(const[r,s]of n.entries()){const i=Ec(r),o=wc(r),a=Ic(r),l=8-ll,u=(i>>l)+1,h=(o>>l)+1,f=(a>>l)+1,m=this.getIndex(u,h,f);this.weights[m]=(this.weights[m]??0)+s,this.momentsR[m]+=s*i,this.momentsG[m]+=s*o,this.momentsB[m]+=s*a,this.moments[m]+=s*(i*i+o*o+a*a)}}computeMoments(){for(let e=1;e<Un;e++){const n=Array.from({length:Un}).fill(0),r=Array.from({length:Un}).fill(0),s=Array.from({length:Un}).fill(0),i=Array.from({length:Un}).fill(0),o=Array.from({length:Un}).fill(0);for(let a=1;a<Un;a++){let l=0,u=0,h=0,f=0,m=0;for(let g=1;g<Un;g++){const E=this.getIndex(e,a,g);l+=this.weights[E],u+=this.momentsR[E],h+=this.momentsG[E],f+=this.momentsB[E],m+=this.moments[E],n[g]+=l,r[g]+=u,s[g]+=h,i[g]+=f,o[g]+=m;const w=this.getIndex(e-1,a,g);this.weights[E]=this.weights[w]+n[g],this.momentsR[E]=this.momentsR[w]+r[g],this.momentsG[E]=this.momentsG[w]+s[g],this.momentsB[E]=this.momentsB[w]+i[g],this.moments[E]=this.moments[w]+o[g]}}}}createBoxes(e){this.cubes=Array.from({length:e}).fill(0).map(()=>new iT);const n=Array.from({length:e}).fill(0);this.cubes[0].r0=0,this.cubes[0].g0=0,this.cubes[0].b0=0,this.cubes[0].r1=Un-1,this.cubes[0].g1=Un-1,this.cubes[0].b1=Un-1;let r=e,s=0;for(let i=1;i<e;i++){this.cut(this.cubes[s],this.cubes[i])?(n[s]=this.cubes[s].vol>1?this.variance(this.cubes[s]):0,n[i]=this.cubes[i].vol>1?this.variance(this.cubes[i]):0):(n[s]=0,i--),s=0;let o=n[0];for(let a=1;a<=i;a++)n[a]>o&&(o=n[a],s=a);if(o<=0){r=i+1;break}}return new oT(e,r)}createResult(e){const n=[];for(let r=0;r<e;++r){const s=this.cubes[r],i=this.volume(s,this.weights);if(i>0){const o=Math.round(this.volume(s,this.momentsR)/i),a=Math.round(this.volume(s,this.momentsG)/i),l=Math.round(this.volume(s,this.momentsB)/i),u=255<<24|(o&255)<<16|(a&255)<<8|l&255;n.push(u)}}return n}variance(e){const n=this.volume(e,this.momentsR),r=this.volume(e,this.momentsG),s=this.volume(e,this.momentsB),i=this.moments[this.getIndex(e.r1,e.g1,e.b1)]-this.moments[this.getIndex(e.r1,e.g1,e.b0)]-this.moments[this.getIndex(e.r1,e.g0,e.b1)]+this.moments[this.getIndex(e.r1,e.g0,e.b0)]-this.moments[this.getIndex(e.r0,e.g1,e.b1)]+this.moments[this.getIndex(e.r0,e.g1,e.b0)]+this.moments[this.getIndex(e.r0,e.g0,e.b1)]-this.moments[this.getIndex(e.r0,e.g0,e.b0)],o=n*n+r*r+s*s,a=this.volume(e,this.weights);return i-o/a}cut(e,n){const r=this.volume(e,this.momentsR),s=this.volume(e,this.momentsG),i=this.volume(e,this.momentsB),o=this.volume(e,this.weights),a=this.maximize(e,fn.RED,e.r0+1,e.r1,r,s,i,o),l=this.maximize(e,fn.GREEN,e.g0+1,e.g1,r,s,i,o),u=this.maximize(e,fn.BLUE,e.b0+1,e.b1,r,s,i,o);let h;const f=a.maximum,m=l.maximum,g=u.maximum;if(f>=m&&f>=g){if(a.cutLocation<0)return!1;h=fn.RED}else m>=f&&m>=g?h=fn.GREEN:h=fn.BLUE;switch(n.r1=e.r1,n.g1=e.g1,n.b1=e.b1,h){case fn.RED:e.r1=a.cutLocation,n.r0=e.r1,n.g0=e.g0,n.b0=e.b0;break;case fn.GREEN:e.g1=l.cutLocation,n.r0=e.r0,n.g0=e.g1,n.b0=e.b0;break;case fn.BLUE:e.b1=u.cutLocation,n.r0=e.r0,n.g0=e.g0,n.b0=e.b1;break;default:throw new Error("unexpected direction "+h)}return e.vol=(e.r1-e.r0)*(e.g1-e.g0)*(e.b1-e.b0),n.vol=(n.r1-n.r0)*(n.g1-n.g0)*(n.b1-n.b0),!0}maximize(e,n,r,s,i,o,a,l){const u=this.bottom(e,n,this.momentsR),h=this.bottom(e,n,this.momentsG),f=this.bottom(e,n,this.momentsB),m=this.bottom(e,n,this.weights);let g=0,E=-1,w=0,R=0,L=0,S=0;for(let T=r;T<s;T++){if(w=u+this.top(e,n,T,this.momentsR),R=h+this.top(e,n,T,this.momentsG),L=f+this.top(e,n,T,this.momentsB),S=m+this.top(e,n,T,this.weights),S===0)continue;let A=(w*w+R*R+L*L)*1,U=S*1,F=A/U;w=i-w,R=o-R,L=a-L,S=l-S,S!==0&&(A=(w*w+R*R+L*L)*1,U=S*1,F+=A/U,F>g&&(g=F,E=T))}return new aT(E,g)}volume(e,n){return n[this.getIndex(e.r1,e.g1,e.b1)]-n[this.getIndex(e.r1,e.g1,e.b0)]-n[this.getIndex(e.r1,e.g0,e.b1)]+n[this.getIndex(e.r1,e.g0,e.b0)]-n[this.getIndex(e.r0,e.g1,e.b1)]+n[this.getIndex(e.r0,e.g1,e.b0)]+n[this.getIndex(e.r0,e.g0,e.b1)]-n[this.getIndex(e.r0,e.g0,e.b0)]}bottom(e,n,r){switch(n){case fn.RED:return-r[this.getIndex(e.r0,e.g1,e.b1)]+r[this.getIndex(e.r0,e.g1,e.b0)]+r[this.getIndex(e.r0,e.g0,e.b1)]-r[this.getIndex(e.r0,e.g0,e.b0)];case fn.GREEN:return-r[this.getIndex(e.r1,e.g0,e.b1)]+r[this.getIndex(e.r1,e.g0,e.b0)]+r[this.getIndex(e.r0,e.g0,e.b1)]-r[this.getIndex(e.r0,e.g0,e.b0)];case fn.BLUE:return-r[this.getIndex(e.r1,e.g1,e.b0)]+r[this.getIndex(e.r1,e.g0,e.b0)]+r[this.getIndex(e.r0,e.g1,e.b0)]-r[this.getIndex(e.r0,e.g0,e.b0)];default:throw new Error("unexpected direction $direction")}}top(e,n,r,s){switch(n){case fn.RED:return s[this.getIndex(r,e.g1,e.b1)]-s[this.getIndex(r,e.g1,e.b0)]-s[this.getIndex(r,e.g0,e.b1)]+s[this.getIndex(r,e.g0,e.b0)];case fn.GREEN:return s[this.getIndex(e.r1,r,e.b1)]-s[this.getIndex(e.r1,r,e.b0)]-s[this.getIndex(e.r0,r,e.b1)]+s[this.getIndex(e.r0,r,e.b0)];case fn.BLUE:return s[this.getIndex(e.r1,e.g1,r)]-s[this.getIndex(e.r1,e.g0,r)]-s[this.getIndex(e.r0,e.g1,r)]+s[this.getIndex(e.r0,e.g0,r)];default:throw new Error("unexpected direction $direction")}}getIndex(e,n,r){return(e<<ll*2)+(e<<ll+1)+e+(n<<ll)+n+r}}class iT{constructor(e=0,n=0,r=0,s=0,i=0,o=0,a=0){this.r0=e,this.r1=n,this.g0=r,this.g1=s,this.b0=i,this.b1=o,this.vol=a}}let oT=class{constructor(e,n){this.requestedCount=e,this.resultCount=n}},aT=class{constructor(e,n){this.cutLocation=e,this.maximum=n}};/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/let lT=class{static quantize(e,n){const r=new sT().quantize(e,n);return tT.quantize(e,r,n)}};/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/class br{get primary(){return this.props.primary}get onPrimary(){return this.props.onPrimary}get primaryContainer(){return this.props.primaryContainer}get onPrimaryContainer(){return this.props.onPrimaryContainer}get secondary(){return this.props.secondary}get onSecondary(){return this.props.onSecondary}get secondaryContainer(){return this.props.secondaryContainer}get onSecondaryContainer(){return this.props.onSecondaryContainer}get tertiary(){return this.props.tertiary}get onTertiary(){return this.props.onTertiary}get tertiaryContainer(){return this.props.tertiaryContainer}get onTertiaryContainer(){return this.props.onTertiaryContainer}get error(){return this.props.error}get onError(){return this.props.onError}get errorContainer(){return this.props.errorContainer}get onErrorContainer(){return this.props.onErrorContainer}get background(){return this.props.background}get onBackground(){return this.props.onBackground}get surface(){return this.props.surface}get onSurface(){return this.props.onSurface}get surfaceVariant(){return this.props.surfaceVariant}get onSurfaceVariant(){return this.props.onSurfaceVariant}get outline(){return this.props.outline}get outlineVariant(){return this.props.outlineVariant}get shadow(){return this.props.shadow}get scrim(){return this.props.scrim}get inverseSurface(){return this.props.inverseSurface}get inverseOnSurface(){return this.props.inverseOnSurface}get inversePrimary(){return this.props.inversePrimary}static light(e){return br.lightFromCorePalette(Ei.of(e))}static dark(e){return br.darkFromCorePalette(Ei.of(e))}static lightContent(e){return br.lightFromCorePalette(Ei.contentOf(e))}static darkContent(e){return br.darkFromCorePalette(Ei.contentOf(e))}static lightFromCorePalette(e){return new br({primary:e.a1.tone(40),onPrimary:e.a1.tone(100),primaryContainer:e.a1.tone(90),onPrimaryContainer:e.a1.tone(10),secondary:e.a2.tone(40),onSecondary:e.a2.tone(100),secondaryContainer:e.a2.tone(90),onSecondaryContainer:e.a2.tone(10),tertiary:e.a3.tone(40),onTertiary:e.a3.tone(100),tertiaryContainer:e.a3.tone(90),onTertiaryContainer:e.a3.tone(10),error:e.error.tone(40),onError:e.error.tone(100),errorContainer:e.error.tone(90),onErrorContainer:e.error.tone(10),background:e.n1.tone(99),onBackground:e.n1.tone(10),surface:e.n1.tone(99),onSurface:e.n1.tone(10),surfaceVariant:e.n2.tone(90),onSurfaceVariant:e.n2.tone(30),outline:e.n2.tone(50),outlineVariant:e.n2.tone(80),shadow:e.n1.tone(0),scrim:e.n1.tone(0),inverseSurface:e.n1.tone(20),inverseOnSurface:e.n1.tone(95),inversePrimary:e.a1.tone(80)})}static darkFromCorePalette(e){return new br({primary:e.a1.tone(80),onPrimary:e.a1.tone(20),primaryContainer:e.a1.tone(30),onPrimaryContainer:e.a1.tone(90),secondary:e.a2.tone(80),onSecondary:e.a2.tone(20),secondaryContainer:e.a2.tone(30),onSecondaryContainer:e.a2.tone(90),tertiary:e.a3.tone(80),onTertiary:e.a3.tone(20),tertiaryContainer:e.a3.tone(30),onTertiaryContainer:e.a3.tone(90),error:e.error.tone(80),onError:e.error.tone(20),errorContainer:e.error.tone(30),onErrorContainer:e.error.tone(80),background:e.n1.tone(10),onBackground:e.n1.tone(90),surface:e.n1.tone(10),onSurface:e.n1.tone(90),surfaceVariant:e.n2.tone(30),onSurfaceVariant:e.n2.tone(80),outline:e.n2.tone(60),outlineVariant:e.n2.tone(30),shadow:e.n1.tone(0),scrim:e.n1.tone(0),inverseSurface:e.n1.tone(90),inverseOnSurface:e.n1.tone(20),inversePrimary:e.a1.tone(40)})}constructor(e){this.props=e}toJSON(){return{...this.props}}}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const cT={desired:4,fallbackColorARGB:4282549748,filter:!0};function uT(t,e){return t.score>e.score?-1:t.score<e.score?1:0}class gn{constructor(){}static score(e,n){const{desired:r,fallbackColorARGB:s,filter:i}={...cT,...n},o=[],a=new Array(360).fill(0);let l=0;for(const[g,E]of e.entries()){const w=Ct.fromInt(g);o.push(w);const R=Math.floor(w.hue);a[R]+=E,l+=E}const u=new Array(360).fill(0);for(let g=0;g<360;g++){const E=a[g]/l;for(let w=g-14;w<g+16;w++){const R=og(w);u[R]+=E}}const h=new Array;for(const g of o){const E=og(Math.round(g.hue)),w=u[E];if(i&&(g.chroma<gn.CUTOFF_CHROMA||w<=gn.CUTOFF_EXCITED_PROPORTION))continue;const R=w*100*gn.WEIGHT_PROPORTION,L=g.chroma<gn.TARGET_CHROMA?gn.WEIGHT_CHROMA_BELOW:gn.WEIGHT_CHROMA_ABOVE,S=(g.chroma-gn.TARGET_CHROMA)*L,T=R+S;h.push({hct:g,score:T})}h.sort(uT);const f=[];for(let g=90;g>=15;g--){f.length=0;for(const{hct:E}of h)if(f.find(w=>Ay(E.hue,w.hue)<g)||f.push(E),f.length>=r)break;if(f.length>=r)break}const m=[];f.length===0&&m.push(s);for(const g of f)m.push(g.toInt());return m}}gn.TARGET_CHROMA=48;gn.WEIGHT_PROPORTION=.7;gn.WEIGHT_CHROMA_ABOVE=.3;gn.WEIGHT_CHROMA_BELOW=.1;gn.CUTOFF_CHROMA=5;gn.CUTOFF_EXCITED_PROPORTION=.01;/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function lt(t){const e=Ec(t),n=wc(t),r=Ic(t),s=[e.toString(16),n.toString(16),r.toString(16)];for(const[i,o]of s.entries())o.length===1&&(s[i]="0"+o);return"#"+s.join("")}function hT(t){t=t.replace("#","");const e=t.length===3,n=t.length===6,r=t.length===8;if(!e&&!n&&!r)throw new Error("unexpected hex "+t);let s=0,i=0,o=0;return e?(s=_r(t.slice(0,1).repeat(2)),i=_r(t.slice(1,2).repeat(2)),o=_r(t.slice(2,3).repeat(2))):n?(s=_r(t.slice(0,2)),i=_r(t.slice(2,4)),o=_r(t.slice(4,6))):r&&(s=_r(t.slice(2,4)),i=_r(t.slice(4,6)),o=_r(t.slice(6,8))),(255<<24|(s&255)<<16|(i&255)<<8|o&255)>>>0}function _r(t){return parseInt(t,16)}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/async function fT(t){const e=await new Promise((s,i)=>{const o=document.createElement("canvas"),a=o.getContext("2d");if(!a){i(new Error("Could not get canvas context"));return}const l=()=>{o.width=t.width,o.height=t.height,a.drawImage(t,0,0);let u=[0,0,t.width,t.height];const h=t.dataset.area;h&&/^\d+(\s*,\s*\d+){3}$/.test(h)&&(u=h.split(/\s*,\s*/).map(w=>parseInt(w,10)));const[f,m,g,E]=u;s(a.getImageData(f,m,g,E).data)};t.complete?l():t.onload=l}),n=[];for(let s=0;s<e.length;s+=4){const i=e[s],o=e[s+1],a=e[s+2];if(e[s+3]<255)continue;const l=vc(i,o,a);n.push(l)}const r=lT.quantize(n,128);return gn.score(r)[0]}/**
* @license
* Copyright 2021 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function Ry(t,e=[]){const n=Ei.of(t);return{source:t,schemes:{light:br.light(t),dark:br.dark(t)},palettes:{primary:n.a1,secondary:n.a2,tertiary:n.a3,neutral:n.n1,neutralVariant:n.n2,error:n.error},customColors:e.map(r=>dT(t,r))}}async function lg(t,e=[]){const n=await fT(t);return Ry(n,e)}function dT(t,e){let n=e.value;const r=n,s=t;e.blend&&(n=Sf.harmonize(r,s));const i=Ei.of(n).a1;return{color:e,value:n,light:{color:i.tone(40),onColor:i.tone(100),colorContainer:i.tone(90),onColorContainer:i.tone(10)},dark:{color:i.tone(80),onColor:i.tone(20),colorContainer:i.tone(30),onColorContainer:i.tone(90)}}}function Au(t){let e=JSON.parse(JSON.stringify(t.schemes));for(let n in e)for(let r in e[n])e[n][r]=lt(e[n][r]);return e.dark.surfaceDim=lt(t.palettes.neutral.tone(6)),e.dark.surface=lt(t.palettes.neutral.tone(6)),e.dark.surfaceBright=lt(t.palettes.neutral.tone(24)),e.dark.surfaceContainerLowest=lt(t.palettes.neutral.tone(4)),e.dark.surfaceContainerLow=lt(t.palettes.neutral.tone(10)),e.dark.surfaceContainer=lt(t.palettes.neutral.tone(12)),e.dark.surfaceContainerHigh=lt(t.palettes.neutral.tone(17)),e.dark.surfaceContainerHighest=lt(t.palettes.neutral.tone(22)),e.dark.onSurface=lt(t.palettes.neutral.tone(90)),e.dark.onSurfaceVariant=lt(t.palettes.neutralVariant.tone(80)),e.dark.outline=lt(t.palettes.neutralVariant.tone(60)),e.dark.outlineVariant=lt(t.palettes.neutralVariant.tone(30)),e.light.surfaceDim=lt(t.palettes.neutral.tone(87)),e.light.surface=lt(t.palettes.neutral.tone(98)),e.light.surfaceBright=lt(t.palettes.neutral.tone(98)),e.light.surfaceContainerLowest=lt(t.palettes.neutral.tone(100)),e.light.surfaceContainerLow=lt(t.palettes.neutral.tone(96)),e.light.surfaceContainer=lt(t.palettes.neutral.tone(94)),e.light.surfaceContainerHigh=lt(t.palettes.neutral.tone(92)),e.light.surfaceContainerHighest=lt(t.palettes.neutral.tone(90)),e.light.onSurface=lt(t.palettes.neutral.tone(10)),e.light.onSurfaceVariant=lt(t.palettes.neutralVariant.tone(30)),e.light.outline=lt(t.palettes.neutralVariant.tone(50)),e.light.outlineVariant=lt(t.palettes.neutralVariant.tone(80)),e}async function mT(t){const e=t,n={light:{},dark:{}};try{if(typeof e=="string"&&/^\#[0-9a-f]+$/i.test(e)){let o=Ry(hT(e));return Au(o)}if(e.src){let o=await lg(e);return Au(o)}let r=new Blob;if(typeof e=="string"&&(r=await fetch(e).then(o=>o.blob())),e.size&&(r=e),e.files&&e.files[0]&&(r=e.files[0]),e.target&&e.target.files&&e.target.files[0]&&(r=e.target.files[0]),!r.size)return n;let s=new Image(64);s.src=URL.createObjectURL(r);let i=await lg(s);return Au(i)}catch{return n}}globalThis.materialDynamicColors=mT;/**
* @vue/shared v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function kf(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const tt={},Ii=[],nr=()=>{},gT=()=>!1,Tc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Df=t=>t.startsWith("onUpdate:"),cn=Object.assign,Nf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},pT=Object.prototype.hasOwnProperty,Qe=(t,e)=>pT.call(t,e),_e=Array.isArray,Ti=t=>Ca(t)==="[object Map]",Zi=t=>Ca(t)==="[object Set]",cg=t=>Ca(t)==="[object Date]",De=t=>typeof t=="function",bt=t=>typeof t=="string",Gn=t=>typeof t=="symbol",ot=t=>t!==null&&typeof t=="object",ky=t=>(ot(t)||De(t))&&De(t.then)&&De(t.catch),Dy=Object.prototype.toString,Ca=t=>Dy.call(t),_T=t=>Ca(t).slice(8,-1),Ny=t=>Ca(t)==="[object Object]",Of=t=>bt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Fo=kf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},yT=/-(\w)/g,xn=bc(t=>t.replace(yT,(e,n)=>n?n.toUpperCase():"")),vT=/\B([A-Z])/g,ri=bc(t=>t.replace(vT,"-$1").toLowerCase()),Ac=bc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Cu=bc(t=>t?`on${Ac(t)}`:""),ms=(t,e)=>!Object.is(t,e),bl=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},ch=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Ul=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ug;const Cc=()=>ug||(ug=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Lf(t){if(_e(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=bt(r)?TT(r):Lf(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(bt(t)||ot(t))return t}const ET=/;(?![^(]*\))/g,wT=/:([^]+)/,IT=/\/\*[^]*?\*\//g;function TT(t){const e={};return t.replace(IT,"").split(ET).forEach(n=>{if(n){const r=n.split(wT);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Fe(t){let e="";if(bt(t))e=t;else if(_e(t))for(let n=0;n<t.length;n++){const r=Fe(t[n]);r&&(e+=r+" ")}else if(ot(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const bT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",AT=kf(bT);function Oy(t){return!!t||t===""}function CT(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Sa(t[r],e[r]);return n}function Sa(t,e){if(t===e)return!0;let n=cg(t),r=cg(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Gn(t),r=Gn(e),n||r)return t===e;if(n=_e(t),r=_e(e),n||r)return n&&r?CT(t,e):!1;if(n=ot(t),r=ot(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Sa(t[o],e[o]))return!1}}return String(t)===String(e)}function Mf(t,e){return t.findIndex(n=>Sa(n,e))}const Ly=t=>!!(t&&t.__v_isRef===!0),he=t=>bt(t)?t:t==null?"":_e(t)||ot(t)&&(t.toString===Dy||!De(t.toString))?Ly(t)?he(t.value):JSON.stringify(t,My,2):String(t),My=(t,e)=>Ly(e)?My(t,e.value):Ti(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Su(r,i)+" =>"]=s,n),{})}:Zi(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Su(n))}:Gn(e)?Su(e):ot(e)&&!_e(e)&&!Ny(e)?String(e):e,Su=(t,e="")=>{var n;return Gn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let En;class xy{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=En,!e&&En&&(this.index=(En.scopes||(En.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=En;try{return En=this,e()}finally{En=n}}}on(){++this._on===1&&(this.prevScope=En,En=this)}off(){this._on>0&&--this._on===0&&(En=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ST(t){return new xy(t)}function PT(){return En}let st;const Pu=new WeakSet;class Vy{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,En&&En.active&&En.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pu.has(this)&&(Pu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Uy(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,hg(this),$y(this);const e=st,n=Wn;st=this,Wn=!0;try{return this.fn()}finally{By(this),st=e,Wn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ff(e);this.deps=this.depsTail=void 0,hg(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){uh(this)&&this.run()}get dirty(){return uh(this)}}let Fy=0,Uo,$o;function Uy(t,e=!1){if(t.flags|=8,e){t.next=$o,$o=t;return}t.next=Uo,Uo=t}function xf(){Fy++}function Vf(){if(--Fy>0)return;if($o){let e=$o;for($o=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Uo;){let e=Uo;for(Uo=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function $y(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function By(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),Ff(r),RT(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function uh(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(jy(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function jy(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ra)||(t.globalVersion=ra,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!uh(t))))return;t.flags|=2;const e=t.dep,n=st,r=Wn;st=t,Wn=!0;try{$y(t);const s=t.fn(t._value);(e.version===0||ms(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{st=n,Wn=r,By(t),t.flags&=-3}}function Ff(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)Ff(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function RT(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Wn=!0;const Hy=[];function xr(){Hy.push(Wn),Wn=!1}function Vr(){const t=Hy.pop();Wn=t===void 0?!0:t}function hg(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=st;st=void 0;try{e()}finally{st=n}}}let ra=0;class kT{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Uf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!st||!Wn||st===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==st)n=this.activeLink=new kT(st,this),st.deps?(n.prevDep=st.depsTail,st.depsTail.nextDep=n,st.depsTail=n):st.deps=st.depsTail=n,Wy(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=st.depsTail,n.nextDep=void 0,st.depsTail.nextDep=n,st.depsTail=n,st.deps===n&&(st.deps=r)}return n}trigger(e){this.version++,ra++,this.notify(e)}notify(e){xf();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Vf()}}}function Wy(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Wy(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const hh=new WeakMap,zs=Symbol(""),fh=Symbol(""),sa=Symbol("");function on(t,e,n){if(Wn&&st){let r=hh.get(t);r||hh.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Uf),s.map=r,s.key=n),s.track()}}function Ar(t,e,n,r,s,i){const o=hh.get(t);if(!o){ra++;return}const a=l=>{l&&l.trigger()};if(xf(),e==="clear")o.forEach(a);else{const l=_e(t),u=l&&Of(n);if(l&&n==="length"){const h=Number(r);o.forEach((f,m)=>{(m==="length"||m===sa||!Gn(m)&&m>=h)&&a(f)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),u&&a(o.get(sa)),e){case"add":l?u&&a(o.get("length")):(a(o.get(zs)),Ti(t)&&a(o.get(fh)));break;case"delete":l||(a(o.get(zs)),Ti(t)&&a(o.get(fh)));break;case"set":Ti(t)&&a(o.get(zs));break}}Vf()}function fi(t){const e=Ye(t);return e===t?e:(on(e,"iterate",sa),Mn(t)?e:e.map(Wt))}function Sc(t){return on(t=Ye(t),"iterate",sa),t}const DT={__proto__:null,[Symbol.iterator](){return Ru(this,Symbol.iterator,Wt)},concat(...t){return fi(this).concat(...t.map(e=>_e(e)?fi(e):e))},entries(){return Ru(this,"entries",t=>(t[1]=Wt(t[1]),t))},every(t,e){return yr(this,"every",t,e,void 0,arguments)},filter(t,e){return yr(this,"filter",t,e,n=>n.map(Wt),arguments)},find(t,e){return yr(this,"find",t,e,Wt,arguments)},findIndex(t,e){return yr(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return yr(this,"findLast",t,e,Wt,arguments)},findLastIndex(t,e){return yr(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return yr(this,"forEach",t,e,void 0,arguments)},includes(...t){return ku(this,"includes",t)},indexOf(...t){return ku(this,"indexOf",t)},join(t){return fi(this).join(t)},lastIndexOf(...t){return ku(this,"lastIndexOf",t)},map(t,e){return yr(this,"map",t,e,void 0,arguments)},pop(){return Io(this,"pop")},push(...t){return Io(this,"push",t)},reduce(t,...e){return fg(this,"reduce",t,e)},reduceRight(t,...e){return fg(this,"reduceRight",t,e)},shift(){return Io(this,"shift")},some(t,e){return yr(this,"some",t,e,void 0,arguments)},splice(...t){return Io(this,"splice",t)},toReversed(){return fi(this).toReversed()},toSorted(t){return fi(this).toSorted(t)},toSpliced(...t){return fi(this).toSpliced(...t)},unshift(...t){return Io(this,"unshift",t)},values(){return Ru(this,"values",Wt)}};function Ru(t,e,n){const r=Sc(t),s=r[e]();return r!==t&&!Mn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const NT=Array.prototype;function yr(t,e,n,r,s,i){const o=Sc(t),a=o!==t&&!Mn(t),l=o[e];if(l!==NT[e]){const f=l.apply(t,i);return a?Wt(f):f}let u=n;o!==t&&(a?u=function(f,m){return n.call(this,Wt(f),m,t)}:n.length>2&&(u=function(f,m){return n.call(this,f,m,t)}));const h=l.call(o,u,r);return a&&s?s(h):h}function fg(t,e,n,r){const s=Sc(t);let i=n;return s!==t&&(Mn(t)?n.length>3&&(i=function(o,a,l){return n.call(this,o,a,l,t)}):i=function(o,a,l){return n.call(this,o,Wt(a),l,t)}),s[e](i,...r)}function ku(t,e,n){const r=Ye(t);on(r,"iterate",sa);const s=r[e](...n);return(s===-1||s===!1)&&jf(n[0])?(n[0]=Ye(n[0]),r[e](...n)):s}function Io(t,e,n=[]){xr(),xf();const r=Ye(t)[e].apply(t,n);return Vf(),Vr(),r}const OT=kf("__proto__,__v_isRef,__isVue"),qy=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gn));function LT(t){Gn(t)||(t=String(t));const e=Ye(this);return on(e,"has",t),e.hasOwnProperty(t)}class Ky{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?WT:Qy:i?Yy:zy).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=_e(e);if(!s){let l;if(o&&(l=DT[n]))return l;if(n==="hasOwnProperty")return LT}const a=Reflect.get(e,n,zt(e)?e:r);return(Gn(n)?qy.has(n):OT(n))||(s||on(e,"get",n),i)?a:zt(a)?o&&Of(n)?a:a.value:ot(a)?s?Xy(a):Mt(a):a}}class Gy extends Ky{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const l=vs(i);if(!Mn(r)&&!vs(r)&&(i=Ye(i),r=Ye(r)),!_e(e)&&zt(i)&&!zt(r))return l?!1:(i.value=r,!0)}const o=_e(e)&&Of(n)?Number(n)<e.length:Qe(e,n),a=Reflect.set(e,n,r,zt(e)?e:s);return e===Ye(s)&&(o?ms(r,i)&&Ar(e,"set",n,r):Ar(e,"add",n,r)),a}deleteProperty(e,n){const r=Qe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Ar(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Gn(n)||!qy.has(n))&&on(e,"has",n),r}ownKeys(e){return on(e,"iterate",_e(e)?"length":zs),Reflect.ownKeys(e)}}class MT extends Ky{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const xT=new Gy,VT=new MT,FT=new Gy(!0);const dh=t=>t,cl=t=>Reflect.getPrototypeOf(t);function UT(t,e,n){return function(...r){const s=this.__v_raw,i=Ye(s),o=Ti(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...r),h=n?dh:e?$l:Wt;return!e&&on(i,"iterate",l?fh:zs),{next(){const{value:f,done:m}=u.next();return m?{value:f,done:m}:{value:a?[h(f[0]),h(f[1])]:h(f),done:m}},[Symbol.iterator](){return this}}}}function ul(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function $T(t,e){const n={get(s){const i=this.__v_raw,o=Ye(i),a=Ye(s);t||(ms(s,a)&&on(o,"get",s),on(o,"get",a));const{has:l}=cl(o),u=e?dh:t?$l:Wt;if(l.call(o,s))return u(i.get(s));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&on(Ye(s),"iterate",zs),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Ye(i),a=Ye(s);return t||(ms(s,a)&&on(o,"has",s),on(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Ye(a),u=e?dh:t?$l:Wt;return!t&&on(l,"iterate",zs),a.forEach((h,f)=>s.call(i,u(h),u(f),o))}};return cn(n,t?{add:ul("add"),set:ul("set"),delete:ul("delete"),clear:ul("clear")}:{add(s){!e&&!Mn(s)&&!vs(s)&&(s=Ye(s));const i=Ye(this);return cl(i).has.call(i,s)||(i.add(s),Ar(i,"add",s,s)),this},set(s,i){!e&&!Mn(i)&&!vs(i)&&(i=Ye(i));const o=Ye(this),{has:a,get:l}=cl(o);let u=a.call(o,s);u||(s=Ye(s),u=a.call(o,s));const h=l.call(o,s);return o.set(s,i),u?ms(i,h)&&Ar(o,"set",s,i):Ar(o,"add",s,i),this},delete(s){const i=Ye(this),{has:o,get:a}=cl(i);let l=o.call(i,s);l||(s=Ye(s),l=o.call(i,s)),a&&a.call(i,s);const u=i.delete(s);return l&&Ar(i,"delete",s,void 0),u},clear(){const s=Ye(this),i=s.size!==0,o=s.clear();return i&&Ar(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=UT(s,t,e)}),n}function $f(t,e){const n=$T(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Qe(n,s)&&s in r?n:r,s,i)}const BT={get:$f(!1,!1)},jT={get:$f(!1,!0)},HT={get:$f(!0,!1)};const zy=new WeakMap,Yy=new WeakMap,Qy=new WeakMap,WT=new WeakMap;function qT(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function KT(t){return t.__v_skip||!Object.isExtensible(t)?0:qT(_T(t))}function Mt(t){return vs(t)?t:Bf(t,!1,xT,BT,zy)}function Jy(t){return Bf(t,!1,FT,jT,Yy)}function Xy(t){return Bf(t,!0,VT,HT,Qy)}function Bf(t,e,n,r,s){if(!ot(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=KT(t);if(i===0)return t;const o=s.get(t);if(o)return o;const a=new Proxy(t,i===2?r:n);return s.set(t,a),a}function bi(t){return vs(t)?bi(t.__v_raw):!!(t&&t.__v_isReactive)}function vs(t){return!!(t&&t.__v_isReadonly)}function Mn(t){return!!(t&&t.__v_isShallow)}function jf(t){return t?!!t.__v_raw:!1}function Ye(t){const e=t&&t.__v_raw;return e?Ye(e):t}function GT(t){return!Qe(t,"__v_skip")&&Object.isExtensible(t)&&ch(t,"__v_skip",!0),t}const Wt=t=>ot(t)?Mt(t):t,$l=t=>ot(t)?Xy(t):t;function zt(t){return t?t.__v_isRef===!0:!1}function nt(t){return Zy(t,!1)}function Hf(t){return Zy(t,!0)}function Zy(t,e){return zt(t)?t:new zT(t,e)}class zT{constructor(e,n){this.dep=new Uf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ye(e),this._value=n?e:Wt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Mn(e)||vs(e);e=r?e:Ye(e),ms(e,n)&&(this._rawValue=e,this._value=r?e:Wt(e),this.dep.trigger())}}function Ai(t){return zt(t)?t.value:t}const YT={get:(t,e,n)=>e==="__v_raw"?t:Ai(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return zt(s)&&!zt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function e0(t){return bi(t)?t:new Proxy(t,YT)}class QT{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Uf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ra-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&st!==this)return Uy(this,!0),!0}get value(){const e=this.dep.track();return jy(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function JT(t,e,n=!1){let r,s;return De(t)?r=t:(r=t.get,s=t.set),new QT(r,s,n)}const hl={},Bl=new WeakMap;let js;function XT(t,e=!1,n=js){if(n){let r=Bl.get(n);r||Bl.set(n,r=[]),r.push(t)}}function ZT(t,e,n=tt){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=n,u=A=>s?A:Mn(A)||s===!1||s===0?Cr(A,1):Cr(A);let h,f,m,g,E=!1,w=!1;if(zt(t)?(f=()=>t.value,E=Mn(t)):bi(t)?(f=()=>u(t),E=!0):_e(t)?(w=!0,E=t.some(A=>bi(A)||Mn(A)),f=()=>t.map(A=>{if(zt(A))return A.value;if(bi(A))return u(A);if(De(A))return l?l(A,2):A()})):De(t)?e?f=l?()=>l(t,2):t:f=()=>{if(m){xr();try{m()}finally{Vr()}}const A=js;js=h;try{return l?l(t,3,[g]):t(g)}finally{js=A}}:f=nr,e&&s){const A=f,U=s===!0?1/0:s;f=()=>Cr(A(),U)}const R=PT(),L=()=>{h.stop(),R&&R.active&&Nf(R.effects,h)};if(i&&e){const A=e;e=(...U)=>{A(...U),L()}}let S=w?new Array(t.length).fill(hl):hl;const T=A=>{if(!(!(h.flags&1)||!h.dirty&&!A))if(e){const U=h.run();if(s||E||(w?U.some((F,y)=>ms(F,S[y])):ms(U,S))){m&&m();const F=js;js=h;try{const y=[U,S===hl?void 0:w&&S[0]===hl?[]:S,g];S=U,l?l(e,3,y):e(...y)}finally{js=F}}}else h.run()};return a&&a(T),h=new Vy(f),h.scheduler=o?()=>o(T,!1):T,g=A=>XT(A,!1,h),m=h.onStop=()=>{const A=Bl.get(h);if(A){if(l)l(A,4);else for(const U of A)U();Bl.delete(h)}},e?r?T(!0):S=h.run():o?o(T.bind(null,!0),!0):h.run(),L.pause=h.pause.bind(h),L.resume=h.resume.bind(h),L.stop=L,L}function Cr(t,e=1/0,n){if(e<=0||!ot(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,zt(t))Cr(t.value,e,n);else if(_e(t))for(let r=0;r<t.length;r++)Cr(t[r],e,n);else if(Zi(t)||Ti(t))t.forEach(r=>{Cr(r,e,n)});else if(Ny(t)){for(const r in t)Cr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&Cr(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Pa(t,e,n,r){try{return r?t(...r):t()}catch(s){Pc(s,e,n)}}function ur(t,e,n,r){if(De(t)){const s=Pa(t,e,n,r);return s&&ky(s)&&s.catch(i=>{Pc(i,e,n)}),s}if(_e(t)){const s=[];for(let i=0;i<t.length;i++)s.push(ur(t[i],e,n,r));return s}}function Pc(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||tt;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,l,u)===!1)return}a=a.parent}if(i){xr(),Pa(i,null,10,[t,l,u]),Vr();return}}eb(t,n,s,r,o)}function eb(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const pn=[];let Xn=-1;const Ci=[];let ts=null,mi=0;const t0=Promise.resolve();let jl=null;function Wf(t){const e=jl||t0;return t?e.then(this?t.bind(this):t):e}function tb(t){let e=Xn+1,n=pn.length;for(;e<n;){const r=e+n>>>1,s=pn[r],i=ia(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function qf(t){if(!(t.flags&1)){const e=ia(t),n=pn[pn.length-1];!n||!(t.flags&2)&&e>=ia(n)?pn.push(t):pn.splice(tb(e),0,t),t.flags|=1,n0()}}function n0(){jl||(jl=t0.then(s0))}function nb(t){_e(t)?Ci.push(...t):ts&&t.id===-1?ts.splice(mi+1,0,t):t.flags&1||(Ci.push(t),t.flags|=1),n0()}function dg(t,e,n=Xn+1){for(;n<pn.length;n++){const r=pn[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;pn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function r0(t){if(Ci.length){const e=[...new Set(Ci)].sort((n,r)=>ia(n)-ia(r));if(Ci.length=0,ts){ts.push(...e);return}for(ts=e,mi=0;mi<ts.length;mi++){const n=ts[mi];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ts=null,mi=0}}const ia=t=>t.id==null?t.flags&2?-1:1/0:t.id;function s0(t){try{for(Xn=0;Xn<pn.length;Xn++){const e=pn[Xn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Pa(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Xn<pn.length;Xn++){const e=pn[Xn];e&&(e.flags&=-2)}Xn=-1,pn.length=0,r0(),jl=null,(pn.length||Ci.length)&&s0()}}let Vt=null,i0=null;function Hl(t){const e=Vt;return Vt=t,i0=t&&t.type.__scopeId||null,e}function Kf(t,e=Vt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Tg(-1);const i=Hl(e);let o;try{o=t(...s)}finally{Hl(i),r._d&&Tg(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Bo(t,e){if(Vt===null)return t;const n=Dc(Vt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=tt]=e[s];i&&(De(i)&&(i={mounted:i,updated:i}),i.deep&&Cr(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Fs(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(xr(),ur(l,n,8,[t.el,a,t,e]),Vr())}}const rb=Symbol("_vte"),sb=t=>t.__isTeleport;function Gf(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Gf(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function eo(t,e){return De(t)?cn({name:t.name},e,{setup:t}):t}function o0(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function jo(t,e,n,r,s=!1){if(_e(t)){t.forEach((E,w)=>jo(E,e&&(_e(e)?e[w]:e),n,r,s));return}if(Si(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&jo(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Dc(r.component):r.el,o=s?null:i,{i:a,r:l}=t,u=e&&e.r,h=a.refs===tt?a.refs={}:a.refs,f=a.setupState,m=Ye(f),g=f===tt?()=>!1:E=>Qe(m,E);if(u!=null&&u!==l&&(bt(u)?(h[u]=null,g(u)&&(f[u]=null)):zt(u)&&(u.value=null)),De(l))Pa(l,a,12,[o,h]);else{const E=bt(l),w=zt(l);if(E||w){const R=()=>{if(t.f){const L=E?g(l)?f[l]:h[l]:l.value;s?_e(L)&&Nf(L,i):_e(L)?L.includes(i)||L.push(i):E?(h[l]=[i],g(l)&&(f[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else E?(h[l]=o,g(l)&&(f[l]=o)):w&&(l.value=o,t.k&&(h[t.k]=o))};o?(R.id=-1,An(R,n)):R()}}}Cc().requestIdleCallback;Cc().cancelIdleCallback;const Si=t=>!!t.type.__asyncLoader,a0=t=>t.type.__isKeepAlive;function ib(t,e){l0(t,"a",e)}function ob(t,e){l0(t,"da",e)}function l0(t,e,n=Kt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Rc(e,r,n),n){let s=n.parent;for(;s&&s.parent;)a0(s.parent.vnode)&&ab(r,e,n,s),s=s.parent}}function ab(t,e,n,r){const s=Rc(e,t,r,!0);zf(()=>{Nf(r[e],s)},n)}function Rc(t,e,n=Kt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{xr();const a=ka(n),l=ur(e,n,t,o);return a(),Vr(),l});return r?s.unshift(i):s.push(i),i}}const qr=t=>(e,n=Kt)=>{(!ca||t==="sp")&&Rc(t,(...r)=>e(...r),n)},c0=qr("bm"),u0=qr("m"),lb=qr("bu"),cb=qr("u"),ub=qr("bum"),zf=qr("um"),hb=qr("sp"),fb=qr("rtg"),db=qr("rtc");function mb(t,e=Kt){Rc("ec",t,e)}const h0="components",gb="directives";function mt(t,e){return d0(h0,t,!0,e)||t}const pb=Symbol.for("v-ndc");function f0(t){return d0(gb,t)}function d0(t,e,n=!0,r=!1){const s=Vt||Kt;if(s){const i=s.type;if(t===h0){const a=rA(i,!1);if(a&&(a===e||a===xn(e)||a===Ac(xn(e))))return i}const o=mg(s[t]||i[t],e)||mg(s.appContext[t],e);return!o&&r?i:o}}function mg(t,e){return t&&(t[e]||t[xn(e)]||t[Ac(xn(e))])}function qt(t,e,n,r){let s;const i=n,o=_e(t);if(o||bt(t)){const a=o&&bi(t);let l=!1,u=!1;a&&(l=!Mn(t),u=vs(t),t=Sc(t)),s=new Array(t.length);for(let h=0,f=t.length;h<f;h++)s[h]=e(l?u?$l(Wt(t[h])):Wt(t[h]):t[h],h,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(ot(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const h=a[l];s[l]=e(t[h],h,l,i)}}else s=[];return s}function _b(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(_e(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function m0(t,e,n={},r,s){if(Vt.ce||Vt.parent&&Si(Vt.parent)&&Vt.parent.ce)return e!=="default"&&(n.name=e),Z(),ln(pe,null,[je("slot",n,r)],64);let i=t[e];i&&i._c&&(i._d=!1),Z();const o=i&&g0(i(n)),a=n.key||o&&o.key,l=ln(pe,{key:(a&&!Gn(a)?a:`_${e}`)+""},o||[],o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function g0(t){return t.some(e=>aa(e)?!(e.type===Fr||e.type===pe&&!g0(e.children)):!0)?t:null}const mh=t=>t?M0(t)?Dc(t):mh(t.parent):null,Ho=cn(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>mh(t.parent),$root:t=>mh(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>_0(t),$forceUpdate:t=>t.f||(t.f=()=>{qf(t.update)}),$nextTick:t=>t.n||(t.n=Wf.bind(t.proxy)),$watch:t=>Fb.bind(t)}),Du=(t,e)=>t!==tt&&!t.__isScriptSetup&&Qe(t,e),yb={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Du(r,e))return o[e]=1,r[e];if(s!==tt&&Qe(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&Qe(u,e))return o[e]=3,i[e];if(n!==tt&&Qe(n,e))return o[e]=4,n[e];gh&&(o[e]=0)}}const h=Ho[e];let f,m;if(h)return e==="$attrs"&&on(t.attrs,"get",""),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==tt&&Qe(n,e))return o[e]=4,n[e];if(m=l.config.globalProperties,Qe(m,e))return m[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Du(s,e)?(s[e]=n,!0):r!==tt&&Qe(r,e)?(r[e]=n,!0):Qe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==tt&&Qe(t,o)||Du(e,o)||(a=i[0])&&Qe(a,o)||Qe(r,o)||Qe(Ho,o)||Qe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Qe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function gg(t){return _e(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let gh=!0;function vb(t){const e=_0(t),n=t.proxy,r=t.ctx;gh=!1,e.beforeCreate&&pg(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:u,created:h,beforeMount:f,mounted:m,beforeUpdate:g,updated:E,activated:w,deactivated:R,beforeDestroy:L,beforeUnmount:S,destroyed:T,unmounted:A,render:U,renderTracked:F,renderTriggered:y,errorCaptured:_,serverPrefetch:v,expose:N,inheritAttrs:V,components:x,directives:P,filters:be}=e;if(u&&Eb(u,r,null),o)for(const Ce in o){const Ie=o[Ce];De(Ie)&&(r[Ce]=Ie.bind(n))}if(s){const Ce=s.call(n,n);ot(Ce)&&(t.data=Mt(Ce))}if(gh=!0,i)for(const Ce in i){const Ie=i[Ce],ut=De(Ie)?Ie.bind(n,n):De(Ie.get)?Ie.get.bind(n,n):nr,yt=!De(Ie)&&De(Ie.set)?Ie.set.bind(n):nr,Je=Et({get:ut,set:yt});Object.defineProperty(r,Ce,{enumerable:!0,configurable:!0,get:()=>Je.value,set:$e=>Je.value=$e})}if(a)for(const Ce in a)p0(a[Ce],r,n,Ce);if(l){const Ce=De(l)?l.call(n):l;Reflect.ownKeys(Ce).forEach(Ie=>{Al(Ie,Ce[Ie])})}h&&pg(h,t,"c");function ke(Ce,Ie){_e(Ie)?Ie.forEach(ut=>Ce(ut.bind(n))):Ie&&Ce(Ie.bind(n))}if(ke(c0,f),ke(u0,m),ke(lb,g),ke(cb,E),ke(ib,w),ke(ob,R),ke(mb,_),ke(db,F),ke(fb,y),ke(ub,S),ke(zf,A),ke(hb,v),_e(N))if(N.length){const Ce=t.exposed||(t.exposed={});N.forEach(Ie=>{Object.defineProperty(Ce,Ie,{get:()=>n[Ie],set:ut=>n[Ie]=ut})})}else t.exposed||(t.exposed={});U&&t.render===nr&&(t.render=U),V!=null&&(t.inheritAttrs=V),x&&(t.components=x),P&&(t.directives=P),v&&o0(t)}function Eb(t,e,n=nr){_e(t)&&(t=ph(t));for(const r in t){const s=t[r];let i;ot(s)?"default"in s?i=rr(s.from||r,s.default,!0):i=rr(s.from||r):i=rr(s),zt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function pg(t,e,n){ur(_e(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function p0(t,e,n,r){let s=r.includes(".")?k0(n,r):()=>n[r];if(bt(t)){const i=e[t];De(i)&&Ys(s,i)}else if(De(t))Ys(s,t.bind(n));else if(ot(t))if(_e(t))t.forEach(i=>p0(i,e,n,r));else{const i=De(t.handler)?t.handler.bind(n):e[t.handler];De(i)&&Ys(s,i,t)}}function _0(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(u=>Wl(l,u,o,!0)),Wl(l,e,o)),ot(e)&&i.set(e,l),l}function Wl(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Wl(t,i,n,!0),s&&s.forEach(o=>Wl(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=wb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const wb={data:_g,props:yg,emits:yg,methods:So,computed:So,beforeCreate:dn,created:dn,beforeMount:dn,mounted:dn,beforeUpdate:dn,updated:dn,beforeDestroy:dn,beforeUnmount:dn,destroyed:dn,unmounted:dn,activated:dn,deactivated:dn,errorCaptured:dn,serverPrefetch:dn,components:So,directives:So,watch:Tb,provide:_g,inject:Ib};function _g(t,e){return e?t?function(){return cn(De(t)?t.call(this,this):t,De(e)?e.call(this,this):e)}:e:t}function Ib(t,e){return So(ph(t),ph(e))}function ph(t){if(_e(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function dn(t,e){return t?[...new Set([].concat(t,e))]:e}function So(t,e){return t?cn(Object.create(null),t,e):e}function yg(t,e){return t?_e(t)&&_e(e)?[...new Set([...t,...e])]:cn(Object.create(null),gg(t),gg(e??{})):e}function Tb(t,e){if(!t)return e;if(!e)return t;const n=cn(Object.create(null),t);for(const r in e)n[r]=dn(t[r],e[r]);return n}function y0(){return{app:null,config:{isNativeTag:gT,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let bb=0;function Ab(t,e){return function(r,s=null){De(r)||(r=cn({},r)),s!=null&&!ot(s)&&(s=null);const i=y0(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:bb++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:iA,get config(){return i.config},set config(h){},use(h,...f){return o.has(h)||(h&&De(h.install)?(o.add(h),h.install(u,...f)):De(h)&&(o.add(h),h(u,...f))),u},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),u},component(h,f){return f?(i.components[h]=f,u):i.components[h]},directive(h,f){return f?(i.directives[h]=f,u):i.directives[h]},mount(h,f,m){if(!l){const g=u._ceVNode||je(r,s);return g.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),t(g,h,m),l=!0,u._container=h,h.__vue_app__=u,Dc(g.component)}},onUnmount(h){a.push(h)},unmount(){l&&(ur(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(h,f){return i.provides[h]=f,u},runWithContext(h){const f=Pi;Pi=u;try{return h()}finally{Pi=f}}};return u}}let Pi=null;function Al(t,e){if(Kt){let n=Kt.provides;const r=Kt.parent&&Kt.parent.provides;r===n&&(n=Kt.provides=Object.create(r)),n[t]=e}}function rr(t,e,n=!1){const r=Kt||Vt;if(r||Pi){let s=Pi?Pi._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&De(e)?e.call(r&&r.proxy):e}}const v0={},E0=()=>Object.create(v0),w0=t=>Object.getPrototypeOf(t)===v0;function Cb(t,e,n,r=!1){const s={},i=E0();t.propsDefaults=Object.create(null),I0(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Jy(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Sb(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Ye(s),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let m=h[f];if(kc(t.emitsOptions,m))continue;const g=e[m];if(l)if(Qe(i,m))g!==i[m]&&(i[m]=g,u=!0);else{const E=xn(m);s[E]=_h(l,a,E,g,t,!1)}else g!==i[m]&&(i[m]=g,u=!0)}}}else{I0(t,e,s,i)&&(u=!0);let h;for(const f in a)(!e||!Qe(e,f)&&((h=ri(f))===f||!Qe(e,h)))&&(l?n&&(n[f]!==void 0||n[h]!==void 0)&&(s[f]=_h(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!Qe(e,f))&&(delete i[f],u=!0)}u&&Ar(t.attrs,"set","")}function I0(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Fo(l))continue;const u=e[l];let h;s&&Qe(s,h=xn(l))?!i||!i.includes(h)?n[h]=u:(a||(a={}))[h]=u:kc(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=Ye(n),u=a||tt;for(let h=0;h<i.length;h++){const f=i[h];n[f]=_h(s,l,f,u[f],t,!Qe(u,f))}}return o}function _h(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Qe(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&De(l)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const h=ka(s);r=u[n]=l.call(null,e),h()}}else r=l;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ri(n))&&(r=!0))}return r}const Pb=new WeakMap;function T0(t,e,n=!1){const r=n?Pb:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!De(t)){const h=f=>{l=!0;const[m,g]=T0(f,e,!0);cn(o,m),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return ot(t)&&r.set(t,Ii),Ii;if(_e(i))for(let h=0;h<i.length;h++){const f=xn(i[h]);vg(f)&&(o[f]=tt)}else if(i)for(const h in i){const f=xn(h);if(vg(f)){const m=i[h],g=o[f]=_e(m)||De(m)?{type:m}:cn({},m),E=g.type;let w=!1,R=!0;if(_e(E))for(let L=0;L<E.length;++L){const S=E[L],T=De(S)&&S.name;if(T==="Boolean"){w=!0;break}else T==="String"&&(R=!1)}else w=De(E)&&E.name==="Boolean";g[0]=w,g[1]=R,(w||Qe(g,"default"))&&a.push(f)}}const u=[o,a];return ot(t)&&r.set(t,u),u}function vg(t){return t[0]!=="$"&&!Fo(t)}const Yf=t=>t[0]==="_"||t==="$stable",Qf=t=>_e(t)?t.map(Zn):[Zn(t)],Rb=(t,e,n)=>{if(e._n)return e;const r=Kf((...s)=>Qf(e(...s)),n);return r._c=!1,r},b0=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Yf(s))continue;const i=t[s];if(De(i))e[s]=Rb(s,i,r);else if(i!=null){const o=Qf(i);e[s]=()=>o}}},A0=(t,e)=>{const n=Qf(e);t.slots.default=()=>n},C0=(t,e,n)=>{for(const r in e)(n||!Yf(r))&&(t[r]=e[r])},kb=(t,e,n)=>{const r=t.slots=E0();if(t.vnode.shapeFlag&32){const s=e.__;s&&ch(r,"__",s,!0);const i=e._;i?(C0(r,e,n),n&&ch(r,"_",i,!0)):b0(e,r)}else e&&A0(t,e)},Db=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=tt;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:C0(s,e,n):(i=!e.$stable,b0(e,s)),o=e}else e&&(A0(t,e),o={default:1});if(i)for(const a in s)!Yf(a)&&o[a]==null&&delete s[a]},An=qb;function Nb(t){return Ob(t)}function Ob(t,e){const n=Cc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:h,parentNode:f,nextSibling:m,setScopeId:g=nr,insertStaticContent:E}=t,w=(k,M,D,H=null,Q=null,Y=null,re=void 0,te=null,b=!!M.dynamicChildren)=>{if(k===M)return;k&&!To(k,M)&&(H=z(k),$e(k,Q,Y,!0),k=null),M.patchFlag===-2&&(b=!1,M.dynamicChildren=null);const{type:C,ref:j,shapeFlag:K}=M;switch(C){case Ra:R(k,M,D,H);break;case Fr:L(k,M,D,H);break;case Ou:k==null&&S(M,D,H,re);break;case pe:x(k,M,D,H,Q,Y,re,te,b);break;default:K&1?U(k,M,D,H,Q,Y,re,te,b):K&6?P(k,M,D,H,Q,Y,re,te,b):(K&64||K&128)&&C.process(k,M,D,H,Q,Y,re,te,b,ue)}j!=null&&Q?jo(j,k&&k.ref,Y,M||k,!M):j==null&&k&&k.ref!=null&&jo(k.ref,null,Y,k,!0)},R=(k,M,D,H)=>{if(k==null)r(M.el=a(M.children),D,H);else{const Q=M.el=k.el;M.children!==k.children&&u(Q,M.children)}},L=(k,M,D,H)=>{k==null?r(M.el=l(M.children||""),D,H):M.el=k.el},S=(k,M,D,H)=>{[k.el,k.anchor]=E(k.children,M,D,H,k.el,k.anchor)},T=({el:k,anchor:M},D,H)=>{let Q;for(;k&&k!==M;)Q=m(k),r(k,D,H),k=Q;r(M,D,H)},A=({el:k,anchor:M})=>{let D;for(;k&&k!==M;)D=m(k),s(k),k=D;s(M)},U=(k,M,D,H,Q,Y,re,te,b)=>{M.type==="svg"?re="svg":M.type==="math"&&(re="mathml"),k==null?F(M,D,H,Q,Y,re,te,b):v(k,M,Q,Y,re,te,b)},F=(k,M,D,H,Q,Y,re,te)=>{let b,C;const{props:j,shapeFlag:K,transition:ne,dirs:ee}=k;if(b=k.el=o(k.type,Y,j&&j.is,j),K&8?h(b,k.children):K&16&&_(k.children,b,null,H,Q,Nu(k,Y),re,te),ee&&Fs(k,null,H,"created"),y(b,k,k.scopeId,re,H),j){for(const W in j)W!=="value"&&!Fo(W)&&i(b,W,null,j[W],Y,H);"value"in j&&i(b,"value",null,j.value,Y),(C=j.onVnodeBeforeMount)&&Qn(C,H,k)}ee&&Fs(k,null,H,"beforeMount");const $=Lb(Q,ne);$&&ne.beforeEnter(b),r(b,M,D),((C=j&&j.onVnodeMounted)||$||ee)&&An(()=>{C&&Qn(C,H,k),$&&ne.enter(b),ee&&Fs(k,null,H,"mounted")},Q)},y=(k,M,D,H,Q)=>{if(D&&g(k,D),H)for(let Y=0;Y<H.length;Y++)g(k,H[Y]);if(Q){let Y=Q.subTree;if(M===Y||N0(Y.type)&&(Y.ssContent===M||Y.ssFallback===M)){const re=Q.vnode;y(k,re,re.scopeId,re.slotScopeIds,Q.parent)}}},_=(k,M,D,H,Q,Y,re,te,b=0)=>{for(let C=b;C<k.length;C++){const j=k[C]=te?ns(k[C]):Zn(k[C]);w(null,j,M,D,H,Q,Y,re,te)}},v=(k,M,D,H,Q,Y,re)=>{const te=M.el=k.el;let{patchFlag:b,dynamicChildren:C,dirs:j}=M;b|=k.patchFlag&16;const K=k.props||tt,ne=M.props||tt;let ee;if(D&&Us(D,!1),(ee=ne.onVnodeBeforeUpdate)&&Qn(ee,D,M,k),j&&Fs(M,k,D,"beforeUpdate"),D&&Us(D,!0),(K.innerHTML&&ne.innerHTML==null||K.textContent&&ne.textContent==null)&&h(te,""),C?N(k.dynamicChildren,C,te,D,H,Nu(M,Q),Y):re||Ie(k,M,te,null,D,H,Nu(M,Q),Y,!1),b>0){if(b&16)V(te,K,ne,D,Q);else if(b&2&&K.class!==ne.class&&i(te,"class",null,ne.class,Q),b&4&&i(te,"style",K.style,ne.style,Q),b&8){const $=M.dynamicProps;for(let W=0;W<$.length;W++){const de=$[W],Oe=K[de],rt=ne[de];(rt!==Oe||de==="value")&&i(te,de,Oe,rt,Q,D)}}b&1&&k.children!==M.children&&h(te,M.children)}else!re&&C==null&&V(te,K,ne,D,Q);((ee=ne.onVnodeUpdated)||j)&&An(()=>{ee&&Qn(ee,D,M,k),j&&Fs(M,k,D,"updated")},H)},N=(k,M,D,H,Q,Y,re)=>{for(let te=0;te<M.length;te++){const b=k[te],C=M[te],j=b.el&&(b.type===pe||!To(b,C)||b.shapeFlag&198)?f(b.el):D;w(b,C,j,null,H,Q,Y,re,!0)}},V=(k,M,D,H,Q)=>{if(M!==D){if(M!==tt)for(const Y in M)!Fo(Y)&&!(Y in D)&&i(k,Y,M[Y],null,Q,H);for(const Y in D){if(Fo(Y))continue;const re=D[Y],te=M[Y];re!==te&&Y!=="value"&&i(k,Y,te,re,Q,H)}"value"in D&&i(k,"value",M.value,D.value,Q)}},x=(k,M,D,H,Q,Y,re,te,b)=>{const C=M.el=k?k.el:a(""),j=M.anchor=k?k.anchor:a("");let{patchFlag:K,dynamicChildren:ne,slotScopeIds:ee}=M;ee&&(te=te?te.concat(ee):ee),k==null?(r(C,D,H),r(j,D,H),_(M.children||[],D,j,Q,Y,re,te,b)):K>0&&K&64&&ne&&k.dynamicChildren?(N(k.dynamicChildren,ne,D,Q,Y,re,te),(M.key!=null||Q&&M===Q.subTree)&&S0(k,M,!0)):Ie(k,M,D,j,Q,Y,re,te,b)},P=(k,M,D,H,Q,Y,re,te,b)=>{M.slotScopeIds=te,k==null?M.shapeFlag&512?Q.ctx.activate(M,D,H,re,b):be(M,D,H,Q,Y,re,b):Ge(k,M,b)},be=(k,M,D,H,Q,Y,re)=>{const te=k.component=Xb(k,H,Q);if(a0(k)&&(te.ctx.renderer=ue),Zb(te,!1,re),te.asyncDep){if(Q&&Q.registerDep(te,ke,re),!k.el){const b=te.subTree=je(Fr);L(null,b,M,D)}}else ke(te,k,M,D,Q,Y,re)},Ge=(k,M,D)=>{const H=M.component=k.component;if(Hb(k,M,D))if(H.asyncDep&&!H.asyncResolved){Ce(H,M,D);return}else H.next=M,H.update();else M.el=k.el,H.vnode=M},ke=(k,M,D,H,Q,Y,re)=>{const te=()=>{if(k.isMounted){let{next:K,bu:ne,u:ee,parent:$,vnode:W}=k;{const dt=P0(k);if(dt){K&&(K.el=W.el,Ce(k,K,re)),dt.asyncDep.then(()=>{k.isUnmounted||te()});return}}let de=K,Oe;Us(k,!1),K?(K.el=W.el,Ce(k,K,re)):K=W,ne&&bl(ne),(Oe=K.props&&K.props.onVnodeBeforeUpdate)&&Qn(Oe,$,K,W),Us(k,!0);const rt=wg(k),$t=k.subTree;k.subTree=rt,w($t,rt,f($t.el),z($t),k,Q,Y),K.el=rt.el,de===null&&Wb(k,rt.el),ee&&An(ee,Q),(Oe=K.props&&K.props.onVnodeUpdated)&&An(()=>Qn(Oe,$,K,W),Q)}else{let K;const{el:ne,props:ee}=M,{bm:$,m:W,parent:de,root:Oe,type:rt}=k,$t=Si(M);Us(k,!1),$&&bl($),!$t&&(K=ee&&ee.onVnodeBeforeMount)&&Qn(K,de,M),Us(k,!0);{Oe.ce&&Oe.ce._def.shadowRoot!==!1&&Oe.ce._injectChildStyle(rt);const dt=k.subTree=wg(k);w(null,dt,D,H,k,Q,Y),M.el=dt.el}if(W&&An(W,Q),!$t&&(K=ee&&ee.onVnodeMounted)){const dt=M;An(()=>Qn(K,de,dt),Q)}(M.shapeFlag&256||de&&Si(de.vnode)&&de.vnode.shapeFlag&256)&&k.a&&An(k.a,Q),k.isMounted=!0,M=D=H=null}};k.scope.on();const b=k.effect=new Vy(te);k.scope.off();const C=k.update=b.run.bind(b),j=k.job=b.runIfDirty.bind(b);j.i=k,j.id=k.uid,b.scheduler=()=>qf(j),Us(k,!0),C()},Ce=(k,M,D)=>{M.component=k;const H=k.vnode.props;k.vnode=M,k.next=null,Sb(k,M.props,H,D),Db(k,M.children,D),xr(),dg(k),Vr()},Ie=(k,M,D,H,Q,Y,re,te,b=!1)=>{const C=k&&k.children,j=k?k.shapeFlag:0,K=M.children,{patchFlag:ne,shapeFlag:ee}=M;if(ne>0){if(ne&128){yt(C,K,D,H,Q,Y,re,te,b);return}else if(ne&256){ut(C,K,D,H,Q,Y,re,te,b);return}}ee&8?(j&16&&ft(C,Q,Y),K!==C&&h(D,K)):j&16?ee&16?yt(C,K,D,H,Q,Y,re,te,b):ft(C,Q,Y,!0):(j&8&&h(D,""),ee&16&&_(K,D,H,Q,Y,re,te,b))},ut=(k,M,D,H,Q,Y,re,te,b)=>{k=k||Ii,M=M||Ii;const C=k.length,j=M.length,K=Math.min(C,j);let ne;for(ne=0;ne<K;ne++){const ee=M[ne]=b?ns(M[ne]):Zn(M[ne]);w(k[ne],ee,D,null,Q,Y,re,te,b)}C>j?ft(k,Q,Y,!0,!1,K):_(M,D,H,Q,Y,re,te,b,K)},yt=(k,M,D,H,Q,Y,re,te,b)=>{let C=0;const j=M.length;let K=k.length-1,ne=j-1;for(;C<=K&&C<=ne;){const ee=k[C],$=M[C]=b?ns(M[C]):Zn(M[C]);if(To(ee,$))w(ee,$,D,null,Q,Y,re,te,b);else break;C++}for(;C<=K&&C<=ne;){const ee=k[K],$=M[ne]=b?ns(M[ne]):Zn(M[ne]);if(To(ee,$))w(ee,$,D,null,Q,Y,re,te,b);else break;K--,ne--}if(C>K){if(C<=ne){const ee=ne+1,$=ee<j?M[ee].el:H;for(;C<=ne;)w(null,M[C]=b?ns(M[C]):Zn(M[C]),D,$,Q,Y,re,te,b),C++}}else if(C>ne)for(;C<=K;)$e(k[C],Q,Y,!0),C++;else{const ee=C,$=C,W=new Map;for(C=$;C<=ne;C++){const Bt=M[C]=b?ns(M[C]):Zn(M[C]);Bt.key!=null&&W.set(Bt.key,C)}let de,Oe=0;const rt=ne-$+1;let $t=!1,dt=0;const Yn=new Array(rt);for(C=0;C<rt;C++)Yn[C]=0;for(C=ee;C<=K;C++){const Bt=k[C];if(Oe>=rt){$e(Bt,Q,Y,!0);continue}let Dn;if(Bt.key!=null)Dn=W.get(Bt.key);else for(de=$;de<=ne;de++)if(Yn[de-$]===0&&To(Bt,M[de])){Dn=de;break}Dn===void 0?$e(Bt,Q,Y,!0):(Yn[Dn-$]=C+1,Dn>=dt?dt=Dn:$t=!0,w(Bt,M[Dn],D,null,Q,Y,re,te,b),Oe++)}const oi=$t?Mb(Yn):Ii;for(de=oi.length-1,C=rt-1;C>=0;C--){const Bt=$+C,Dn=M[Bt],Ka=Bt+1<j?M[Bt+1].el:H;Yn[C]===0?w(null,Dn,D,Ka,Q,Y,re,te,b):$t&&(de<0||C!==oi[de]?Je(Dn,D,Ka,2):de--)}}},Je=(k,M,D,H,Q=null)=>{const{el:Y,type:re,transition:te,children:b,shapeFlag:C}=k;if(C&6){Je(k.component.subTree,M,D,H);return}if(C&128){k.suspense.move(M,D,H);return}if(C&64){re.move(k,M,D,ue);return}if(re===pe){r(Y,M,D);for(let K=0;K<b.length;K++)Je(b[K],M,D,H);r(k.anchor,M,D);return}if(re===Ou){T(k,M,D);return}if(H!==2&&C&1&&te)if(H===0)te.beforeEnter(Y),r(Y,M,D),An(()=>te.enter(Y),Q);else{const{leave:K,delayLeave:ne,afterLeave:ee}=te,$=()=>{k.ctx.isUnmounted?s(Y):r(Y,M,D)},W=()=>{K(Y,()=>{$(),ee&&ee()})};ne?ne(Y,$,W):W()}else r(Y,M,D)},$e=(k,M,D,H=!1,Q=!1)=>{const{type:Y,props:re,ref:te,children:b,dynamicChildren:C,shapeFlag:j,patchFlag:K,dirs:ne,cacheIndex:ee}=k;if(K===-2&&(Q=!1),te!=null&&(xr(),jo(te,null,D,k,!0),Vr()),ee!=null&&(M.renderCache[ee]=void 0),j&256){M.ctx.deactivate(k);return}const $=j&1&&ne,W=!Si(k);let de;if(W&&(de=re&&re.onVnodeBeforeUnmount)&&Qn(de,M,k),j&6)kt(k.component,D,H);else{if(j&128){k.suspense.unmount(D,H);return}$&&Fs(k,null,M,"beforeUnmount"),j&64?k.type.remove(k,M,D,ue,H):C&&!C.hasOnce&&(Y!==pe||K>0&&K&64)?ft(C,M,D,!1,!0):(Y===pe&&K&384||!Q&&j&16)&&ft(b,M,D),H&&He(k)}(W&&(de=re&&re.onVnodeUnmounted)||$)&&An(()=>{de&&Qn(de,M,k),$&&Fs(k,null,M,"unmounted")},D)},He=k=>{const{type:M,el:D,anchor:H,transition:Q}=k;if(M===pe){Ut(D,H);return}if(M===Ou){A(k);return}const Y=()=>{s(D),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(k.shapeFlag&1&&Q&&!Q.persisted){const{leave:re,delayLeave:te}=Q,b=()=>re(D,Y);te?te(k.el,Y,b):b()}else Y()},Ut=(k,M)=>{let D;for(;k!==M;)D=m(k),s(k),k=D;s(M)},kt=(k,M,D)=>{const{bum:H,scope:Q,job:Y,subTree:re,um:te,m:b,a:C,parent:j,slots:{__:K}}=k;Eg(b),Eg(C),H&&bl(H),j&&_e(K)&&K.forEach(ne=>{j.renderCache[ne]=void 0}),Q.stop(),Y&&(Y.flags|=8,$e(re,k,M,D)),te&&An(te,M),An(()=>{k.isUnmounted=!0},M),M&&M.pendingBranch&&!M.isUnmounted&&k.asyncDep&&!k.asyncResolved&&k.suspenseId===M.pendingId&&(M.deps--,M.deps===0&&M.resolve())},ft=(k,M,D,H=!1,Q=!1,Y=0)=>{for(let re=Y;re<k.length;re++)$e(k[re],M,D,H,Q)},z=k=>{if(k.shapeFlag&6)return z(k.component.subTree);if(k.shapeFlag&128)return k.suspense.next();const M=m(k.anchor||k.el),D=M&&M[rb];return D?m(D):M};let ae=!1;const ie=(k,M,D)=>{k==null?M._vnode&&$e(M._vnode,null,null,!0):w(M._vnode||null,k,M,null,null,null,D),M._vnode=k,ae||(ae=!0,dg(),r0(),ae=!1)},ue={p:w,um:$e,m:Je,r:He,mt:be,mc:_,pc:Ie,pbc:N,n:z,o:t};return{render:ie,hydrate:void 0,createApp:Ab(ie)}}function Nu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Us({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Lb(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function S0(t,e,n=!1){const r=t.children,s=e.children;if(_e(r)&&_e(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=ns(s[i]),a.el=o.el),!n&&a.patchFlag!==-2&&S0(o,a)),a.type===Ra&&(a.el=o.el),a.type===Fr&&!a.el&&(a.el=o.el)}}function Mb(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<u?i=a+1:o=a;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function P0(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:P0(e)}function Eg(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const xb=Symbol.for("v-scx"),Vb=()=>rr(xb);function Ys(t,e,n){return R0(t,e,n)}function R0(t,e,n=tt){const{immediate:r,deep:s,flush:i,once:o}=n,a=cn({},n),l=e&&r||!e&&i!=="post";let u;if(ca){if(i==="sync"){const g=Vb();u=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=nr,g.resume=nr,g.pause=nr,g}}const h=Kt;a.call=(g,E,w)=>ur(g,h,E,w);let f=!1;i==="post"?a.scheduler=g=>{An(g,h&&h.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(g,E)=>{E?g():qf(g)}),a.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,h&&(g.id=h.uid,g.i=h))};const m=ZT(t,e,a);return ca&&(u?u.push(m):l&&m()),m}function Fb(t,e,n){const r=this.proxy,s=bt(t)?t.includes(".")?k0(r,t):()=>r[t]:t.bind(r,r);let i;De(e)?i=e:(i=e.handler,n=e);const o=ka(this),a=R0(s,i.bind(r),n);return o(),a}function k0(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const Ub=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${xn(e)}Modifiers`]||t[`${ri(e)}Modifiers`];function $b(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||tt;let s=n;const i=e.startsWith("update:"),o=i&&Ub(r,e.slice(7));o&&(o.trim&&(s=n.map(h=>bt(h)?h.trim():h)),o.number&&(s=n.map(Ul)));let a,l=r[a=Cu(e)]||r[a=Cu(xn(e))];!l&&i&&(l=r[a=Cu(ri(e))]),l&&ur(l,t,6,s);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ur(u,t,6,s)}}function D0(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!De(t)){const l=u=>{const h=D0(u,e,!0);h&&(a=!0,cn(o,h))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ot(t)&&r.set(t,null),null):(_e(i)?i.forEach(l=>o[l]=null):cn(o,i),ot(t)&&r.set(t,o),o)}function kc(t,e){return!t||!Tc(e)?!1:(e=e.slice(2).replace(/Once$/,""),Qe(t,e[0].toLowerCase()+e.slice(1))||Qe(t,ri(e))||Qe(t,e))}function wg(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:h,props:f,data:m,setupState:g,ctx:E,inheritAttrs:w}=t,R=Hl(t);let L,S;try{if(n.shapeFlag&4){const A=s||r,U=A;L=Zn(u.call(U,A,h,f,g,m,E)),S=a}else{const A=e;L=Zn(A.length>1?A(f,{attrs:a,slots:o,emit:l}):A(f,null)),S=e.props?a:Bb(a)}}catch(A){Wo.length=0,Pc(A,t,1),L=je(Fr)}let T=L;if(S&&w!==!1){const A=Object.keys(S),{shapeFlag:U}=T;A.length&&U&7&&(i&&A.some(Df)&&(S=jb(S,i)),T=Oi(T,S,!1,!0))}return n.dirs&&(T=Oi(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&Gf(T,n.transition),L=T,Hl(R),L}const Bb=t=>{let e;for(const n in t)(n==="class"||n==="style"||Tc(n))&&((e||(e={}))[n]=t[n]);return e},jb=(t,e)=>{const n={};for(const r in t)(!Df(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Hb(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Ig(r,o,u):!!o;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const m=h[f];if(o[m]!==r[m]&&!kc(u,m))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ig(r,o,u):!0:!!o;return!1}function Ig(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!kc(n,i))return!0}return!1}function Wb({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const N0=t=>t.__isSuspense;function qb(t,e){e&&e.pendingBranch?_e(t)?e.effects.push(...t):e.effects.push(t):nb(t)}const pe=Symbol.for("v-fgt"),Ra=Symbol.for("v-txt"),Fr=Symbol.for("v-cmt"),Ou=Symbol.for("v-stc"),Wo=[];let Sn=null;function Z(t=!1){Wo.push(Sn=t?null:[])}function Kb(){Wo.pop(),Sn=Wo[Wo.length-1]||null}let oa=1;function Tg(t,e=!1){oa+=t,t<0&&Sn&&e&&(Sn.hasOnce=!0)}function O0(t){return t.dynamicChildren=oa>0?Sn||Ii:null,Kb(),oa>0&&Sn&&Sn.push(t),t}function oe(t,e,n,r,s,i){return O0(O(t,e,n,r,s,i,!0))}function ln(t,e,n,r,s){return O0(je(t,e,n,r,s,!0))}function aa(t){return t?t.__v_isVNode===!0:!1}function To(t,e){return t.type===e.type&&t.key===e.key}const L0=({key:t})=>t??null,Cl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?bt(t)||zt(t)||De(t)?{i:Vt,r:t,k:e,f:!!n}:t:null);function O(t,e=null,n=null,r=0,s=null,i=t===pe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&L0(e),ref:e&&Cl(e),scopeId:i0,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Vt};return a?(Jf(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=bt(n)?8:16),oa>0&&!o&&Sn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Sn.push(l),l}const je=Gb;function Gb(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===pb)&&(t=Fr),aa(t)){const a=Oi(t,e,!0);return n&&Jf(a,n),oa>0&&!i&&Sn&&(a.shapeFlag&6?Sn[Sn.indexOf(t)]=a:Sn.push(a)),a.patchFlag=-2,a}if(sA(t)&&(t=t.__vccOpts),e){e=zb(e);let{class:a,style:l}=e;a&&!bt(a)&&(e.class=Fe(a)),ot(l)&&(jf(l)&&!_e(l)&&(l=cn({},l)),e.style=Lf(l))}const o=bt(t)?1:N0(t)?128:sb(t)?64:ot(t)?4:De(t)?2:0;return O(t,e,n,r,s,o,i,!0)}function zb(t){return t?jf(t)||w0(t)?cn({},t):t:null}function Oi(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Yb(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&L0(u),ref:e&&e.ref?n&&i?_e(i)?i.concat(Cl(e)):[i,Cl(e)]:Cl(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==pe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Oi(t.ssContent),ssFallback:t.ssFallback&&Oi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&Gf(h,l.clone(h)),h}function yh(t=" ",e=0){return je(Ra,null,t,e)}function Ne(t="",e=!1){return e?(Z(),ln(Fr,null,t)):je(Fr,null,t)}function Zn(t){return t==null||typeof t=="boolean"?je(Fr):_e(t)?je(pe,null,t.slice()):aa(t)?ns(t):je(Ra,null,String(t))}function ns(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Oi(t)}function Jf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(_e(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Jf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!w0(e)?e._ctx=Vt:s===3&&Vt&&(Vt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:Vt},n=32):(e=String(e),r&64?(n=16,e=[yh(e)]):n=8);t.children=e,t.shapeFlag|=n}function Yb(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Fe([e.class,r.class]));else if(s==="style")e.style=Lf([e.style,r.style]);else if(Tc(s)){const i=e[s],o=r[s];o&&i!==o&&!(_e(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Qn(t,e,n,r=null){ur(t,e,7,[n,r])}const Qb=y0();let Jb=0;function Xb(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Qb,i={uid:Jb++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new xy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:T0(r,s),emitsOptions:D0(r,s),emit:null,emitted:null,propsDefaults:tt,inheritAttrs:r.inheritAttrs,ctx:tt,data:tt,props:tt,attrs:tt,slots:tt,refs:tt,setupState:tt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=$b.bind(null,i),t.ce&&t.ce(i),i}let Kt=null;const la=()=>Kt||Vt;let ql,vh;{const t=Cc(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};ql=e("__VUE_INSTANCE_SETTERS__",n=>Kt=n),vh=e("__VUE_SSR_SETTERS__",n=>ca=n)}const ka=t=>{const e=Kt;return ql(t),t.scope.on(),()=>{t.scope.off(),ql(e)}},bg=()=>{Kt&&Kt.scope.off(),ql(null)};function M0(t){return t.vnode.shapeFlag&4}let ca=!1;function Zb(t,e=!1,n=!1){e&&vh(e);const{props:r,children:s}=t.vnode,i=M0(t);Cb(t,r,i,e),kb(t,s,n||e);const o=i?eA(t,e):void 0;return e&&vh(!1),o}function eA(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,yb);const{setup:r}=n;if(r){xr();const s=t.setupContext=r.length>1?nA(t):null,i=ka(t),o=Pa(r,t,0,[t.props,s]),a=ky(o);if(Vr(),i(),(a||t.sp)&&!Si(t)&&o0(t),a){if(o.then(bg,bg),e)return o.then(l=>{Ag(t,l)}).catch(l=>{Pc(l,t,0)});t.asyncDep=o}else Ag(t,o)}else x0(t)}function Ag(t,e,n){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ot(e)&&(t.setupState=e0(e)),x0(t)}function x0(t,e,n){const r=t.type;t.render||(t.render=r.render||nr);{const s=ka(t);xr();try{vb(t)}finally{Vr(),s()}}}const tA={get(t,e){return on(t,"get",""),t[e]}};function nA(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,tA),slots:t.slots,emit:t.emit,expose:e}}function Dc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(e0(GT(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ho)return Ho[n](t)},has(e,n){return n in e||n in Ho}})):t.proxy}function rA(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function sA(t){return De(t)&&"__vccOpts"in t}const Et=(t,e)=>JT(t,e,ca);function Da(t,e,n){const r=arguments.length;return r===2?ot(e)&&!_e(e)?aa(e)?je(t,null,[e]):je(t,e):je(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&aa(n)&&(n=[n]),je(t,e,n))}const iA="3.5.17";/**
* @vue/runtime-dom v3.5.17
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Eh;const Cg=typeof window<"u"&&window.trustedTypes;if(Cg)try{Eh=Cg.createPolicy("vue",{createHTML:t=>t})}catch{}const V0=Eh?t=>Eh.createHTML(t):t=>t,oA="http://www.w3.org/2000/svg",aA="http://www.w3.org/1998/Math/MathML",Ir=typeof document<"u"?document:null,Sg=Ir&&Ir.createElement("template"),lA={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Ir.createElementNS(oA,t):e==="mathml"?Ir.createElementNS(aA,t):n?Ir.createElement(t,{is:n}):Ir.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Ir.createTextNode(t),createComment:t=>Ir.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ir.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Sg.innerHTML=V0(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Sg.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},cA=Symbol("_vtc");function uA(t,e,n){const r=t[cA];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Pg=Symbol("_vod"),hA=Symbol("_vsh"),fA=Symbol(""),dA=/(^|;)\s*display\s*:/;function mA(t,e,n){const r=t.style,s=bt(n);let i=!1;if(n&&!s){if(e)if(bt(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&Sl(r,a,"")}else for(const o in e)n[o]==null&&Sl(r,o,"");for(const o in n)o==="display"&&(i=!0),Sl(r,o,n[o])}else if(s){if(e!==n){const o=r[fA];o&&(n+=";"+o),r.cssText=n,i=dA.test(n)}}else e&&t.removeAttribute("style");Pg in t&&(t[Pg]=i?r.display:"",t[hA]&&(r.display="none"))}const Rg=/\s*!important$/;function Sl(t,e,n){if(_e(n))n.forEach(r=>Sl(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=gA(t,e);Rg.test(n)?t.setProperty(ri(r),n.replace(Rg,""),"important"):t[r]=n}}const kg=["Webkit","Moz","ms"],Lu={};function gA(t,e){const n=Lu[e];if(n)return n;let r=xn(e);if(r!=="filter"&&r in t)return Lu[e]=r;r=Ac(r);for(let s=0;s<kg.length;s++){const i=kg[s]+r;if(i in t)return Lu[e]=i}return e}const Dg="http://www.w3.org/1999/xlink";function Ng(t,e,n,r,s,i=AT(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Dg,e.slice(6,e.length)):t.setAttributeNS(Dg,e,n):n==null||i&&!Oy(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Gn(n)?String(n):n)}function Og(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?V0(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?t.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const a=typeof t[e];a==="boolean"?n=Oy(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function ss(t,e,n,r){t.addEventListener(e,n,r)}function pA(t,e,n,r){t.removeEventListener(e,n,r)}const Lg=Symbol("_vei");function _A(t,e,n,r,s=null){const i=t[Lg]||(t[Lg]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=yA(e);if(r){const u=i[e]=wA(r,s);ss(t,a,u,l)}else o&&(pA(t,a,o,l),i[e]=void 0)}}const Mg=/(?:Once|Passive|Capture)$/;function yA(t){let e;if(Mg.test(t)){e={};let r;for(;r=t.match(Mg);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ri(t.slice(2)),e]}let Mu=0;const vA=Promise.resolve(),EA=()=>Mu||(vA.then(()=>Mu=0),Mu=Date.now());function wA(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ur(IA(r,n.value),e,5,[r])};return n.value=t,n.attached=EA(),n}function IA(t,e){if(_e(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const xg=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,TA=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?uA(t,r,o):e==="style"?mA(t,n,r):Tc(e)?Df(e)||_A(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):bA(t,e,r,o))?(Og(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ng(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!bt(r))?Og(t,xn(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ng(t,e,r,o))};function bA(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&xg(e)&&De(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return xg(e)&&bt(n)?!1:e in t}const Li=t=>{const e=t.props["onUpdate:modelValue"]||!1;return _e(e)?n=>bl(e,n):e};function AA(t){t.target.composing=!0}function Vg(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Lr=Symbol("_assign"),CA={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Lr]=Li(s);const i=r||s.props&&s.props.type==="number";ss(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Ul(a)),t[Lr](a)}),n&&ss(t,"change",()=>{t.value=t.value.trim()}),e||(ss(t,"compositionstart",AA),ss(t,"compositionend",Vg),ss(t,"change",Vg))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Lr]=Li(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ul(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===l)||(t.value=l))}},SA={deep:!0,created(t,e,n){t[Lr]=Li(n),ss(t,"change",()=>{const r=t._modelValue,s=ua(t),i=t.checked,o=t[Lr];if(_e(r)){const a=Mf(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(Zi(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(F0(t,i))})},mounted:Fg,beforeUpdate(t,e,n){t[Lr]=Li(n),Fg(t,e,n)}};function Fg(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(_e(e))s=Mf(e,r.props.value)>-1;else if(Zi(e))s=e.has(r.props.value);else{if(e===n)return;s=Sa(e,F0(t,!0))}t.checked!==s&&(t.checked=s)}const PA={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Zi(e);ss(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ul(ua(o)):ua(o));t[Lr](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,Wf(()=>{t._assigning=!1})}),t[Lr]=Li(r)},mounted(t,{value:e}){Ug(t,e)},beforeUpdate(t,e,n){t[Lr]=Li(n)},updated(t,{value:e}){t._assigning||Ug(t,e)}};function Ug(t,e){const n=t.multiple,r=_e(e);if(!(n&&!r&&!Zi(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=ua(o);if(n)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=Mf(e,a)>-1}else o.selected=e.has(a);else if(Sa(ua(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ua(t){return"_value"in t?t._value:t.value}function F0(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const RA=cn({patchProp:TA},lA);let $g;function kA(){return $g||($g=Nb(RA))}const DA=(...t)=>{const e=kA().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=OA(r);if(!s)return;const i=e._component;!De(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,NA(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function NA(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function OA(t){return bt(t)?document.querySelector(t):t}var LA=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},U0={},kn={};let Xf;const MA=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];kn.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};kn.getSymbolTotalCodewords=function(e){return MA[e]};kn.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};kn.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Xf=e};kn.isKanjiModeEnabled=function(){return typeof Xf<"u"};kn.toSJIS=function(e){return Xf(e)};var Nc={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,s){if(t.isValid(r))return r;try{return e(r)}catch{return s}}})(Nc);function $0(){this.buffer=[],this.length=0}$0.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var xA=$0;function Na(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Na.prototype.set=function(t,e,n,r){const s=t*this.size+e;this.data[s]=n,r&&(this.reservedBit[s]=!0)};Na.prototype.get=function(t,e){return this.data[t*this.size+e]};Na.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Na.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var VA=Na,B0={};(function(t){const e=kn.getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=e(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let l=1;l<s-1;l++)a[l]=a[l-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const s=[],i=t.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let l=0;l<o;l++)a===0&&l===0||a===0&&l===o-1||a===o-1&&l===0||s.push([i[a],i[l]]);return s}})(B0);var j0={};const FA=kn.getSymbolSize,Bg=7;j0.getPositions=function(e){const n=FA(e);return[[0,0],[n-Bg,0],[0,n-Bg]]};var H0={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},t.from=function(s){return t.isValid(s)?parseInt(s,10):void 0},t.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,l=0,u=null,h=null;for(let f=0;f<i;f++){a=l=0,u=h=null;for(let m=0;m<i;m++){let g=s.get(f,m);g===u?a++:(a>=5&&(o+=e.N1+(a-5)),u=g,a=1),g=s.get(m,f),g===h?l++:(l>=5&&(o+=e.N1+(l-5)),h=g,l=1)}a>=5&&(o+=e.N1+(a-5)),l>=5&&(o+=e.N1+(l-5))}return o},t.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let l=0;l<i-1;l++){const u=s.get(a,l)+s.get(a,l+1)+s.get(a+1,l)+s.get(a+1,l+1);(u===4||u===0)&&o++}return o*e.N2},t.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,l=0;for(let u=0;u<i;u++){a=l=0;for(let h=0;h<i;h++)a=a<<1&2047|s.get(u,h),h>=10&&(a===1488||a===93)&&o++,l=l<<1&2047|s.get(h,u),h>=10&&(l===1488||l===93)&&o++}return o*e.N3},t.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let l=0;l<o;l++)i+=s.data[l];return Math.abs(Math.ceil(i*100/o/5)-10)*e.N4};function n(r,s,i){switch(r){case t.Patterns.PATTERN000:return(s+i)%2===0;case t.Patterns.PATTERN001:return s%2===0;case t.Patterns.PATTERN010:return i%3===0;case t.Patterns.PATTERN011:return(s+i)%3===0;case t.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case t.Patterns.PATTERN101:return s*i%2+s*i%3===0;case t.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case t.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let l=0;l<o;l++)i.isReserved(l,a)||i.xor(l,a,n(s,l,a))},t.getBestMask=function(s,i){const o=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let u=0;u<o;u++){i(u),t.applyMask(u,s);const h=t.getPenaltyN1(s)+t.getPenaltyN2(s)+t.getPenaltyN3(s)+t.getPenaltyN4(s);t.applyMask(u,s),h<l&&(l=h,a=u)}return a}})(H0);var Oc={};const hs=Nc,fl=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],dl=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Oc.getBlocksCount=function(e,n){switch(n){case hs.L:return fl[(e-1)*4+0];case hs.M:return fl[(e-1)*4+1];case hs.Q:return fl[(e-1)*4+2];case hs.H:return fl[(e-1)*4+3];default:return}};Oc.getTotalCodewordsCount=function(e,n){switch(n){case hs.L:return dl[(e-1)*4+0];case hs.M:return dl[(e-1)*4+1];case hs.Q:return dl[(e-1)*4+2];case hs.H:return dl[(e-1)*4+3];default:return}};var W0={},Lc={};const qo=new Uint8Array(512),Kl=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)qo[n]=e,Kl[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)qo[n]=qo[n-255]})();Lc.log=function(e){if(e<1)throw new Error("log("+e+")");return Kl[e]};Lc.exp=function(e){return qo[e]};Lc.mul=function(e,n){return e===0||n===0?0:qo[Kl[e]+Kl[n]]};(function(t){const e=Lc;t.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=e.mul(r[o],s[a]);return i},t.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let l=0;l<s.length;l++)i[l]^=e.mul(s[l],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},t.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=t.mul(s,new Uint8Array([1,e.exp(i)]));return s}})(W0);const q0=W0;function Zf(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Zf.prototype.initialize=function(e){this.degree=e,this.genPoly=q0.generateECPolynomial(this.degree)};Zf.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(e.length+this.degree);n.set(e);const r=q0.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var UA=Zf,K0={},Ss={},ed={};ed.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var dr={};const G0="[0-9]+",$A="[A-Z $%*+\\-./:]+";let ha="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";ha=ha.replace(/u/g,"\\u");const BA="(?:(?![A-Z0-9 $%*+\\-./:]|"+ha+`)(?:.|[\r
]))+`;dr.KANJI=new RegExp(ha,"g");dr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");dr.BYTE=new RegExp(BA,"g");dr.NUMERIC=new RegExp(G0,"g");dr.ALPHANUMERIC=new RegExp($A,"g");const jA=new RegExp("^"+ha+"$"),HA=new RegExp("^"+G0+"$"),WA=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");dr.testKanji=function(e){return jA.test(e)};dr.testNumeric=function(e){return HA.test(e)};dr.testAlphanumeric=function(e){return WA.test(e)};(function(t){const e=ed,n=dr;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},t.getBestModeForData=function(i){return n.testNumeric(i)?t.NUMERIC:n.testAlphanumeric(i)?t.ALPHANUMERIC:n.testKanji(i)?t.KANJI:t.BYTE},t.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},t.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+s)}}t.from=function(i,o){if(t.isValid(i))return i;try{return r(i)}catch{return o}}})(Ss);(function(t){const e=kn,n=Oc,r=Nc,s=Ss,i=ed,o=7973,a=e.getBCHDigit(o);function l(m,g,E){for(let w=1;w<=40;w++)if(g<=t.getCapacity(w,E,m))return w}function u(m,g){return s.getCharCountIndicator(m,g)+4}function h(m,g){let E=0;return m.forEach(function(w){const R=u(w.mode,g);E+=R+w.getBitsLength()}),E}function f(m,g){for(let E=1;E<=40;E++)if(h(m,E)<=t.getCapacity(E,g,s.MIXED))return E}t.from=function(g,E){return i.isValid(g)?parseInt(g,10):E},t.getCapacity=function(g,E,w){if(!i.isValid(g))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=s.BYTE);const R=e.getSymbolTotalCodewords(g),L=n.getTotalCodewordsCount(g,E),S=(R-L)*8;if(w===s.MIXED)return S;const T=S-u(w,g);switch(w){case s.NUMERIC:return Math.floor(T/10*3);case s.ALPHANUMERIC:return Math.floor(T/11*2);case s.KANJI:return Math.floor(T/13);case s.BYTE:default:return Math.floor(T/8)}},t.getBestVersionForData=function(g,E){let w;const R=r.from(E,r.M);if(Array.isArray(g)){if(g.length>1)return f(g,R);if(g.length===0)return 1;w=g[0]}else w=g;return l(w.mode,w.getLength(),R)},t.getEncodedBits=function(g){if(!i.isValid(g)||g<7)throw new Error("Invalid QR Code version");let E=g<<12;for(;e.getBCHDigit(E)-a>=0;)E^=o<<e.getBCHDigit(E)-a;return g<<12|E}})(K0);var z0={};const wh=kn,Y0=1335,qA=21522,jg=wh.getBCHDigit(Y0);z0.getEncodedBits=function(e,n){const r=e.bit<<3|n;let s=r<<10;for(;wh.getBCHDigit(s)-jg>=0;)s^=Y0<<wh.getBCHDigit(s)-jg;return(r<<10|s)^qA};var Q0={};const KA=Ss;function Mi(t){this.mode=KA.NUMERIC,this.data=t.toString()}Mi.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Mi.prototype.getLength=function(){return this.data.length};Mi.prototype.getBitsLength=function(){return Mi.getBitsLength(this.data.length)};Mi.prototype.write=function(e){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),e.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),e.put(s,i*3+1))};var GA=Mi;const zA=Ss,xu=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function xi(t){this.mode=zA.ALPHANUMERIC,this.data=t}xi.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};xi.prototype.getLength=function(){return this.data.length};xi.prototype.getBitsLength=function(){return xi.getBitsLength(this.data.length)};xi.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=xu.indexOf(this.data[n])*45;r+=xu.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(xu.indexOf(this.data[n]),6)};var YA=xi;const QA=Ss;function Vi(t){this.mode=QA.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Vi.getBitsLength=function(e){return e*8};Vi.prototype.getLength=function(){return this.data.length};Vi.prototype.getBitsLength=function(){return Vi.getBitsLength(this.data.length)};Vi.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};var JA=Vi;const XA=Ss,ZA=kn;function Fi(t){this.mode=XA.KANJI,this.data=t}Fi.getBitsLength=function(e){return e*13};Fi.prototype.getLength=function(){return this.data.length};Fi.prototype.getBitsLength=function(){return Fi.getBitsLength(this.data.length)};Fi.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=ZA.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};var eC=Fi,J0={exports:{}};(function(t){var e={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var l,u,h,f,m,g,E,w,R;!a.empty();){l=a.pop(),u=l.value,f=l.cost,m=n[u]||{};for(h in m)m.hasOwnProperty(h)&&(g=m[h],E=f+g,w=o[h],R=typeof o[h]>"u",(R||w>E)&&(o[h]=E,a.push(h,E),i[h]=u))}if(typeof s<"u"&&typeof o[s]>"u"){var L=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(L)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=e.single_source_shortest_paths(n,r,s);return e.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(J0);var tC=J0.exports;(function(t){const e=Ss,n=GA,r=YA,s=JA,i=eC,o=dr,a=kn,l=tC;function u(L){return unescape(encodeURIComponent(L)).length}function h(L,S,T){const A=[];let U;for(;(U=L.exec(T))!==null;)A.push({data:U[0],index:U.index,mode:S,length:U[0].length});return A}function f(L){const S=h(o.NUMERIC,e.NUMERIC,L),T=h(o.ALPHANUMERIC,e.ALPHANUMERIC,L);let A,U;return a.isKanjiModeEnabled()?(A=h(o.BYTE,e.BYTE,L),U=h(o.KANJI,e.KANJI,L)):(A=h(o.BYTE_KANJI,e.BYTE,L),U=[]),S.concat(T,A,U).sort(function(y,_){return y.index-_.index}).map(function(y){return{data:y.data,mode:y.mode,length:y.length}})}function m(L,S){switch(S){case e.NUMERIC:return n.getBitsLength(L);case e.ALPHANUMERIC:return r.getBitsLength(L);case e.KANJI:return i.getBitsLength(L);case e.BYTE:return s.getBitsLength(L)}}function g(L){return L.reduce(function(S,T){const A=S.length-1>=0?S[S.length-1]:null;return A&&A.mode===T.mode?(S[S.length-1].data+=T.data,S):(S.push(T),S)},[])}function E(L){const S=[];for(let T=0;T<L.length;T++){const A=L[T];switch(A.mode){case e.NUMERIC:S.push([A,{data:A.data,mode:e.ALPHANUMERIC,length:A.length},{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.ALPHANUMERIC:S.push([A,{data:A.data,mode:e.BYTE,length:A.length}]);break;case e.KANJI:S.push([A,{data:A.data,mode:e.BYTE,length:u(A.data)}]);break;case e.BYTE:S.push([{data:A.data,mode:e.BYTE,length:u(A.data)}])}}return S}function w(L,S){const T={},A={start:{}};let U=["start"];for(let F=0;F<L.length;F++){const y=L[F],_=[];for(let v=0;v<y.length;v++){const N=y[v],V=""+F+v;_.push(V),T[V]={node:N,lastCount:0},A[V]={};for(let x=0;x<U.length;x++){const P=U[x];T[P]&&T[P].node.mode===N.mode?(A[P][V]=m(T[P].lastCount+N.length,N.mode)-m(T[P].lastCount,N.mode),T[P].lastCount+=N.length):(T[P]&&(T[P].lastCount=N.length),A[P][V]=m(N.length,N.mode)+4+e.getCharCountIndicator(N.mode,S))}}U=_}for(let F=0;F<U.length;F++)A[U[F]].end=0;return{map:A,table:T}}function R(L,S){let T;const A=e.getBestModeForData(L);if(T=e.from(S,A),T!==e.BYTE&&T.bit<A.bit)throw new Error('"'+L+'" cannot be encoded with mode '+e.toString(T)+`.
 Suggested mode is: `+e.toString(A));switch(T===e.KANJI&&!a.isKanjiModeEnabled()&&(T=e.BYTE),T){case e.NUMERIC:return new n(L);case e.ALPHANUMERIC:return new r(L);case e.KANJI:return new i(L);case e.BYTE:return new s(L)}}t.fromArray=function(S){return S.reduce(function(T,A){return typeof A=="string"?T.push(R(A,null)):A.data&&T.push(R(A.data,A.mode)),T},[])},t.fromString=function(S,T){const A=f(S,a.isKanjiModeEnabled()),U=E(A),F=w(U,T),y=l.find_path(F.map,"start","end"),_=[];for(let v=1;v<y.length-1;v++)_.push(F.table[y[v]].node);return t.fromArray(g(_))},t.rawSplit=function(S){return t.fromArray(f(S,a.isKanjiModeEnabled()))}})(Q0);const Mc=kn,Vu=Nc,nC=xA,rC=VA,sC=B0,iC=j0,Ih=H0,Th=Oc,oC=UA,Gl=K0,aC=z0,lC=Ss,Fu=Q0;function cC(t,e){const n=t.size,r=iC.getPositions(e);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let l=-1;l<=7;l++)o+l<=-1||n<=o+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(i+a,o+l,!0,!0):t.set(i+a,o+l,!1,!0))}}function uC(t){const e=t.size;for(let n=8;n<e-8;n++){const r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function hC(t,e){const n=sC.getPositions(e);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?t.set(s+o,i+a,!0,!0):t.set(s+o,i+a,!1,!0)}}function fC(t,e){const n=t.size,r=Gl.getEncodedBits(e);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,t.set(s,i,o,!0),t.set(i,s,o,!0)}function Uu(t,e,n){const r=t.size,s=aC.getEncodedBits(e,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?t.set(i,8,o,!0):i<8?t.set(i+1,8,o,!0):t.set(r-15+i,8,o,!0),i<8?t.set(8,r-i-1,o,!0):i<9?t.set(8,15-i-1+1,o,!0):t.set(8,15-i-1,o,!0);t.set(r-8,8,1,!0)}function dC(t,e){const n=t.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(s,a-l)){let u=!1;o<e.length&&(u=(e[o]>>>i&1)===1),t.set(s,a-l,u),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function mC(t,e,n){const r=new nC;n.forEach(function(l){r.put(l.mode.bit,4),r.put(l.getLength(),lC.getCharCountIndicator(l.mode,t)),l.write(r)});const s=Mc.getSymbolTotalCodewords(t),i=Th.getTotalCodewordsCount(t,e),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let l=0;l<a;l++)r.put(l%2?17:236,8);return gC(r,t,e)}function gC(t,e,n){const r=Mc.getSymbolTotalCodewords(e),s=Th.getTotalCodewordsCount(e,n),i=r-s,o=Th.getBlocksCount(e,n),a=r%o,l=o-a,u=Math.floor(r/o),h=Math.floor(i/o),f=h+1,m=u-h,g=new oC(m);let E=0;const w=new Array(o),R=new Array(o);let L=0;const S=new Uint8Array(t.buffer);for(let y=0;y<o;y++){const _=y<l?h:f;w[y]=S.slice(E,E+_),R[y]=g.encode(w[y]),E+=_,L=Math.max(L,_)}const T=new Uint8Array(r);let A=0,U,F;for(U=0;U<L;U++)for(F=0;F<o;F++)U<w[F].length&&(T[A++]=w[F][U]);for(U=0;U<m;U++)for(F=0;F<o;F++)T[A++]=R[F][U];return T}function pC(t,e,n,r){let s;if(Array.isArray(t))s=Fu.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const h=Fu.rawSplit(t);u=Gl.getBestVersionForData(h,n)}s=Fu.fromString(t,u||40)}else throw new Error("Invalid data");const i=Gl.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=i;else if(e<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=mC(e,n,s),a=Mc.getSymbolSize(e),l=new rC(a);return cC(l,e),uC(l),hC(l,e),Uu(l,n,0),e>=7&&fC(l,e),dC(l,o),isNaN(r)&&(r=Ih.getBestMask(l,Uu.bind(null,l,n))),Ih.applyMask(r,l),Uu(l,n,r),{modules:l,version:e,errorCorrectionLevel:n,maskPattern:r,segments:s}}U0.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Vu.M,s,i;return typeof n<"u"&&(r=Vu.from(n.errorCorrectionLevel,Vu.M),s=Gl.from(n.version),i=Ih.from(n.maskPattern),n.toSJISFunc&&Mc.setToSJISFunction(n.toSJISFunc)),pC(e,s,r,i)};var X0={},td={};(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},t.getImageWidth=function(r,s){const i=t.getScale(r,s);return Math.floor((r+s.margin*2)*i)},t.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,l=t.getScale(o,i),u=Math.floor((o+i.margin*2)*l),h=i.margin*l,f=[i.color.light,i.color.dark];for(let m=0;m<u;m++)for(let g=0;g<u;g++){let E=(m*u+g)*4,w=i.color.light;if(m>=h&&g>=h&&m<u-h&&g<u-h){const R=Math.floor((m-h)/l),L=Math.floor((g-h)/l);w=f[a[R*o+L]?1:0]}r[E++]=w.r,r[E++]=w.g,r[E++]=w.b,r[E]=w.a}}})(td);(function(t){const e=td;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(i,o,a){let l=a,u=o;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),o||(u=r()),l=e.getOptions(l);const h=e.getImageWidth(i.modules.size,l),f=u.getContext("2d"),m=f.createImageData(h,h);return e.qrToImageData(m.data,i,l),n(f,u,h),f.putImageData(m,0,0),u},t.renderToDataURL=function(i,o,a){let l=a;typeof l>"u"&&(!o||!o.getContext)&&(l=o,o=void 0),l||(l={});const u=t.render(i,o,l),h=l.type||"image/png",f=l.rendererOpts||{};return u.toDataURL(h,f.quality)}})(X0);var Z0={};const _C=td;function Hg(t,e){const n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function $u(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function yC(t,e,n){let r="",s=0,i=!1,o=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),u=Math.floor(a/e);!l&&!i&&(i=!0),t[a]?(o++,a>0&&l>0&&t[a-1]||(r+=i?$u("M",l+n,.5+u+n):$u("m",s,0),s=0,i=!1),l+1<e&&t[a+1]||(r+=$u("h",o),o=0)):s++}return r}Z0.render=function(e,n,r){const s=_C.getOptions(n),i=e.modules.size,o=e.modules.data,a=i+s.margin*2,l=s.color.light.a?"<path "+Hg(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+Hg(s.color.dark,"stroke")+' d="'+yC(o,i,s.margin)+'"/>',h='viewBox="0 0 '+a+" "+a+'"',m='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+h+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof r=="function"&&r(null,m),m};const vC=LA,bh=U0,ev=X0,EC=Z0;function nd(t,e,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!vC())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=e,e=r=void 0):o===3&&(e.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=e,e=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=e,e=r=void 0):o===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(l,u){try{const h=bh.create(n,r);l(t(h,e,r))}catch(h){u(h)}})}try{const l=bh.create(n,r);s(null,t(l,e,r))}catch(l){s(l)}}bh.create;var wC=nd.bind(null,ev.render),IC=nd.bind(null,ev.renderToDataURL),TC=nd.bind(null,function(t,e,n){return EC.render(t,n)});/*! vue-qrcode v2.0.0 | (c) 2018-present Chen Fengyuan | MIT */const Wg="ready";var qg=eo({name:"VueQrcode",props:{value:{type:String,default:void 0},options:{type:Object,default:void 0},tag:{type:String,default:"canvas"}},emits:[Wg],watch:{$props:{deep:!0,immediate:!0,handler(){this.$el&&this.generate()}}},mounted(){this.generate()},methods:{generate(){const t=this.options||{},e=String(this.value),n=()=>{this.$emit(Wg,this.$el)};switch(this.tag){case"canvas":wC(this.$el,e,t,r=>{if(r)throw r;n()});break;case"img":IC(e,t,(r,s)=>{if(r)throw r;this.$el.src=s,this.$el.onload=n});break;case"svg":TC(e,t,(r,s)=>{if(r)throw r;const i=document.createElement("div");i.innerHTML=s;const o=i.querySelector("svg");if(o){const{attributes:a,childNodes:l}=o;Object.keys(a).forEach(u=>{const h=a[Number(u)];this.$el.setAttribute(h.name,h.value)}),Object.keys(l).forEach(u=>{const h=l[Number(u)];this.$el.appendChild(h.cloneNode(!0))}),n()}});break}}},render(){return Da(this.tag,this.$slots.default)}}),Jn=(t=>(t.LOADING="loading",t.LOADED="loaded",t.ERROR="error",t))(Jn||{});const bC=typeof window<"u"&&window!==null,AC=RC(),CC=Object.prototype.propertyIsEnumerable,Kg=Object.getOwnPropertySymbols;function Ko(t){return typeof t=="function"||toString.call(t)==="[object Object]"}function SC(t){return typeof t=="object"?t===null:typeof t!="function"}function PC(t){return t!=="__proto__"&&t!=="constructor"&&t!=="prototype"}function RC(){return bC&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}function kC(t,...e){if(!Ko(t))throw new TypeError("expected the first argument to be an object");if(e.length===0||typeof Symbol!="function"||typeof Kg!="function")return t;for(const n of e){const r=Kg(n);for(const s of r)CC.call(n,s)&&(t[s]=n[s])}return t}function tv(t,...e){let n=0;for(SC(t)&&(t=e[n++]),t||(t={});n<e.length;n++)if(Ko(e[n])){for(const r of Object.keys(e[n]))PC(r)&&(Ko(t[r])&&Ko(e[n][r])?tv(t[r],e[n][r]):t[r]=e[n][r]);kC(t,e[n])}return t}const Gg="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",DC="",NC={rootMargin:"0px",threshold:0},di="data-lazy-timeout-id";class OC{constructor(e){this.options={loading:Gg,error:DC,observerOptions:NC,log:!0,lifecycle:{},logLevel:"error"},this._images=new WeakMap,this.config(e)}config(e={}){tv(this.options,e)}mount(e,n){if(!e)return;const{src:r,loading:s,error:i,lifecycle:o,delay:a}=this._valueFormatter(typeof n=="string"?n:n.value);this._lifecycle(Jn.LOADING,o,e),e.setAttribute("src",s||Gg),AC||(this.loadImages(e,r,i,o),this._log(()=>{this._logger("Not support IntersectionObserver!")})),this._initIntersectionObserver(e,r,i,o,a)}update(e,n){var a;if(!e)return;(a=this._realObserver(e))==null||a.unobserve(e);const{src:r,error:s,lifecycle:i,delay:o}=this._valueFormatter(typeof n=="string"?n:n.value);this._initIntersectionObserver(e,r,s,i,o)}unmount(e){var n;e&&((n=this._realObserver(e))==null||n.unobserve(e),this._images.delete(e))}loadImages(e,n,r,s){this._setImageSrc(e,n,r,s)}_setImageSrc(e,n,r,s){e.tagName.toLowerCase()==="img"?(n&&e.getAttribute("src")!==n&&e.setAttribute("src",n),this._listenImageStatus(e,()=>{this._lifecycle(Jn.LOADED,s,e)},()=>{var i;e.onload=null,this._lifecycle(Jn.ERROR,s,e),(i=this._realObserver(e))==null||i.disconnect(),r&&e.getAttribute("src")!==r&&e.setAttribute("src",r),this._log(()=>{this._logger(`Image failed to load!And failed src was: ${n} `)})})):e.style.backgroundImage=`url('${n}')`}_initIntersectionObserver(e,n,r,s,i){var a;const o=this.options.observerOptions;this._images.set(e,new IntersectionObserver(l=>{Array.prototype.forEach.call(l,u=>{i&&i>0?this._delayedIntersectionCallback(e,u,i,n,r,s):this._intersectionCallback(e,u,n,r,s)})},o)),(a=this._realObserver(e))==null||a.observe(e)}_intersectionCallback(e,n,r,s,i){var o;n.isIntersecting&&((o=this._realObserver(e))==null||o.unobserve(n.target),this._setImageSrc(e,r,s,i))}_delayedIntersectionCallback(e,n,r,s,i,o){if(n.isIntersecting){if(n.target.hasAttribute(di))return;const a=setTimeout(()=>{this._intersectionCallback(e,n,s,i,o),n.target.removeAttribute(di)},r);n.target.setAttribute(di,String(a))}else n.target.hasAttribute(di)&&(clearTimeout(Number(n.target.getAttribute(di))),n.target.removeAttribute(di))}_listenImageStatus(e,n,r){e.onload=n,e.onerror=r}_valueFormatter(e){let n=e,r=this.options.loading,s=this.options.error,i=this.options.lifecycle,o=this.options.delay;return Ko(e)&&(n=e.src,r=e.loading||this.options.loading,s=e.error||this.options.error,i=e.lifecycle||this.options.lifecycle,o=e.delay||this.options.delay),{src:n,loading:r,error:s,lifecycle:i,delay:o}}_log(e){this.options.log&&e()}_lifecycle(e,n,r){switch(e){case Jn.LOADING:r==null||r.setAttribute("lazy",Jn.LOADING),n!=null&&n.loading&&n.loading(r);break;case Jn.LOADED:r==null||r.setAttribute("lazy",Jn.LOADED),n!=null&&n.loaded&&n.loaded(r);break;case Jn.ERROR:r==null||r.setAttribute("lazy",Jn.ERROR),n!=null&&n.error&&n.error(r);break}}_realObserver(e){return this._images.get(e)}_logger(e,...n){let r=console.error;switch(this.options.logLevel){case"error":r=console.error;break;case"warn":r=console.warn;break;case"info":r=console.info;break;case"debug":r=console.debug;break}r(e,n)}}const LC={install(t,e){const n=new OC(e);t.config.globalProperties.$Lazyload=n,t.provide("Lazyload",n),t.directive("lazy",{mounted:n.mount.bind(n),updated:n.update.bind(n),unmounted:n.unmount.bind(n)})}};var zg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},MC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},rv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||f==null)throw new xC;const m=i<<2|a>>4;if(r.push(m),u!==64){const g=a<<4&240|u>>2;if(r.push(g),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VC=function(t){const e=nv(t);return rv.encodeByteArray(e,!0)},zl=function(t){return VC(t).replace(/\./g,"")},sv=function(t){try{return rv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=()=>FC().__FIREBASE_DEFAULTS__,$C=()=>{if(typeof process>"u"||typeof zg>"u")return;const t=zg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sv(t[1]);return e&&JSON.parse(e)},xc=()=>{try{return UC()||$C()||BC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iv=t=>{var e,n;return(n=(e=xc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jC=t=>{const e=iv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ov=()=>{var t;return(t=xc())===null||t===void 0?void 0:t.config},av=t=>{var e;return(e=xc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zl(JSON.stringify(n)),zl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function KC(){var t;const e=(t=xc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QC(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function JC(){return!KC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XC(){try{return typeof indexedDB=="object"}catch{return!1}}function ZC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="FirebaseError";class Kr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eS,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oa.prototype.create)}}class Oa{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?tS(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Kr(s,a,r)}}function tS(t,e){return t.replace(nS,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const nS=/\{\$([^}]+)}/g;function rS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Yg(i)&&Yg(o)){if(!Yl(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Yg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Po(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ro(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sS(t,e){const n=new iS(t,e);return n.subscribe.bind(n)}class iS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oS(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Bu),s.error===void 0&&(s.error=Bu),s.complete===void 0&&(s.complete=Bu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Bu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class Xs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new HC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cS(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(t){return t===Hs?void 0:t}function cS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const hS={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},fS=Ve.INFO,dS={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},mS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=dS[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rd{constructor(e){this.name=e,this._logLevel=fS,this._logHandler=mS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const gS=(t,e)=>e.some(n=>t instanceof n);let Qg,Jg;function pS(){return Qg||(Qg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _S(){return Jg||(Jg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lv=new WeakMap,Ah=new WeakMap,cv=new WeakMap,ju=new WeakMap,sd=new WeakMap;function yS(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(gs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lv.set(n,t)}).catch(()=>{}),sd.set(e,t),e}function vS(t){if(Ah.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Ah.set(t,e)}let Ch={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ah.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ES(t){Ch=t(Ch)}function wS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hu(this),e,...n);return cv.set(r,e.sort?e.sort():[e]),gs(r)}:_S().includes(t)?function(...e){return t.apply(Hu(this),e),gs(lv.get(this))}:function(...e){return gs(t.apply(Hu(this),e))}}function IS(t){return typeof t=="function"?wS(t):(t instanceof IDBTransaction&&vS(t),gS(t,pS())?new Proxy(t,Ch):t)}function gs(t){if(t instanceof IDBRequest)return yS(t);if(ju.has(t))return ju.get(t);const e=IS(t);return e!==t&&(ju.set(t,e),sd.set(e,t)),e}const Hu=t=>sd.get(t);function TS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(gs(o.result),l.oldVersion,l.newVersion,gs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const bS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],Wu=new Map;function Xg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wu.get(e))return Wu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=AS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||bS.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Wu.set(e,i),i}ES(t=>({...t,get:(e,n,r)=>Xg(e,n)||t.get(e,n,r),has:(e,n)=>!!Xg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function SS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sh="@firebase/app",Zg="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new rd("@firebase/app"),PS="@firebase/app-compat",RS="@firebase/analytics-compat",kS="@firebase/analytics",DS="@firebase/app-check-compat",NS="@firebase/app-check",OS="@firebase/auth",LS="@firebase/auth-compat",MS="@firebase/database",xS="@firebase/data-connect",VS="@firebase/database-compat",FS="@firebase/functions",US="@firebase/functions-compat",$S="@firebase/installations",BS="@firebase/installations-compat",jS="@firebase/messaging",HS="@firebase/messaging-compat",WS="@firebase/performance",qS="@firebase/performance-compat",KS="@firebase/remote-config",GS="@firebase/remote-config-compat",zS="@firebase/storage",YS="@firebase/storage-compat",QS="@firebase/firestore",JS="@firebase/vertexai-preview",XS="@firebase/firestore-compat",ZS="firebase",eP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="[DEFAULT]",tP={[Sh]:"fire-core",[PS]:"fire-core-compat",[kS]:"fire-analytics",[RS]:"fire-analytics-compat",[NS]:"fire-app-check",[DS]:"fire-app-check-compat",[OS]:"fire-auth",[LS]:"fire-auth-compat",[MS]:"fire-rtdb",[xS]:"fire-data-connect",[VS]:"fire-rtdb-compat",[FS]:"fire-fn",[US]:"fire-fn-compat",[$S]:"fire-iid",[BS]:"fire-iid-compat",[jS]:"fire-fcm",[HS]:"fire-fcm-compat",[WS]:"fire-perf",[qS]:"fire-perf-compat",[KS]:"fire-rc",[GS]:"fire-rc-compat",[zS]:"fire-gcs",[YS]:"fire-gcs-compat",[QS]:"fire-fst",[XS]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new Map,nP=new Map,Rh=new Map;function ep(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ui(t){const e=t.name;if(Rh.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Rh.set(e,t);for(const n of Ql.values())ep(n,t);for(const n of nP.values())ep(n,t);return!0}function id(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Oa("app","Firebase",rP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=eP;function uv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ph,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ps.create("bad-app-name",{appName:String(s)});if(n||(n=ov()),!n)throw ps.create("no-options");const i=Ql.get(s);if(i){if(Yl(n,i.options)&&Yl(r,i.config))return i;throw ps.create("duplicate-app",{appName:s})}const o=new uS(s);for(const l of Rh.values())o.addComponent(l);const a=new sP(n,r,o);return Ql.set(s,a),a}function hv(t=Ph){const e=Ql.get(t);if(!e&&t===Ph&&ov())return uv();if(!e)throw ps.create("no-app",{appName:t});return e}function _s(t,e,n){var r;let s=(r=tP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(a.join(" "));return}Ui(new Xs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebase-heartbeat-database",oP=1,fa="firebase-heartbeat-store";let qu=null;function fv(){return qu||(qu=TS(iP,oP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw ps.create("idb-open",{originalErrorMessage:t.message})})),qu}async function aP(t){try{const n=(await fv()).transaction(fa),r=await n.objectStore(fa).get(dv(t));return await n.done,r}catch(e){if(e instanceof Kr)Ur.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(n.message)}}}async function tp(t,e){try{const r=(await fv()).transaction(fa,"readwrite");await r.objectStore(fa).put(e,dv(t)),await r.done}catch(n){if(n instanceof Kr)Ur.warn(n.message);else{const r=ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ur.warn(r.message)}}}function dv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=1024,cP=30*24*60*60*1e3;class uP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=np();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=cP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=np(),{heartbeatsToSend:r,unsentEntries:s}=hP(this._heartbeatsCache.heartbeats),i=zl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ur.warn(n),""}}}function np(){return new Date().toISOString().substring(0,10)}function hP(t,e=lP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),rp(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),rp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XC()?ZC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return tp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rp(t){return zl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){Ui(new Xs("platform-logger",e=>new CS(e),"PRIVATE")),Ui(new Xs("heartbeat",e=>new uP(e),"PRIVATE")),_s(Sh,Zg,t),_s(Sh,Zg,"esm2017"),_s("fire-js","")}dP("");var sp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,mv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,_){function v(){}v.prototype=_.prototype,y.D=_.prototype,y.prototype=new v,y.prototype.constructor=y,y.C=function(N,V,x){for(var P=Array(arguments.length-2),be=2;be<arguments.length;be++)P[be-2]=arguments[be];return _.prototype[V].apply(N,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(y,_,v){v||(v=0);var N=Array(16);if(typeof _=="string")for(var V=0;16>V;++V)N[V]=_.charCodeAt(v++)|_.charCodeAt(v++)<<8|_.charCodeAt(v++)<<16|_.charCodeAt(v++)<<24;else for(V=0;16>V;++V)N[V]=_[v++]|_[v++]<<8|_[v++]<<16|_[v++]<<24;_=y.g[0],v=y.g[1],V=y.g[2];var x=y.g[3],P=_+(x^v&(V^x))+N[0]+3614090360&4294967295;_=v+(P<<7&4294967295|P>>>25),P=x+(V^_&(v^V))+N[1]+3905402710&4294967295,x=_+(P<<12&4294967295|P>>>20),P=V+(v^x&(_^v))+N[2]+606105819&4294967295,V=x+(P<<17&4294967295|P>>>15),P=v+(_^V&(x^_))+N[3]+3250441966&4294967295,v=V+(P<<22&4294967295|P>>>10),P=_+(x^v&(V^x))+N[4]+4118548399&4294967295,_=v+(P<<7&4294967295|P>>>25),P=x+(V^_&(v^V))+N[5]+1200080426&4294967295,x=_+(P<<12&4294967295|P>>>20),P=V+(v^x&(_^v))+N[6]+2821735955&4294967295,V=x+(P<<17&4294967295|P>>>15),P=v+(_^V&(x^_))+N[7]+4249261313&4294967295,v=V+(P<<22&4294967295|P>>>10),P=_+(x^v&(V^x))+N[8]+1770035416&4294967295,_=v+(P<<7&4294967295|P>>>25),P=x+(V^_&(v^V))+N[9]+2336552879&4294967295,x=_+(P<<12&4294967295|P>>>20),P=V+(v^x&(_^v))+N[10]+4294925233&4294967295,V=x+(P<<17&4294967295|P>>>15),P=v+(_^V&(x^_))+N[11]+2304563134&4294967295,v=V+(P<<22&4294967295|P>>>10),P=_+(x^v&(V^x))+N[12]+1804603682&4294967295,_=v+(P<<7&4294967295|P>>>25),P=x+(V^_&(v^V))+N[13]+4254626195&4294967295,x=_+(P<<12&4294967295|P>>>20),P=V+(v^x&(_^v))+N[14]+2792965006&4294967295,V=x+(P<<17&4294967295|P>>>15),P=v+(_^V&(x^_))+N[15]+1236535329&4294967295,v=V+(P<<22&4294967295|P>>>10),P=_+(V^x&(v^V))+N[1]+4129170786&4294967295,_=v+(P<<5&4294967295|P>>>27),P=x+(v^V&(_^v))+N[6]+3225465664&4294967295,x=_+(P<<9&4294967295|P>>>23),P=V+(_^v&(x^_))+N[11]+643717713&4294967295,V=x+(P<<14&4294967295|P>>>18),P=v+(x^_&(V^x))+N[0]+3921069994&4294967295,v=V+(P<<20&4294967295|P>>>12),P=_+(V^x&(v^V))+N[5]+3593408605&4294967295,_=v+(P<<5&4294967295|P>>>27),P=x+(v^V&(_^v))+N[10]+38016083&4294967295,x=_+(P<<9&4294967295|P>>>23),P=V+(_^v&(x^_))+N[15]+3634488961&4294967295,V=x+(P<<14&4294967295|P>>>18),P=v+(x^_&(V^x))+N[4]+3889429448&4294967295,v=V+(P<<20&4294967295|P>>>12),P=_+(V^x&(v^V))+N[9]+568446438&4294967295,_=v+(P<<5&4294967295|P>>>27),P=x+(v^V&(_^v))+N[14]+3275163606&4294967295,x=_+(P<<9&4294967295|P>>>23),P=V+(_^v&(x^_))+N[3]+4107603335&4294967295,V=x+(P<<14&4294967295|P>>>18),P=v+(x^_&(V^x))+N[8]+1163531501&4294967295,v=V+(P<<20&4294967295|P>>>12),P=_+(V^x&(v^V))+N[13]+2850285829&4294967295,_=v+(P<<5&4294967295|P>>>27),P=x+(v^V&(_^v))+N[2]+4243563512&4294967295,x=_+(P<<9&4294967295|P>>>23),P=V+(_^v&(x^_))+N[7]+1735328473&4294967295,V=x+(P<<14&4294967295|P>>>18),P=v+(x^_&(V^x))+N[12]+2368359562&4294967295,v=V+(P<<20&4294967295|P>>>12),P=_+(v^V^x)+N[5]+4294588738&4294967295,_=v+(P<<4&4294967295|P>>>28),P=x+(_^v^V)+N[8]+2272392833&4294967295,x=_+(P<<11&4294967295|P>>>21),P=V+(x^_^v)+N[11]+1839030562&4294967295,V=x+(P<<16&4294967295|P>>>16),P=v+(V^x^_)+N[14]+4259657740&4294967295,v=V+(P<<23&4294967295|P>>>9),P=_+(v^V^x)+N[1]+2763975236&4294967295,_=v+(P<<4&4294967295|P>>>28),P=x+(_^v^V)+N[4]+1272893353&4294967295,x=_+(P<<11&4294967295|P>>>21),P=V+(x^_^v)+N[7]+4139469664&4294967295,V=x+(P<<16&4294967295|P>>>16),P=v+(V^x^_)+N[10]+3200236656&4294967295,v=V+(P<<23&4294967295|P>>>9),P=_+(v^V^x)+N[13]+681279174&4294967295,_=v+(P<<4&4294967295|P>>>28),P=x+(_^v^V)+N[0]+3936430074&4294967295,x=_+(P<<11&4294967295|P>>>21),P=V+(x^_^v)+N[3]+3572445317&4294967295,V=x+(P<<16&4294967295|P>>>16),P=v+(V^x^_)+N[6]+76029189&4294967295,v=V+(P<<23&4294967295|P>>>9),P=_+(v^V^x)+N[9]+3654602809&4294967295,_=v+(P<<4&4294967295|P>>>28),P=x+(_^v^V)+N[12]+3873151461&4294967295,x=_+(P<<11&4294967295|P>>>21),P=V+(x^_^v)+N[15]+530742520&4294967295,V=x+(P<<16&4294967295|P>>>16),P=v+(V^x^_)+N[2]+3299628645&4294967295,v=V+(P<<23&4294967295|P>>>9),P=_+(V^(v|~x))+N[0]+4096336452&4294967295,_=v+(P<<6&4294967295|P>>>26),P=x+(v^(_|~V))+N[7]+1126891415&4294967295,x=_+(P<<10&4294967295|P>>>22),P=V+(_^(x|~v))+N[14]+2878612391&4294967295,V=x+(P<<15&4294967295|P>>>17),P=v+(x^(V|~_))+N[5]+4237533241&4294967295,v=V+(P<<21&4294967295|P>>>11),P=_+(V^(v|~x))+N[12]+1700485571&4294967295,_=v+(P<<6&4294967295|P>>>26),P=x+(v^(_|~V))+N[3]+2399980690&4294967295,x=_+(P<<10&4294967295|P>>>22),P=V+(_^(x|~v))+N[10]+4293915773&4294967295,V=x+(P<<15&4294967295|P>>>17),P=v+(x^(V|~_))+N[1]+2240044497&4294967295,v=V+(P<<21&4294967295|P>>>11),P=_+(V^(v|~x))+N[8]+1873313359&4294967295,_=v+(P<<6&4294967295|P>>>26),P=x+(v^(_|~V))+N[15]+4264355552&4294967295,x=_+(P<<10&4294967295|P>>>22),P=V+(_^(x|~v))+N[6]+2734768916&4294967295,V=x+(P<<15&4294967295|P>>>17),P=v+(x^(V|~_))+N[13]+1309151649&4294967295,v=V+(P<<21&4294967295|P>>>11),P=_+(V^(v|~x))+N[4]+4149444226&4294967295,_=v+(P<<6&4294967295|P>>>26),P=x+(v^(_|~V))+N[11]+3174756917&4294967295,x=_+(P<<10&4294967295|P>>>22),P=V+(_^(x|~v))+N[2]+718787259&4294967295,V=x+(P<<15&4294967295|P>>>17),P=v+(x^(V|~_))+N[9]+3951481745&4294967295,y.g[0]=y.g[0]+_&4294967295,y.g[1]=y.g[1]+(V+(P<<21&4294967295|P>>>11))&4294967295,y.g[2]=y.g[2]+V&4294967295,y.g[3]=y.g[3]+x&4294967295}r.prototype.u=function(y,_){_===void 0&&(_=y.length);for(var v=_-this.blockSize,N=this.B,V=this.h,x=0;x<_;){if(V==0)for(;x<=v;)s(this,y,x),x+=this.blockSize;if(typeof y=="string"){for(;x<_;)if(N[V++]=y.charCodeAt(x++),V==this.blockSize){s(this,N),V=0;break}}else for(;x<_;)if(N[V++]=y[x++],V==this.blockSize){s(this,N),V=0;break}}this.h=V,this.o+=_},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var _=1;_<y.length-8;++_)y[_]=0;var v=8*this.o;for(_=y.length-8;_<y.length;++_)y[_]=v&255,v/=256;for(this.u(y),y=Array(16),_=v=0;4>_;++_)for(var N=0;32>N;N+=8)y[v++]=this.g[_]>>>N&255;return y};function i(y,_){var v=a;return Object.prototype.hasOwnProperty.call(v,y)?v[y]:v[y]=_(y)}function o(y,_){this.h=_;for(var v=[],N=!0,V=y.length-1;0<=V;V--){var x=y[V]|0;N&&x==_||(v[V]=x,N=!1)}this.g=v}var a={};function l(y){return-128<=y&&128>y?i(y,function(_){return new o([_|0],0>_?-1:0)}):new o([y|0],0>y?-1:0)}function u(y){if(isNaN(y)||!isFinite(y))return f;if(0>y)return R(u(-y));for(var _=[],v=1,N=0;y>=v;N++)_[N]=y/v|0,v*=4294967296;return new o(_,0)}function h(y,_){if(y.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(y.charAt(0)=="-")return R(h(y.substring(1),_));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=u(Math.pow(_,8)),N=f,V=0;V<y.length;V+=8){var x=Math.min(8,y.length-V),P=parseInt(y.substring(V,V+x),_);8>x?(x=u(Math.pow(_,x)),N=N.j(x).add(u(P))):(N=N.j(v),N=N.add(u(P)))}return N}var f=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-R(this).m();for(var y=0,_=1,v=0;v<this.g.length;v++){var N=this.i(v);y+=(0<=N?N:4294967296+N)*_,_*=4294967296}return y},t.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E(this))return"0";if(w(this))return"-"+R(this).toString(y);for(var _=u(Math.pow(y,6)),v=this,N="";;){var V=A(v,_).g;v=L(v,V.j(_));var x=((0<v.g.length?v.g[0]:v.h)>>>0).toString(y);if(v=V,E(v))return x+N;for(;6>x.length;)x="0"+x;N=x+N}},t.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function E(y){if(y.h!=0)return!1;for(var _=0;_<y.g.length;_++)if(y.g[_]!=0)return!1;return!0}function w(y){return y.h==-1}t.l=function(y){return y=L(this,y),w(y)?-1:E(y)?0:1};function R(y){for(var _=y.g.length,v=[],N=0;N<_;N++)v[N]=~y.g[N];return new o(v,~y.h).add(m)}t.abs=function(){return w(this)?R(this):this},t.add=function(y){for(var _=Math.max(this.g.length,y.g.length),v=[],N=0,V=0;V<=_;V++){var x=N+(this.i(V)&65535)+(y.i(V)&65535),P=(x>>>16)+(this.i(V)>>>16)+(y.i(V)>>>16);N=P>>>16,x&=65535,P&=65535,v[V]=P<<16|x}return new o(v,v[v.length-1]&-2147483648?-1:0)};function L(y,_){return y.add(R(_))}t.j=function(y){if(E(this)||E(y))return f;if(w(this))return w(y)?R(this).j(R(y)):R(R(this).j(y));if(w(y))return R(this.j(R(y)));if(0>this.l(g)&&0>y.l(g))return u(this.m()*y.m());for(var _=this.g.length+y.g.length,v=[],N=0;N<2*_;N++)v[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<y.g.length;V++){var x=this.i(N)>>>16,P=this.i(N)&65535,be=y.i(V)>>>16,Ge=y.i(V)&65535;v[2*N+2*V]+=P*Ge,S(v,2*N+2*V),v[2*N+2*V+1]+=x*Ge,S(v,2*N+2*V+1),v[2*N+2*V+1]+=P*be,S(v,2*N+2*V+1),v[2*N+2*V+2]+=x*be,S(v,2*N+2*V+2)}for(N=0;N<_;N++)v[N]=v[2*N+1]<<16|v[2*N];for(N=_;N<2*_;N++)v[N]=0;return new o(v,0)};function S(y,_){for(;(y[_]&65535)!=y[_];)y[_+1]+=y[_]>>>16,y[_]&=65535,_++}function T(y,_){this.g=y,this.h=_}function A(y,_){if(E(_))throw Error("division by zero");if(E(y))return new T(f,f);if(w(y))return _=A(R(y),_),new T(R(_.g),R(_.h));if(w(_))return _=A(y,R(_)),new T(R(_.g),_.h);if(30<y.g.length){if(w(y)||w(_))throw Error("slowDivide_ only works with positive integers.");for(var v=m,N=_;0>=N.l(y);)v=U(v),N=U(N);var V=F(v,1),x=F(N,1);for(N=F(N,2),v=F(v,2);!E(N);){var P=x.add(N);0>=P.l(y)&&(V=V.add(v),x=P),N=F(N,1),v=F(v,1)}return _=L(y,V.j(_)),new T(V,_)}for(V=f;0<=y.l(_);){for(v=Math.max(1,Math.floor(y.m()/_.m())),N=Math.ceil(Math.log(v)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),x=u(v),P=x.j(_);w(P)||0<P.l(y);)v-=N,x=u(v),P=x.j(_);E(x)&&(x=m),V=V.add(x),y=L(y,P)}return new T(V,y)}t.A=function(y){return A(this,y).h},t.and=function(y){for(var _=Math.max(this.g.length,y.g.length),v=[],N=0;N<_;N++)v[N]=this.i(N)&y.i(N);return new o(v,this.h&y.h)},t.or=function(y){for(var _=Math.max(this.g.length,y.g.length),v=[],N=0;N<_;N++)v[N]=this.i(N)|y.i(N);return new o(v,this.h|y.h)},t.xor=function(y){for(var _=Math.max(this.g.length,y.g.length),v=[],N=0;N<_;N++)v[N]=this.i(N)^y.i(N);return new o(v,this.h^y.h)};function U(y){for(var _=y.g.length+1,v=[],N=0;N<_;N++)v[N]=y.i(N)<<1|y.i(N-1)>>>31;return new o(v,y.h)}function F(y,_){var v=_>>5;_%=32;for(var N=y.g.length-v,V=[],x=0;x<N;x++)V[x]=0<_?y.i(x+v)>>>_|y.i(x+v+1)<<32-_:y.i(x+v);return new o(V,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mv=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Qs=o}).apply(typeof sp<"u"?sp:typeof self<"u"?self:typeof window<"u"?window:{});var ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gv,ko,pv,Pl,kh,_v,yv,vv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,p){return c==Array.prototype||c==Object.prototype||(c[d]=p.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ml=="object"&&ml];for(var d=0;d<c.length;++d){var p=c[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(c,d){if(d)e:{var p=r;c=c.split(".");for(var I=0;I<c.length-1;I++){var B=c[I];if(!(B in p))break e;p=p[B]}c=c[c.length-1],I=p[c],d=d(I),d!=I&&d!=null&&e(p,c,{configurable:!0,writable:!0,value:d})}}function i(c,d){c instanceof String&&(c+="");var p=0,I=!1,B={next:function(){if(!I&&p<c.length){var q=p++;return{value:d(q,c[q]),done:!1}}return I=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(c){return c||function(){return i(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,p){return c.call.apply(c.bind,arguments)}function f(c,d,p){if(!c)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,I),c.apply(d,B)}}return function(){return c.apply(d,arguments)}}function m(c,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(c,d){var p=Array.prototype.slice.call(arguments,1);return function(){var I=p.slice();return I.push.apply(I,arguments),c.apply(this,I)}}function E(c,d){function p(){}p.prototype=d.prototype,c.aa=d.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(I,B,q){for(var se=Array(arguments.length-2),et=2;et<arguments.length;et++)se[et-2]=arguments[et];return d.prototype[B].apply(I,se)}}function w(c){const d=c.length;if(0<d){const p=Array(d);for(let I=0;I<d;I++)p[I]=c[I];return p}return[]}function R(c,d){for(let p=1;p<arguments.length;p++){const I=arguments[p];if(l(I)){const B=c.length||0,q=I.length||0;c.length=B+q;for(let se=0;se<q;se++)c[B+se]=I[se]}else c.push(I)}}class L{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function S(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var U=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function F(c,d,p){for(const I in c)d.call(p,c[I],I,c)}function y(c,d){for(const p in c)d.call(void 0,c[p],p,c)}function _(c){const d={};for(const p in c)d[p]=c[p];return d}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,d){let p,I;for(let B=1;B<arguments.length;B++){I=arguments[B];for(p in I)c[p]=I[p];for(let q=0;q<v.length;q++)p=v[q],Object.prototype.hasOwnProperty.call(I,p)&&(c[p]=I[p])}}function V(c){var d=1;c=c.split(":");const p=[];for(;0<d&&c.length;)p.push(c.shift()),d--;return c.length&&p.push(c.join(":")),p}function x(c){a.setTimeout(()=>{throw c},0)}function P(){var c=ut;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class be{constructor(){this.h=this.g=null}add(d,p){const I=Ge.get();I.set(d,p),this.h?this.h.next=I:this.g=I,this.h=I}}var Ge=new L(()=>new ke,c=>c.reset());class ke{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Ie=!1,ut=new be,yt=()=>{const c=a.Promise.resolve(void 0);Ce=()=>{c.then(Je)}};var Je=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(p){x(p)}var d=Ge;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ie=!1};function $e(){this.s=this.s,this.C=this.C}$e.prototype.s=!1,$e.prototype.ma=function(){this.s||(this.s=!0,this.N())},$e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function He(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var Ut=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return c}();function kt(c,d){if(He.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,I=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(U){e:{try{A(d.nodeName);var B=!0;break e}catch{}B=!1}B||(d=null)}}else p=="mouseover"?d=c.fromElement:p=="mouseout"&&(d=c.toElement);this.relatedTarget=d,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ft[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&kt.aa.h.call(this)}}E(kt,He);var ft={2:"touch",3:"pen",4:"mouse"};kt.prototype.h=function(){kt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),ae=0;function ie(c,d,p,I,B){this.listener=c,this.proxy=null,this.src=d,this.type=p,this.capture=!!I,this.ha=B,this.key=++ae,this.da=this.fa=!1}function ue(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c){this.src=c,this.g={},this.h=0}Le.prototype.add=function(c,d,p,I,B){var q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);var se=M(c,d,I,B);return-1<se?(d=c[se],p||(d.fa=!1)):(d=new ie(d,this.src,q,!!I,B),d.fa=p,c.push(d)),d};function k(c,d){var p=d.type;if(p in c.g){var I=c.g[p],B=Array.prototype.indexOf.call(I,d,void 0),q;(q=0<=B)&&Array.prototype.splice.call(I,B,1),q&&(ue(d),c.g[p].length==0&&(delete c.g[p],c.h--))}}function M(c,d,p,I){for(var B=0;B<c.length;++B){var q=c[B];if(!q.da&&q.listener==d&&q.capture==!!p&&q.ha==I)return B}return-1}var D="closure_lm_"+(1e6*Math.random()|0),H={};function Q(c,d,p,I,B){if(Array.isArray(d)){for(var q=0;q<d.length;q++)Q(c,d[q],p,I,B);return null}return p=ee(p),c&&c[z]?c.K(d,p,u(I)?!!I.capture:!1,B):Y(c,d,p,!1,I,B)}function Y(c,d,p,I,B,q){if(!d)throw Error("Invalid event type");var se=u(B)?!!B.capture:!!B,et=K(c);if(et||(c[D]=et=new Le(c)),p=et.add(d,p,I,se,q),p.proxy)return p;if(I=re(),p.proxy=I,I.src=c,I.listener=p,c.addEventListener)Ut||(B=se),B===void 0&&(B=!1),c.addEventListener(d.toString(),I,B);else if(c.attachEvent)c.attachEvent(C(d.toString()),I);else if(c.addListener&&c.removeListener)c.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return p}function re(){function c(p){return d.call(c.src,c.listener,p)}const d=j;return c}function te(c,d,p,I,B){if(Array.isArray(d))for(var q=0;q<d.length;q++)te(c,d[q],p,I,B);else I=u(I)?!!I.capture:!!I,p=ee(p),c&&c[z]?(c=c.i,d=String(d).toString(),d in c.g&&(q=c.g[d],p=M(q,p,I,B),-1<p&&(ue(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete c.g[d],c.h--)))):c&&(c=K(c))&&(d=c.g[d.toString()],c=-1,d&&(c=M(d,p,I,B)),(p=-1<c?d[c]:null)&&b(p))}function b(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[z])k(d.i,c);else{var p=c.type,I=c.proxy;d.removeEventListener?d.removeEventListener(p,I,c.capture):d.detachEvent?d.detachEvent(C(p),I):d.addListener&&d.removeListener&&d.removeListener(I),(p=K(d))?(k(p,c),p.h==0&&(p.src=null,d[D]=null)):ue(c)}}}function C(c){return c in H?H[c]:H[c]="on"+c}function j(c,d){if(c.da)c=!0;else{d=new kt(d,this);var p=c.listener,I=c.ha||c.src;c.fa&&b(c),c=p.call(I,d)}return c}function K(c){return c=c[D],c instanceof Le?c:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function ee(c){return typeof c=="function"?c:(c[ne]||(c[ne]=function(d){return c.handleEvent(d)}),c[ne])}function $(){$e.call(this),this.i=new Le(this),this.M=this,this.F=null}E($,$e),$.prototype[z]=!0,$.prototype.removeEventListener=function(c,d,p,I){te(this,c,d,p,I)};function W(c,d){var p,I=c.F;if(I)for(p=[];I;I=I.F)p.push(I);if(c=c.M,I=d.type||d,typeof d=="string")d=new He(d,c);else if(d instanceof He)d.target=d.target||c;else{var B=d;d=new He(I,c),N(d,B)}if(B=!0,p)for(var q=p.length-1;0<=q;q--){var se=d.g=p[q];B=de(se,I,!0,d)&&B}if(se=d.g=c,B=de(se,I,!0,d)&&B,B=de(se,I,!1,d)&&B,p)for(q=0;q<p.length;q++)se=d.g=p[q],B=de(se,I,!1,d)&&B}$.prototype.N=function(){if($.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var p=c.g[d],I=0;I<p.length;I++)ue(p[I]);delete c.g[d],c.h--}}this.F=null},$.prototype.K=function(c,d,p,I){return this.i.add(String(c),d,!1,p,I)},$.prototype.L=function(c,d,p,I){return this.i.add(String(c),d,!0,p,I)};function de(c,d,p,I){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var B=!0,q=0;q<d.length;++q){var se=d[q];if(se&&!se.da&&se.capture==p){var et=se.listener,jt=se.ha||se.src;se.fa&&k(c.i,se),B=et.call(jt,I)!==!1&&B}}return B&&!I.defaultPrevented}function Oe(c,d,p){if(typeof c=="function")p&&(c=m(c,p));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function rt(c){c.g=Oe(()=>{c.g=null,c.i&&(c.i=!1,rt(c))},c.l);const d=c.h;c.h=null,c.m.apply(null,d)}class $t extends $e{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:rt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dt(c){$e.call(this),this.h=c,this.g={}}E(dt,$e);var Yn=[];function oi(c){F(c.g,function(d,p){this.g.hasOwnProperty(p)&&b(d)},c),c.g={}}dt.prototype.N=function(){dt.aa.N.call(this),oi(this)},dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bt=a.JSON.stringify,Dn=a.JSON.parse,Ka=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function au(){}au.prototype.h=null;function hm(c){return c.h||(c.h=c.i())}function fm(){}var lo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lu(){He.call(this,"d")}E(lu,He);function cu(){He.call(this,"c")}E(cu,He);var Ls={},dm=null;function Ga(){return dm=dm||new $}Ls.La="serverreachability";function mm(c){He.call(this,Ls.La,c)}E(mm,He);function co(c){const d=Ga();W(d,new mm(d))}Ls.STAT_EVENT="statevent";function gm(c,d){He.call(this,Ls.STAT_EVENT,c),this.stat=d}E(gm,He);function hn(c){const d=Ga();W(d,new gm(d,c))}Ls.Ma="timingevent";function pm(c,d){He.call(this,Ls.Ma,c),this.size=d}E(pm,He);function uo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ho(){this.g=!0}ho.prototype.xa=function(){this.g=!1};function Aw(c,d,p,I,B,q){c.info(function(){if(c.g)if(q)for(var se="",et=q.split("&"),jt=0;jt<et.length;jt++){var We=et[jt].split("=");if(1<We.length){var en=We[0];We=We[1];var tn=en.split("_");se=2<=tn.length&&tn[1]=="type"?se+(en+"="+We+"&"):se+(en+"=redacted&")}}else se=null;else se=q;return"XMLHTTP REQ ("+I+") [attempt "+B+"]: "+d+`
`+p+`
`+se})}function Cw(c,d,p,I,B,q,se){c.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+B+"]: "+d+`
`+p+`
`+q+" "+se})}function ai(c,d,p,I){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Pw(c,p)+(I?" "+I:"")})}function Sw(c,d){c.info(function(){return"TIMEOUT: "+d})}ho.prototype.info=function(){};function Pw(c,d){if(!c.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var I=p[c];if(!(2>I.length)){var B=I[1];if(Array.isArray(B)&&!(1>B.length)){var q=B[0];if(q!="noop"&&q!="stop"&&q!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return Bt(p)}catch{return d}}var za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_m={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uu;function Ya(){}E(Ya,au),Ya.prototype.g=function(){return new XMLHttpRequest},Ya.prototype.i=function(){return{}},uu=new Ya;function Yr(c,d,p,I){this.j=c,this.i=d,this.l=p,this.R=I||1,this.U=new dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ym}function ym(){this.i=null,this.g="",this.h=!1}var vm={},hu={};function fu(c,d,p){c.L=1,c.v=Za(gr(d)),c.m=p,c.P=!0,Em(c,null)}function Em(c,d){c.F=Date.now(),Qa(c),c.A=gr(c.v);var p=c.A,I=c.R;Array.isArray(I)||(I=[String(I)]),Lm(p.i,"t",I),c.C=0,p=c.j.J,c.h=new ym,c.g=Xm(c.j,p?d:null,!c.m),0<c.O&&(c.M=new $t(m(c.Y,c,c.g),c.O)),d=c.U,p=c.g,I=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Yn[0]=B.toString()),B=Yn);for(var q=0;q<B.length;q++){var se=Q(p,B[q],I||d.handleEvent,!1,d.h||d);if(!se)break;d.g[se.key]=se}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),co(),Aw(c.i,c.u,c.A,c.l,c.R,c.m)}Yr.prototype.ca=function(c){c=c.target;const d=this.M;d&&pr(c)==3?d.j():this.Y(c)},Yr.prototype.Y=function(c){try{if(c==this.g)e:{const tn=pr(this.g);var d=this.g.Ba();const hi=this.g.Z();if(!(3>tn)&&(tn!=3||this.g&&(this.h.h||this.g.oa()||Bm(this.g)))){this.J||tn!=4||d==7||(d==8||0>=hi?co(3):co(2)),du(this);var p=this.g.Z();this.X=p;t:if(wm(this)){var I=Bm(this.g);c="";var B=I.length,q=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ms(this),fo(this);var se="";break t}this.h.i=new a.TextDecoder}for(d=0;d<B;d++)this.h.h=!0,c+=this.h.i.decode(I[d],{stream:!(q&&d==B-1)});I.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=p==200,Cw(this.i,this.u,this.A,this.l,this.R,tn,p),this.o){if(this.T&&!this.K){t:{if(this.g){var et,jt=this.g;if((et=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(et)){var We=et;break t}}We=null}if(p=We)ai(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mu(this,p);else{this.o=!1,this.s=3,hn(12),Ms(this),fo(this);break e}}if(this.P){p=!0;let Fn;for(;!this.J&&this.C<se.length;)if(Fn=Rw(this,se),Fn==hu){tn==4&&(this.s=4,hn(14),p=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==vm){this.s=4,hn(15),ai(this.i,this.l,se,"[Invalid Chunk]"),p=!1;break}else ai(this.i,this.l,Fn,null),mu(this,Fn);if(wm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tn!=4||se.length!=0||this.h.h||(this.s=1,hn(16),p=!1),this.o=this.o&&p,!p)ai(this.i,this.l,se,"[Invalid Chunked Response]"),Ms(this),fo(this);else if(0<se.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Eu(en),en.M=!0,hn(11))}}else ai(this.i,this.l,se,null),mu(this,se);tn==4&&Ms(this),this.o&&!this.J&&(tn==4?zm(this.j,this):(this.o=!1,Qa(this)))}else Kw(this.g),p==400&&0<se.indexOf("Unknown SID")?(this.s=3,hn(12)):(this.s=0,hn(13)),Ms(this),fo(this)}}}catch{}finally{}};function wm(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Rw(c,d){var p=c.C,I=d.indexOf(`
`,p);return I==-1?hu:(p=Number(d.substring(p,I)),isNaN(p)?vm:(I+=1,I+p>d.length?hu:(d=d.slice(I,I+p),c.C=I+p,d)))}Yr.prototype.cancel=function(){this.J=!0,Ms(this)};function Qa(c){c.S=Date.now()+c.I,Im(c,c.I)}function Im(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=uo(m(c.ba,c),d)}function du(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Yr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Sw(this.i,this.A),this.L!=2&&(co(),hn(17)),Ms(this),this.s=2,fo(this)):Im(this,this.S-c)};function fo(c){c.j.G==0||c.J||zm(c.j,c)}function Ms(c){du(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,oi(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function mu(c,d){try{var p=c.j;if(p.G!=0&&(p.g==c||gu(p.h,c))){if(!c.K&&gu(p.h,c)&&p.G==3){try{var I=p.Da.g.parse(d)}catch{I=null}if(Array.isArray(I)&&I.length==3){var B=I;if(B[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)il(p),rl(p);else break e;vu(p),hn(18)}}else p.za=B[1],0<p.za-p.T&&37500>B[2]&&p.F&&p.v==0&&!p.C&&(p.C=uo(m(p.Za,p),6e3));if(1>=Am(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Vs(p,11)}else if((c.K||p.g==c)&&il(p),!S(d))for(B=p.Da.g.parse(d),d=0;d<B.length;d++){let We=B[d];if(p.T=We[0],We=We[1],p.G==2)if(We[0]=="c"){p.K=We[1],p.ia=We[2];const en=We[3];en!=null&&(p.la=en,p.j.info("VER="+p.la));const tn=We[4];tn!=null&&(p.Aa=tn,p.j.info("SVER="+p.Aa));const hi=We[5];hi!=null&&typeof hi=="number"&&0<hi&&(I=1.5*hi,p.L=I,p.j.info("backChannelRequestTimeoutMs_="+I)),I=p;const Fn=c.g;if(Fn){const al=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(al){var q=I.h;q.g||al.indexOf("spdy")==-1&&al.indexOf("quic")==-1&&al.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(pu(q,q.h),q.h=null))}if(I.D){const wu=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;wu&&(I.ya=wu,at(I.I,I.D,wu))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),I=p;var se=c;if(I.qa=Jm(I,I.J?I.ia:null,I.W),se.K){Cm(I.h,se);var et=se,jt=I.L;jt&&(et.I=jt),et.B&&(du(et),Qa(et)),I.g=se}else Km(I);0<p.i.length&&sl(p)}else We[0]!="stop"&&We[0]!="close"||Vs(p,7);else p.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Vs(p,7):yu(p):We[0]!="noop"&&p.l&&p.l.ta(We),p.v=0)}}co(4)}catch{}}var kw=class{constructor(c,d){this.g=c,this.map=d}};function Tm(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function bm(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Am(c){return c.h?1:c.g?c.g.size:0}function gu(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function pu(c,d){c.g?c.g.add(d):c.h=d}function Cm(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Tm.prototype.cancel=function(){if(this.i=Sm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Sm(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(const p of c.g.values())d=d.concat(p.D);return d}return w(c.i)}function Dw(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],p=c.length,I=0;I<p;I++)d.push(c[I]);return d}d=[],p=0;for(I in c)d[p++]=c[I];return d}function Nw(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var p=0;p<c;p++)d.push(p);return d}d=[],p=0;for(const I in c)d[p++]=I;return d}}}function Pm(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var p=Nw(c),I=Dw(c),B=I.length,q=0;q<B;q++)d.call(void 0,I[q],p&&p[q],c)}var Rm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ow(c,d){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var I=c[p].indexOf("="),B=null;if(0<=I){var q=c[p].substring(0,I);B=c[p].substring(I+1)}else q=c[p];d(q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function xs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xs){this.h=c.h,Ja(this,c.j),this.o=c.o,this.g=c.g,Xa(this,c.s),this.l=c.l;var d=c.i,p=new po;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),km(this,p),this.m=c.m}else c&&(d=String(c).match(Rm))?(this.h=!1,Ja(this,d[1]||"",!0),this.o=mo(d[2]||""),this.g=mo(d[3]||"",!0),Xa(this,d[4]),this.l=mo(d[5]||"",!0),km(this,d[6]||"",!0),this.m=mo(d[7]||"")):(this.h=!1,this.i=new po(null,this.h))}xs.prototype.toString=function(){var c=[],d=this.j;d&&c.push(go(d,Dm,!0),":");var p=this.g;return(p||d=="file")&&(c.push("//"),(d=this.o)&&c.push(go(d,Dm,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(go(p,p.charAt(0)=="/"?xw:Mw,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",go(p,Fw)),c.join("")};function gr(c){return new xs(c)}function Ja(c,d,p){c.j=p?mo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Xa(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function km(c,d,p){d instanceof po?(c.i=d,Uw(c.i,c.h)):(p||(d=go(d,Vw)),c.i=new po(d,c.h))}function at(c,d,p){c.i.set(d,p)}function Za(c){return at(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function mo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function go(c,d,p){return typeof c=="string"?(c=encodeURI(c).replace(d,Lw),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Lw(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Dm=/[#\/\?@]/g,Mw=/[#\?:]/g,xw=/[#\?]/g,Vw=/[#\?@]/g,Fw=/#/g;function po(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Qr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ow(c.i,function(d,p){c.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=po.prototype,t.add=function(c,d){Qr(this),this.i=null,c=li(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(d),this.h+=1,this};function Nm(c,d){Qr(c),d=li(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Om(c,d){return Qr(c),d=li(c,d),c.g.has(d)}t.forEach=function(c,d){Qr(this),this.g.forEach(function(p,I){p.forEach(function(B){c.call(d,B,I,this)},this)},this)},t.na=function(){Qr(this);const c=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let I=0;I<d.length;I++){const B=c[I];for(let q=0;q<B.length;q++)p.push(d[I])}return p},t.V=function(c){Qr(this);let d=[];if(typeof c=="string")Om(this,c)&&(d=d.concat(this.g.get(li(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)d=d.concat(c[p])}return d},t.set=function(c,d){return Qr(this),this.i=null,c=li(this,c),Om(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Lm(c,d,p){Nm(c,d),0<p.length&&(c.i=null,c.g.set(li(c,d),w(p)),c.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var I=d[p];const q=encodeURIComponent(String(I)),se=this.V(I);for(I=0;I<se.length;I++){var B=q;se[I]!==""&&(B+="="+encodeURIComponent(String(se[I]))),c.push(B)}}return this.i=c.join("&")};function li(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Uw(c,d){d&&!c.j&&(Qr(c),c.i=null,c.g.forEach(function(p,I){var B=I.toLowerCase();I!=B&&(Nm(this,I),Lm(this,B,p))},c)),c.j=d}function $w(c,d){const p=new ho;if(a.Image){const I=new Image;I.onload=g(Jr,p,"TestLoadImage: loaded",!0,d,I),I.onerror=g(Jr,p,"TestLoadImage: error",!1,d,I),I.onabort=g(Jr,p,"TestLoadImage: abort",!1,d,I),I.ontimeout=g(Jr,p,"TestLoadImage: timeout",!1,d,I),a.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=c}else d(!1)}function Bw(c,d){const p=new ho,I=new AbortController,B=setTimeout(()=>{I.abort(),Jr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:I.signal}).then(q=>{clearTimeout(B),q.ok?Jr(p,"TestPingServer: ok",!0,d):Jr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(B),Jr(p,"TestPingServer: error",!1,d)})}function Jr(c,d,p,I,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),I(p)}catch{}}function jw(){this.g=new Ka}function Hw(c,d,p){const I=p||"";try{Pm(c,function(B,q){let se=B;u(B)&&(se=Bt(B)),d.push(I+q+"="+encodeURIComponent(se))})}catch(B){throw d.push(I+"type="+encodeURIComponent("_badmap")),B}}function el(c){this.l=c.Ub||null,this.j=c.eb||!1}E(el,au),el.prototype.g=function(){return new tl(this.l,this.j)},el.prototype.i=function(c){return function(){return c}}({});function tl(c,d){$.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(tl,$),t=tl.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,yo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_o(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yo(this)),this.g&&(this.readyState=3,yo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mm(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mm(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?_o(this):yo(this),this.readyState==3&&Mm(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,_o(this))},t.Qa=function(c){this.g&&(this.response=c,_o(this))},t.ga=function(){this.g&&_o(this)};function _o(c){c.readyState=4,c.l=null,c.j=null,c.v=null,yo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=d.next();return c.join(`\r
`)};function yo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xm(c){let d="";return F(c,function(p,I){d+=I,d+=":",d+=p,d+=`\r
`}),d}function _u(c,d,p){e:{for(I in p){var I=!1;break e}I=!0}I||(p=xm(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):at(c,d,p))}function _t(c){$.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(_t,$);var Ww=/^https?$/i,qw=["POST","PUT"];t=_t.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,p,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uu.g(),this.v=this.o?hm(this.o):hm(uu),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(q){Vm(this,q);return}if(c=p||"",p=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var B in I)p.set(B,I[B]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const q of I.keys())p.set(q,I.get(q));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),B=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qw,d,void 0))||I||B||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of p)this.g.setRequestHeader(q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$m(this),this.u=!0,this.g.send(c),this.u=!1}catch(q){Vm(this,q)}};function Vm(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Fm(c),nl(c)}function Fm(c){c.A||(c.A=!0,W(c,"complete"),W(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,W(this,"complete"),W(this,"abort"),nl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nl(this,!0)),_t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Um(this):this.bb())},t.bb=function(){Um(this)};function Um(c){if(c.h&&typeof o<"u"&&(!c.v[1]||pr(c)!=4||c.Z()!=2)){if(c.u&&pr(c)==4)Oe(c.Ea,0,c);else if(W(c,"readystatechange"),pr(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var I;if(I=se===0){var B=String(c.D).match(Rm)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),I=!Ww.test(B?B.toLowerCase():"")}p=I}if(p)W(c,"complete"),W(c,"success");else{c.m=6;try{var q=2<pr(c)?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.Z()+"]",Fm(c)}}finally{nl(c)}}}}function nl(c,d){if(c.g){$m(c);const p=c.g,I=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||W(c,"ready");try{p.onreadystatechange=I}catch{}}}function $m(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function pr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Dn(d)}};function Bm(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Kw(c){const d={};c=(c.g&&2<=pr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<c.length;I++){if(S(c[I]))continue;var p=V(c[I]);const B=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=d[B]||[];d[B]=q,q.push(p)}y(d,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function vo(c,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||d}function jm(c){this.Aa=0,this.i=[],this.j=new ho,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=vo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=vo("baseRetryDelayMs",5e3,c),this.cb=vo("retryDelaySeedMs",1e4,c),this.Wa=vo("forwardChannelMaxRetries",2,c),this.wa=vo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Tm(c&&c.concurrentRequestLimit),this.Da=new jw,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=jm.prototype,t.la=8,t.G=1,t.connect=function(c,d,p,I){hn(0),this.W=c,this.H=d||{},p&&I!==void 0&&(this.H.OSID=p,this.H.OAID=I),this.F=this.X,this.I=Jm(this,null,this.W),sl(this)};function yu(c){if(Hm(c),c.G==3){var d=c.U++,p=gr(c.I);if(at(p,"SID",c.K),at(p,"RID",d),at(p,"TYPE","terminate"),Eo(c,p),d=new Yr(c,c.j,d),d.L=2,d.v=Za(gr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=Xm(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Qa(d)}Qm(c)}function rl(c){c.g&&(Eu(c),c.g.cancel(),c.g=null)}function Hm(c){rl(c),c.u&&(a.clearTimeout(c.u),c.u=null),il(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function sl(c){if(!bm(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ce||yt(),Ie||(Ce(),Ie=!0),ut.add(d,c),c.B=0}}function Gw(c,d){return Am(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=uo(m(c.Ga,c,d),Ym(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Yr(this,this.j,c);let q=this.o;if(this.S&&(q?(q=_(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(B.H=q,q=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var I=this.i[p];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(d+=I,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=qm(this,B,d),p=gr(this.I),at(p,"RID",c),at(p,"CVER",22),this.D&&at(p,"X-HTTP-Session-Id",this.D),Eo(this,p),q&&(this.O?d="headers="+encodeURIComponent(String(xm(q)))+"&"+d:this.m&&_u(p,this.m,q)),pu(this.h,B),this.Ua&&at(p,"TYPE","init"),this.P?(at(p,"$req",d),at(p,"SID","null"),B.T=!0,fu(B,p,null)):fu(B,p,d),this.G=2}}else this.G==3&&(c?Wm(this,c):this.i.length==0||bm(this.h)||Wm(this))};function Wm(c,d){var p;d?p=d.l:p=c.U++;const I=gr(c.I);at(I,"SID",c.K),at(I,"RID",p),at(I,"AID",c.T),Eo(c,I),c.m&&c.o&&_u(I,c.m,c.o),p=new Yr(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),d&&(c.i=d.D.concat(c.i)),d=qm(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),pu(c.h,p),fu(p,I,d)}function Eo(c,d){c.H&&F(c.H,function(p,I){at(d,I,p)}),c.l&&Pm({},function(p,I){at(d,I,p)})}function qm(c,d,p){p=Math.min(c.i.length,p);var I=c.l?m(c.l.Na,c.l,c):null;e:{var B=c.i;let q=-1;for(;;){const se=["count="+p];q==-1?0<p?(q=B[0].g,se.push("ofs="+q)):q=0:se.push("ofs="+q);let et=!0;for(let jt=0;jt<p;jt++){let We=B[jt].g;const en=B[jt].map;if(We-=q,0>We)q=Math.max(0,B[jt].g-100),et=!1;else try{Hw(en,se,"req"+We+"_")}catch{I&&I(en)}}if(et){I=se.join("&");break e}}}return c=c.i.splice(0,p),d.D=c,I}function Km(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ce||yt(),Ie||(Ce(),Ie=!0),ut.add(d,c),c.v=0}}function vu(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=uo(m(c.Fa,c),Ym(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Gm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=uo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,hn(10),rl(this),Gm(this))};function Eu(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Gm(c){c.g=new Yr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=gr(c.qa);at(d,"RID","rpc"),at(d,"SID",c.K),at(d,"AID",c.T),at(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&at(d,"TO",c.ja),at(d,"TYPE","xmlhttp"),Eo(c,d),c.m&&c.o&&_u(d,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=Za(gr(d)),p.m=null,p.P=!0,Em(p,c)}t.Za=function(){this.C!=null&&(this.C=null,rl(this),vu(this),hn(19))};function il(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function zm(c,d){var p=null;if(c.g==d){il(c),Eu(c),c.g=null;var I=2}else if(gu(c.h,d))p=d.D,Cm(c.h,d),I=1;else return;if(c.G!=0){if(d.o)if(I==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var B=c.B;I=Ga(),W(I,new pm(I,p)),sl(c)}else Km(c);else if(B=d.s,B==3||B==0&&0<d.X||!(I==1&&Gw(c,d)||I==2&&vu(c)))switch(p&&0<p.length&&(d=c.h,d.i=d.i.concat(p)),B){case 1:Vs(c,5);break;case 4:Vs(c,10);break;case 3:Vs(c,6);break;default:Vs(c,2)}}}function Ym(c,d){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*d}function Vs(c,d){if(c.j.info("Error code "+d),d==2){var p=m(c.fb,c),I=c.Xa;const B=!I;I=new xs(I||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ja(I,"https"),Za(I),B?$w(I.toString(),p):Bw(I.toString(),p)}else hn(2);c.G=0,c.l&&c.l.sa(d),Qm(c),Hm(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function Qm(c){if(c.G=0,c.ka=[],c.l){const d=Sm(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function Jm(c,d,p){var I=p instanceof xs?gr(p):new xs(p);if(I.g!="")d&&(I.g=d+"."+I.g),Xa(I,I.s);else{var B=a.location;I=B.protocol,d=d?d+"."+B.hostname:B.hostname,B=+B.port;var q=new xs(null);I&&Ja(q,I),d&&(q.g=d),B&&Xa(q,B),p&&(q.l=p),I=q}return p=c.D,d=c.ya,p&&d&&at(I,p,d),at(I,"VER",c.la),Eo(c,I),I}function Xm(c,d,p){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new _t(new el({eb:p})):new _t(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zm(){}t=Zm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ol(){}ol.prototype.g=function(c,d){return new bn(c,d)};function bn(c,d){$.call(this),this.g=new jm(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!S(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!S(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ci(this)}E(bn,$),bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){yu(this.g)},bn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=Bt(c),c=p);d.i.push(new kw(d.Ya++,c)),d.G==3&&sl(d)},bn.prototype.N=function(){this.g.l=null,delete this.j,yu(this.g),delete this.g,bn.aa.N.call(this)};function eg(c){lu.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(const p in d){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}E(eg,lu);function tg(){cu.call(this),this.status=1}E(tg,cu);function ci(c){this.g=c}E(ci,Zm),ci.prototype.ua=function(){W(this.g,"a")},ci.prototype.ta=function(c){W(this.g,new eg(c))},ci.prototype.sa=function(c){W(this.g,new tg)},ci.prototype.ra=function(){W(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,vv=function(){return new ol},yv=function(){return Ga()},_v=Ls,kh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,Pl=za,_m.COMPLETE="complete",pv=_m,fm.EventType=lo,lo.OPEN="a",lo.CLOSE="b",lo.ERROR="c",lo.MESSAGE="d",$.prototype.listen=$.prototype.K,ko=fm,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,gv=_t}).apply(typeof ml<"u"?ml:typeof self<"u"?self:typeof window<"u"?window:{});const ip="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new rd("@firebase/firestore");function bo(){return Zs.logLevel}function me(t,...e){if(Zs.logLevel<=Ve.DEBUG){const n=e.map(od);Zs.debug(`Firestore (${no}): ${t}`,...n)}}function $r(t,...e){if(Zs.logLevel<=Ve.ERROR){const n=e.map(od);Zs.error(`Firestore (${no}): ${t}`,...n)}}function $i(t,...e){if(Zs.logLevel<=Ve.WARN){const n=e.map(od);Zs.warn(`Firestore (${no}): ${t}`,...n)}}function od(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t="Unexpected state"){const e=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: `+t;throw $r(e),new Error(e)}function Xe(t,e){t||Te()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class gP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pP{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new Ev(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new sn(e)}}class _P{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new _P(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Xe(this.o===void 0);const r=i=>{i.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new vP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=wP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function qe(t,e){return t<e?-1:t>e?1:0}function Bi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Pt(0,0))}static max(){return new Pe(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(),r===void 0?r=e.length-n:r>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return da.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof da?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ht extends da{construct(e,n,r){return new ht(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ht(n)}static emptyPath(){return new ht([])}}const IP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends da{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return IP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(ht.fromString(e))}static fromName(e){return new ye(ht.fromString(e).popFirst(5))}static empty(){return new ye(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new ht(e.slice()))}}function TP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Pe.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new Es(s,ye.empty(),e)}function bP(t){return new Es(t.readTime,t.key,-1)}class Es{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Es(Pe.min(),ye.empty(),-1)}static max(){return new Es(Pe.max(),ye.empty(),-1)}}function AP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==CP)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(s=>s?X.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new X((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new X((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function PP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ad.oe=-1;function Vc(t){return t==null}function Jl(t){return t===0&&1/t==-1/0}function RP(t){return typeof t=="number"&&Number.isInteger(t)&&!Jl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Iv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gl(this.root,e,this.comparator,!1)}getReverseIterator(){return new gl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gl(this.root,e,this.comparator,!0)}}class gl{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=s??Ht.EMPTY,this.right=i??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ap(this.data.getIterator())}getIteratorFrom(e){return new ap(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Yt(this.comparator);return n.data=e,n}}class ap{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Pn([])}unionWith(e){let n=new Yt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Tv("Invalid base64 string: "+i):i}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const kP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=kP.exec(t);if(Xe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:vt(t.seconds),nanos:vt(t.nanos)}}function vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ei(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cd(t){const e=t.mapValue.fields.__previous_value__;return ld(e)?cd(e):e}function ma(t){const e=ws(t.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ga{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ga("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ga&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl={mapValue:{}};function ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ld(t)?4:OP(t)?9007199254740991:NP(t)?10:11:Te()}function hr(t,e){if(t===e)return!0;const n=ti(t);if(n!==ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ma(t).isEqual(ma(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ws(s.timestampValue),a=ws(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ei(s.bytesValue).isEqual(ei(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return vt(s.geoPointValue.latitude)===vt(i.geoPointValue.latitude)&&vt(s.geoPointValue.longitude)===vt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return vt(s.integerValue)===vt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=vt(s.doubleValue),a=vt(i.doubleValue);return o===a?Jl(o)===Jl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Bi(t.arrayValue.values||[],e.arrayValue.values||[],hr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(op(o)!==op(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!hr(o[l],a[l])))return!1;return!0}(t,e);default:return Te()}}function pa(t,e){return(t.values||[]).find(n=>hr(n,e))!==void 0}function ji(t,e){if(t===e)return 0;const n=ti(t),r=ti(e);if(n!==r)return qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=vt(i.integerValue||i.doubleValue),l=vt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return lp(t.timestampValue,e.timestampValue);case 4:return lp(ma(t),ma(e));case 5:return qe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ei(i),l=ei(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=qe(a[u],l[u]);if(h!==0)return h}return qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=qe(vt(i.latitude),vt(o.latitude));return a!==0?a:qe(vt(i.longitude),vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return cp(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,u,h;const f=i.fields||{},m=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,E=(l=m.value)===null||l===void 0?void 0:l.arrayValue,w=qe(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:cp(g,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===pl.mapValue&&o===pl.mapValue)return 0;if(i===pl.mapValue)return 1;if(o===pl.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=qe(l[f],h[f]);if(m!==0)return m;const g=ji(a[l[f]],u[h[f]]);if(g!==0)return g}return qe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Te()}}function lp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return qe(t,e);const n=ws(t),r=ws(e),s=qe(n.seconds,r.seconds);return s!==0?s:qe(n.nanos,r.nanos)}function cp(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ji(n[s],r[s]);if(i)return i}return qe(n.length,r.length)}function Hi(t){return Dh(t)}function Dh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ws(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Dh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Dh(n.fields[o])}`;return s+"}"}(t.mapValue):Te()}function Nh(t){return!!t&&"integerValue"in t}function ud(t){return!!t&&"arrayValue"in t}function up(t){return!!t&&"nullValue"in t}function hp(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rl(t){return!!t&&"mapValue"in t}function NP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Go(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Go(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Go(t.arrayValue.values[n]);return e}return Object.assign({},t)}function OP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Go(n)}setAll(e){let n=Gt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Go(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Rl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Rl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){si(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new In(Go(this.value))}}function bv(t){const e=[];return si(t.fields,(n,r)=>{const s=new Gt([n]);if(Rl(r)){const i=bv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new an(e,0,Pe.min(),Pe.min(),Pe.min(),In.empty(),0)}static newFoundDocument(e,n,r,s){return new an(e,1,n,Pe.min(),r,s,0)}static newNoDocument(e,n){return new an(e,2,n,Pe.min(),Pe.min(),In.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Pe.min(),Pe.min(),In.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.position=e,this.inclusive=n}}function fp(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=ji(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function dp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function LP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{}class St extends Av{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new xP(e,n,r):n==="array-contains"?new UP(e,r):n==="in"?new $P(e,r):n==="not-in"?new BP(e,r):n==="array-contains-any"?new jP(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VP(e,r):new FP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ji(n,this.value)):n!==null&&ti(this.value)===ti(n)&&this.matchesComparison(ji(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends Av{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new fr(e,n)}matches(e){return Cv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Cv(t){return t.op==="and"}function Sv(t){return MP(t)&&Cv(t)}function MP(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function Oh(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+Hi(t.value);if(Sv(t))return t.filters.map(e=>Oh(e)).join(",");{const e=t.filters.map(n=>Oh(n)).join(",");return`${t.op}(${e})`}}function Pv(t,e){return t instanceof St?function(r,s){return s instanceof St&&r.op===s.op&&r.field.isEqual(s.field)&&hr(r.value,s.value)}(t,e):t instanceof fr?function(r,s){return s instanceof fr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Pv(o,s.filters[a]),!0):!1}(t,e):void Te()}function Rv(t){return t instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${Hi(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(Rv).join(" ,")+"}"}(t):"Filter"}class xP extends St{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class VP extends St{constructor(e,n){super(e,"in",n),this.keys=kv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FP extends St{constructor(e,n){super(e,"not-in",n),this.keys=kv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class UP extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ud(n)&&pa(n.arrayValue,this.value)}}class $P extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pa(this.value.arrayValue,n)}}class BP extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pa(this.value.arrayValue,n)}}class jP extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ud(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function mp(t,e=null,n=[],r=[],s=null,i=null,o=null){return new HP(t,e,n,r,s,i,o)}function hd(t){const e=Re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Oh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Vc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hi(r)).join(",")),e.ue=n}return e.ue}function fd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!LP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Pv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dp(t.startAt,e.startAt)&&dp(t.endAt,e.endAt)}function Lh(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function WP(t,e,n,r,s,i,o,a){return new Fc(t,e,n,r,s,i,o,a)}function Uc(t){return new Fc(t)}function gp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qP(t){return t.collectionGroup!==null}function zo(t){const e=Re(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Yt(Gt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Zl(i,r))}),n.has(Gt.keyField().canonicalString())||e.ce.push(new Zl(Gt.keyField(),r))}return e.ce}function sr(t){const e=Re(t);return e.le||(e.le=KP(e,zo(t))),e.le}function KP(t,e){if(t.limitType==="F")return mp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Zl(s.field,i)});const n=t.endAt?new Xl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xl(t.startAt.position,t.startAt.inclusive):null;return mp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mh(t,e,n){return new Fc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $c(t,e){return fd(sr(t),sr(e))&&t.limitType===e.limitType}function Dv(t){return`${hd(sr(t))}|lt:${t.limitType}`}function gi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Rv(s)).join(", ")}]`),Vc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Hi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Hi(s)).join(",")),`Target(${r})`}(sr(t))}; limitType=${t.limitType})`}function Bc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of zo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=fp(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,zo(r),s)||r.endAt&&!function(o,a,l){const u=fp(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,zo(r),s))}(t,e)}function GP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Nv(t){return(e,n)=>{let r=!1;for(const s of zo(t)){const i=zP(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function zP(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?ji(l,u):Te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Iv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=new pt(ye.comparator);function Br(){return YP}const Ov=new pt(ye.comparator);function Do(...t){let e=Ov;for(const n of t)e=e.insert(n.key,n);return e}function Lv(t){let e=Ov;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qs(){return Yo()}function Mv(){return Yo()}function Yo(){return new ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const QP=new pt(ye.comparator),JP=new Yt(ye.comparator);function xe(...t){let e=JP;for(const n of t)e=e.add(n);return e}const XP=new Yt(qe);function ZP(){return XP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(e)?"-0":e}}function xv(t){return{integerValue:""+t}}function eR(t,e){return RP(e)?xv(e):dd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(){this._=void 0}}function tR(t,e,n){return t instanceof ec?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&ld(i)&&(i=cd(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof _a?Fv(t,e):t instanceof ya?Uv(t,e):function(s,i){const o=Vv(s,i),a=pp(o)+pp(s.Pe);return Nh(o)&&Nh(s.Pe)?xv(a):dd(s.serializer,a)}(t,e)}function nR(t,e,n){return t instanceof _a?Fv(t,e):t instanceof ya?Uv(t,e):n}function Vv(t,e){return t instanceof tc?function(r){return Nh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ec extends jc{}class _a extends jc{constructor(e){super(),this.elements=e}}function Fv(t,e){const n=$v(e);for(const r of t.elements)n.some(s=>hr(s,r))||n.push(r);return{arrayValue:{values:n}}}class ya extends jc{constructor(e){super(),this.elements=e}}function Uv(t,e){let n=$v(e);for(const r of t.elements)n=n.filter(s=>!hr(s,r));return{arrayValue:{values:n}}}class tc extends jc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function pp(t){return vt(t.integerValue||t.doubleValue)}function $v(t){return ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rR(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof _a&&s instanceof _a||r instanceof ya&&s instanceof ya?Bi(r.elements,s.elements,hr):r instanceof tc&&s instanceof tc?hr(r.Pe,s.Pe):r instanceof ec&&s instanceof ec}(t.transform,e.transform)}class sR{constructor(e,n){this.version=e,this.transformResults=n}}class qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function kl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hc{}function Bv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new md(t.key,qn.none()):new Va(t.key,t.data,qn.none());{const n=t.data,r=In.empty();let s=new Yt(Gt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ps(t.key,r,new Pn(s.toArray()),qn.none())}}function iR(t,e,n){t instanceof Va?function(s,i,o){const a=s.value.clone(),l=yp(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ps?function(s,i,o){if(!kl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=yp(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(jv(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qo(t,e,n,r){return t instanceof Va?function(i,o,a,l){if(!kl(i.precondition,o))return a;const u=i.value.clone(),h=vp(i.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ps?function(i,o,a,l){if(!kl(i.precondition,o))return a;const u=vp(i.fieldTransforms,l,o),h=o.data;return h.setAll(jv(i)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return kl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function oR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Vv(r.transform,s||null);i!=null&&(n===null&&(n=In.empty()),n.set(r.field,i))}return n||null}function _p(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Bi(r,s,(i,o)=>rR(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Va extends Hc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ps extends Hc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yp(t,e,n){const r=new Map;Xe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,nR(o,a,n[s]))}return r}function vp(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,tR(i,o,e))}return r}class md extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aR extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&iR(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Qo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Mv();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Bv(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&Bi(this.mutations,e.mutations,(n,r)=>_p(n,r))&&Bi(this.baseMutations,e.baseMutations,(n,r)=>_p(n,r))}}class gd{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Xe(e.mutations.length===r.length);let s=function(){return QP}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new gd(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,Be;function hR(t){switch(t){default:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function Hv(t){if(t===void 0)return $r("GRPC error has no .code"),J.UNKNOWN;switch(t){case Tt.OK:return J.OK;case Tt.CANCELLED:return J.CANCELLED;case Tt.UNKNOWN:return J.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return J.INTERNAL;case Tt.UNAVAILABLE:return J.UNAVAILABLE;case Tt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Tt.NOT_FOUND:return J.NOT_FOUND;case Tt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Tt.ABORTED:return J.ABORTED;case Tt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Tt.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(Be=Tt||(Tt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new Qs([4294967295,4294967295],0);function Ep(t){const e=fR().encode(t),n=new mv;return n.update(e),new Uint8Array(n.digest())}function wp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Qs([n,r],0),new Qs([s,i],0)]}class pd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new No(`Invalid padding: ${n}`);if(r<0)throw new No(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new No(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qs.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Qs.fromNumber(r)));return s.compare(dR)===1&&(s=new Qs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ep(e),[r,s]=wp(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new pd(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Ep(e),[r,s]=wp(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Fa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wc(Pe.min(),s,new pt(qe),Br(),xe())}}class Fa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fa(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Wv{constructor(e,n){this.targetId=e,this.me=n}}class qv{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ip{constructor(){this.fe=0,this.ge=bp(),this.pe=Xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Te()}}),new Fa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=bp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mR{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=Tp(),this.Qe=new pt(qe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Lh(i))if(r===0){const o=new ye(i.path);this.Ue(n,o,an.newNoDocument(o,Pe.min()))}else Xe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ei(r).toUint8Array()}catch(l){if(l instanceof Tv)return $i("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pd(o,s,i)}catch(l){return $i(l instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Lh(a.target)){const l=new ye(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,an.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=xe();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Wc(e,n,this.Qe,this.ke,r);return this.ke=Br(),this.qe=Tp(),this.Qe=new pt(qe),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Ip,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Yt(qe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ip),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Tp(){return new pt(ye.comparator)}function bp(){return new pt(ye.comparator)}const gR={asc:"ASCENDING",desc:"DESCENDING"},pR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_R={and:"AND",or:"OR"};class yR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xh(t,e){return t.useProto3Json||Vc(e)?e:{value:e}}function nc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vR(t,e){return nc(t,e.toTimestamp())}function ir(t){return Xe(!!t),Pe.fromTimestamp(function(n){const r=ws(n);return new Pt(r.seconds,r.nanos)}(t))}function _d(t,e){return Vh(t,e).canonicalString()}function Vh(t,e){const n=function(s){return new ht(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Gv(t){const e=ht.fromString(t);return Xe(Xv(e)),e}function Fh(t,e){return _d(t.databaseId,e.path)}function Ku(t,e){const n=Gv(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(Yv(n))}function zv(t,e){return _d(t.databaseId,e)}function ER(t){const e=Gv(t);return e.length===4?ht.emptyPath():Yv(e)}function Uh(t){return new ht(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Yv(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ap(t,e,n){return{name:Fh(t,e),fields:n.value.mapValue.fields}}function wR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Xe(h===void 0||typeof h=="string"),Xt.fromBase64String(h||"")):(Xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Xt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?J.UNKNOWN:Hv(u.code);return new ge(h,u.message||"")}(o);n=new qv(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ku(t,r.document.name),i=ir(r.document.updateTime),o=r.document.createTime?ir(r.document.createTime):Pe.min(),a=new In({mapValue:{fields:r.document.fields}}),l=an.newFoundDocument(s,i,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Dl(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ku(t,r.document),i=r.readTime?ir(r.readTime):Pe.min(),o=an.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Dl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ku(t,r.document),i=r.removedTargetIds||[];n=new Dl([],i,s,null)}else{if(!("filter"in e))return Te();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new uR(s,i),a=r.targetId;n=new Wv(a,o)}}return n}function IR(t,e){let n;if(e instanceof Va)n={update:Ap(t,e.key,e.value)};else if(e instanceof md)n={delete:Fh(t,e.key)};else if(e instanceof Ps)n={update:Ap(t,e.key,e.data),updateMask:DR(e.fieldMask)};else{if(!(e instanceof aR))return Te();n={verify:Fh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ec)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _a)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ya)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:vR(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Te()}(t,e.precondition)),n}function TR(t,e){return t&&t.length>0?(Xe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?ir(s.updateTime):ir(i);return o.isEqual(Pe.min())&&(o=ir(i)),new sR(o,s.transformResults||[])}(n,e))):[]}function bR(t,e){return{documents:[zv(t,e.path)]}}function AR(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zv(t,s);const i=function(u){if(u.length!==0)return Jv(fr.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:pi(m.field),direction:PR(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=xh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:s}}function CR(t){let e=ER(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Xe(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=Qv(f);return m instanceof fr&&Sv(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(E){return new Zl(_i(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Vc(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,g=f.values||[];return new Xl(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,g=f.values||[];return new Xl(g,m)}(n.endAt)),WP(e,s,o,i,a,"F",l,u)}function SR(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_i(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=_i(n.unaryFilter.field);return St.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=_i(n.unaryFilter.field);return St.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_i(n.unaryFilter.field);return St.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(t):t.fieldFilter!==void 0?function(n){return St.create(_i(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>Qv(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(t):Te()}function PR(t){return gR[t]}function RR(t){return pR[t]}function kR(t){return _R[t]}function pi(t){return{fieldPath:t.canonicalString()}}function _i(t){return Gt.fromServerFormat(t.fieldPath)}function Jv(t){return t instanceof St?function(n){if(n.op==="=="){if(hp(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NAN"}};if(up(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hp(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NOT_NAN"}};if(up(n.value))return{unaryFilter:{field:pi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pi(n.field),op:RR(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(s=>Jv(s));return r.length===1?r[0]:{compositeFilter:{op:kR(n.op),filters:r}}}(t):Te()}function DR(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Xv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r,s,i=Pe.min(),o=Pe.min(),a=Xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.ct=e}}function OR(t){const e=CR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.un=new MR}addToCollectionParentIndex(e,n){return this.un.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(Es.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(Es.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class MR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Yt(ht.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Yt(ht.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wi(0)}static kn(){return new Wi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Qo(r.mutation,s,Pn.empty(),Pt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Do();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Br();const o=Yo(),a=function(){return Yo()}();return n.forEach((l,u)=>{const h=r.get(u.key);s.has(u.key)&&(h===void 0||h.mutation instanceof Ps)?i=i.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Qo(h.mutation,u,h.mutation.getFieldMask(),Pt.now())):o.set(u.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new VR(h,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Yo();let s=new pt((o,a)=>o-a),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||Pn.empty();h=a.applyToLocalView(u,h),r.set(l,h);const f=(s.get(a.batchId)||xe()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,f=Mv();h.forEach(m=>{if(!i.has(m)){const g=Bv(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return X.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):X.resolve(qs());let a=-1,l=i;return o.next(u=>X.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?X.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,xe())).next(h=>({batchId:a,changes:Lv(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=Do();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Do();return this.indexManager.getCollectionParents(e,i).next(a=>X.forEach(a,l=>{const u=function(f,m){return new Fc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,an.newInvalidDocument(h)))});let a=Do();return o.forEach((l,u)=>{const h=i.get(l);h!==void 0&&Qo(h.mutation,u,Pn.empty(),Pt.now()),Bc(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return X.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ir(s.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:OR(s.bundledQuery),readTime:ir(s.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.overlays=new pt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qs();return X.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const s=qs(),i=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return X.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new pt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=qs(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=qs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=s)););return X.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cR(n,r));let i=this.Ir.get(n);i===void 0&&(i=xe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.Tr=new Yt(Nt.Er),this.dr=new Yt(Nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Nt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new ht([])),r=new Nt(n,e),s=new Nt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new ht([])),r=new Nt(n,e),s=new Nt(n,e+1);let i=xe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Nt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||qe(e.wr,n.wr)}static Ar(e,n){return qe(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Yt(Nt.Er)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lR(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Nt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return X.resolve(o)}lookupMutationBatch(e,n){return X.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return X.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),s=new Nt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),X.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Yt(qe);return n.forEach(s=>{const i=new Nt(s,0),o=new Nt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),X.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const o=new Nt(new ye(i),0);let a=new Yt(qe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.wr)),!0)},o),X.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Xe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return X.forEach(n.mutations,s=>{const i=new Nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Nt(n,0),s=this.br.firstAfterOrEqual(r);return X.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e){this.Mr=e,this.docs=function(){return new pt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():an.newInvalidDocument(s))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Br();const o=n.path,a=new ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||AP(bP(h),r)<=0||(s.has(h.key)||Bc(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Te()}Or(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WR(this)}getSize(e){return X.resolve(this.size)}}class WR extends xR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.persistence=e,this.Nr=new ro(n=>hd(n),fd),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yd,this.targetCount=0,this.kr=Wi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),X.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Wi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.Kn(n),X.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),X.waitFor(i).next(()=>s)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),X.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ad(0),this.Kr=!1,this.Kr=!0,this.$r=new BR,this.referenceDelegate=e(this),this.Ur=new qR(this),this.indexManager=new LR,this.remoteDocumentCache=function(s){return new HR(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new NR(n),this.Gr=new UR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $R,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new jR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new GR(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return X.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class GR extends SP{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.Jr=new yd,this.Yr=null}static Zr(e){return new vd(e)}get Xr(){if(this.Yr)return this.Yr;throw Te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),X.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Xr,r=>{const s=ye.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Pe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return X.or([()=>X.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Ed(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return JC()?8:PP(un())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new zR;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(bo()<=Ve.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",gi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),X.resolve()):(bo()<=Ve.DEBUG&&me("QueryEngine","Query:",gi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(bo()<=Ve.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",gi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):X.resolve())}Yi(e,n){if(gp(n))return X.resolve(null);let r=sr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Mh(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Mh(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,s){return gp(n)||s.isEqual(Pe.min())?X.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?X.resolve(null):(bo()<=Ve.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gi(n)),this.rs(e,o,n,TP(s,-1)).next(a=>a))})}ts(e,n){let r=new Yt(Nv(e));return n.forEach((s,i)=>{Bc(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return bo()<=Ve.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",gi(n)),this.Ji.getDocumentsMatchingQuery(e,n,Es.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new pt(qe),this._s=new ro(i=>hd(i),fd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function JR(t,e,n,r){return new QR(t,e,n,r)}async function Zv(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=xe();for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function XR(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const f=u.batch,m=f.keys();let g=X.resolve();return m.forEach(E=>{g=g.next(()=>h.getEntry(l,E)).next(w=>{const R=u.docVersions.get(E);Xe(R!==null),w.version.compareTo(R)<0&&(f.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=xe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function e1(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function ZR(t,e){const n=Re(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Xt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(w,R,L){return w.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(m,g,h)&&a.push(n.Ur.updateTargetData(i,g))});let l=Br(),u=xe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(ek(i,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(Pe.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return X.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.os=s,i))}function ek(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Br();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):me("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function tk(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nk(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,X.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new fs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function $h(t,e,n){const r=Re(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!xa(o))throw o;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Cp(t,e,n){const r=Re(t);let s=Pe.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const f=Re(l),m=f._s.get(h);return m!==void 0?X.resolve(f.os.get(m)):f.Ur.getTargetData(u,h)}(r,o,sr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Pe.min(),n?i:xe())).next(a=>(rk(r,GP(e),a),{documents:a,Ts:i})))}function rk(t,e,n){let r=t.us.get(e)||Pe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Sp{constructor(){this.activeTargetIds=ZP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sk{constructor(){this.so=new Sp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Sp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l=null;function Gu(){return _l===null?_l=function(){return 268435456+Math.round(2147483648*Math.random())}():_l++,"0x"+_l.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class lk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Gu(),l=this.xo(n,r.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,o),this.No(n,l,u,s).then(h=>(me("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw $i("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=ok[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Gu();return new Promise((o,a)=>{const l=new gv;l.setWithCredentials(!0),l.listenOnce(pv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pl.NO_ERROR:const h=l.getResponseJson();me(nn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Pl.TIMEOUT:me(nn,`RPC '${e}' ${i} timed out`),a(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:const f=l.getStatus();if(me(nn,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const E=function(R){const L=R.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(L)>=0?L:J.UNKNOWN}(g.status);a(new ge(E,g.message))}else a(new ge(J.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ge(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{me(nn,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);me(nn,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const s=Gu(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vv(),a=yv(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");me(nn,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let m=!1,g=!1;const E=new ak({Io:R=>{g?me(nn,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(m||(me(nn,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),me(nn,`RPC '${e}' stream ${s} sending:`,R),f.send(R))},To:()=>f.close()}),w=(R,L,S)=>{R.listen(L,T=>{try{S(T)}catch(A){setTimeout(()=>{throw A},0)}})};return w(f,ko.EventType.OPEN,()=>{g||(me(nn,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),w(f,ko.EventType.CLOSE,()=>{g||(g=!0,me(nn,`RPC '${e}' stream ${s} transport closed`),E.So())}),w(f,ko.EventType.ERROR,R=>{g||(g=!0,$i(nn,`RPC '${e}' stream ${s} transport errored:`,R),E.So(new ge(J.UNAVAILABLE,"The operation could not be completed")))}),w(f,ko.EventType.MESSAGE,R=>{var L;if(!g){const S=R.data[0];Xe(!!S);const T=S,A=T.error||((L=T[0])===null||L===void 0?void 0:L.error);if(A){me(nn,`RPC '${e}' stream ${s} received error:`,A);const U=A.status;let F=function(v){const N=Tt[v];if(N!==void 0)return Hv(N)}(U),y=A.message;F===void 0&&(F=J.INTERNAL,y="Unknown error status: "+U+" with message "+A.message),g=!0,E.So(new ge(F,y)),f.close()}else me(nn,`RPC '${e}' stream ${s} received:`,S),E.bo(S)}}),w(a,_v.STAT_EVENT,R=>{R.stat===kh.PROXY?me(nn,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===kh.NOPROXY&&me(nn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function zu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){return new yR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new t1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?($r(n.toString()),$r("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ge(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ck extends n1{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=wR(this.serializer,e),r=function(i){if(!("targetChange"in i))return Pe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Pe.min():o.readTime?ir(o.readTime):Pe.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Uh(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Lh(l)?{documents:bR(i,l)}:{query:AR(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Kv(i,o.resumeToken);const u=xh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Pe.min())>0){a.readTime=nc(i,o.snapshotVersion.toTimestamp());const u=xh(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=SR(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Uh(this.serializer),n.removeTarget=e,this.a_(n)}}class uk extends n1{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=TR(e.writeResults,e.commitTime),r=ir(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Uh(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>IR(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Vh(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ge(J.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Vh(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ge(J.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class fk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($r(n),this.D_=!1):me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ii(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Re(l);u.L_.add(4),await Ua(u),u.q_.set("Unknown"),u.L_.delete(4),await Kc(u)}(this))})}),this.q_=new fk(r,s)}}async function Kc(t){if(ii(t))for(const e of t.B_)await e(!0)}async function Ua(t){for(const e of t.B_)await e(!1)}function r1(t,e){const n=Re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),bd(n)?Td(n):so(n).r_()&&Id(n,e))}function wd(t,e){const n=Re(t),r=so(n);n.N_.delete(e),r.r_()&&s1(n,e),n.N_.size===0&&(r.r_()?r.o_():ii(n)&&n.q_.set("Unknown"))}function Id(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(t).A_(e)}function s1(t,e){t.Q_.xe(e),so(t).R_(e)}function Td(t){t.Q_=new mR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),so(t).start(),t.q_.v_()}function bd(t){return ii(t)&&!so(t).n_()&&t.N_.size>0}function ii(t){return Re(t).L_.size===0}function i1(t){t.Q_=void 0}async function mk(t){t.q_.set("Online")}async function gk(t){t.N_.forEach((e,n)=>{Id(t,e)})}async function pk(t,e){i1(t),bd(t)?(t.q_.M_(e),Td(t)):t.q_.set("Unknown")}async function _k(t,e,n){if(t.q_.set("Online"),e instanceof qv&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rc(t,r)}else if(e instanceof Dl?t.Q_.Ke(e):e instanceof Wv?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Pe.min()))try{const r=await e1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(u);h&&i.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(Xt.EMPTY_BYTE_STRING,h.snapshotVersion)),s1(i,l);const f=new fs(h.target,l,u,h.sequenceNumber);Id(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await rc(t,r)}}async function rc(t,e,n){if(!xa(e))throw e;t.L_.add(1),await Ua(t),t.q_.set("Offline"),n||(n=()=>e1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Kc(t)})}function o1(t,e){return e().catch(n=>rc(t,n,e))}async function Gc(t){const e=Re(t),n=Is(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;yk(e);)try{const s=await tk(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,vk(e,s)}catch(s){await rc(e,s)}a1(e)&&l1(e)}function yk(t){return ii(t)&&t.O_.length<10}function vk(t,e){t.O_.push(e);const n=Is(t);n.r_()&&n.V_&&n.m_(e.mutations)}function a1(t){return ii(t)&&!Is(t).n_()&&t.O_.length>0}function l1(t){Is(t).start()}async function Ek(t){Is(t).p_()}async function wk(t){const e=Is(t);for(const n of t.O_)e.m_(n.mutations)}async function Ik(t,e,n){const r=t.O_.shift(),s=gd.from(r,e,n);await o1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gc(t)}async function Tk(t,e){e&&Is(t).V_&&await async function(r,s){if(function(o){return hR(o)&&o!==J.ABORTED}(s.code)){const i=r.O_.shift();Is(r).s_(),await o1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gc(r)}}(t,e),a1(t)&&l1(t)}async function Rp(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=ii(n);n.L_.add(3),await Ua(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Kc(n)}async function bk(t,e){const n=Re(t);e?(n.L_.delete(2),await Kc(n)):e||(n.L_.add(2),await Ua(n),n.q_.set("Unknown"))}function so(t){return t.K_||(t.K_=function(n,r,s){const i=Re(n);return i.w_(),new ck(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:mk.bind(null,t),Ro:gk.bind(null,t),mo:pk.bind(null,t),d_:_k.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),bd(t)?Td(t):t.q_.set("Unknown")):(await t.K_.stop(),i1(t))})),t.K_}function Is(t){return t.U_||(t.U_=function(n,r,s){const i=Re(n);return i.w_(),new uk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Ek.bind(null,t),mo:Tk.bind(null,t),f_:wk.bind(null,t),g_:Ik.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gc(t)):(await t.U_.stop(),t.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ad(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cd(t,e){if($r("AsyncQueue",`${e}: ${t}`),xa(t))return new ge(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Do(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new Ri(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ri)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ri;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.W_=new pt(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class qi{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qi(e,n,Ri.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Ck{constructor(){this.queries=Dp(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Re(n),i=s.queries;s.queries=Dp(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ge(J.ABORTED,"Firestore shutting down"))}}function Dp(){return new ro(t=>Dv(t),$c)}async function Sd(t,e){const n=Re(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new Ak,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Cd(o,`Initialization of query '${gi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&Rd(n)}async function Pd(t,e){const n=Re(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Sk(t,e){const n=Re(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&Rd(n)}function Pk(t,e,n){const r=Re(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function Rd(t){t.Y_.forEach(e=>{e.next()})}var Bh,Np;(Np=Bh||(Bh={})).ea="default",Np.Cache="cache";class kd{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new qi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=qi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Bh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.key=e}}class u1{constructor(e){this.key=e}}class Rk{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=Nv(e),this.Ra=new Ri(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new kp,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),g=Bc(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let R=!1;m&&g?m.data.isEqual(g.data)?E!==w&&(r.track({type:3,doc:g}),R=!0):this.ga(m,g)||(r.track({type:2,doc:g}),R=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),R=!0):m&&!g&&(r.track({type:1,doc:m}),R=!0,(l||u)&&(a=!0)),R&&(g?(o=o.add(g),i=w?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(g,E){const w=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return w(g)-w(E)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new qi(this.query,e.Ra,i,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new kp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new u1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new c1(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return qi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Dk{constructor(e){this.key=e,this.va=!1}}class Nk{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ro(a=>Dv(a),$c),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(ye.comparator),this.Na=new Map,this.La=new yd,this.Ba={},this.ka=new Map,this.qa=Wi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Ok(t,e,n=!0){const r=p1(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await h1(r,e,n,!0),s}async function Lk(t,e){const n=p1(t);await h1(n,e,!0,!1)}async function h1(t,e,n,r){const s=await nk(t.localStore,sr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Mk(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&r1(t.remoteStore,s),a}async function Mk(t,e,n,r,s){t.Ka=(f,m,g)=>async function(w,R,L,S){let T=R.view.ma(L);T.ns&&(T=await Cp(w.localStore,R.query,!1).then(({documents:y})=>R.view.ma(y,T)));const A=S&&S.targetChanges.get(R.targetId),U=S&&S.targetMismatches.get(R.targetId)!=null,F=R.view.applyChanges(T,w.isPrimaryClient,A,U);return Lp(w,R.targetId,F.wa),F.snapshot}(t,f,m,g);const i=await Cp(t.localStore,e,!0),o=new Rk(e,i.Ts),a=o.ma(i.documents),l=Fa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);Lp(t,n,u.wa);const h=new kk(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function xk(t,e,n){const r=Re(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!$c(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await $h(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wd(r.remoteStore,s.targetId),jh(r,s.targetId)}).catch(Ma)):(jh(r,s.targetId),await $h(r.localStore,s.targetId,!0))}async function Vk(t,e){const n=Re(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wd(n.remoteStore,r.targetId))}async function Fk(t,e,n){const r=qk(t);try{const s=await function(o,a){const l=Re(o),u=Pt.now(),h=a.reduce((g,E)=>g.add(E.key),xe());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let E=Br(),w=xe();return l.cs.getEntries(g,h).next(R=>{E=R,E.forEach((L,S)=>{S.isValidDocument()||(w=w.add(L))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,E)).next(R=>{f=R;const L=[];for(const S of a){const T=oR(S,f.get(S.key).overlayedDocument);T!=null&&L.push(new Ps(S.key,T,bv(T.value.mapValue),qn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,L,a)}).next(R=>{m=R;const L=R.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(g,R.batchId,L)})}).then(()=>({batchId:m.batchId,changes:Lv(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new pt(qe)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,s.batchId,n),await $a(r,s.changes),await Gc(r.remoteStore)}catch(s){const i=Cd(s,"Failed to persist write");n.reject(i)}}async function f1(t,e){const n=Re(t);try{const r=await ZR(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Xe(o.va):s.removedDocuments.size>0&&(Xe(o.va),o.va=!1))}),await $a(n,r,e)}catch(r){await Ma(r)}}function Op(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Re(o);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(const m of f.j_)m.Z_(a)&&(u=!0)}),u&&Rd(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Uk(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new pt(ye.comparator);o=o.insert(i,an.newNoDocument(i,Pe.min()));const a=xe().add(i),l=new Wc(Pe.min(),new Map,new pt(qe),o,a);await f1(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),Dd(r)}else await $h(r.localStore,e,!1).then(()=>jh(r,e,n)).catch(Ma)}async function $k(t,e){const n=Re(t),r=e.batch.batchId;try{const s=await XR(n.localStore,e);m1(n,r,null),d1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $a(n,s)}catch(s){await Ma(s)}}async function Bk(t,e,n){const r=Re(t);try{const s=await function(o,a){const l=Re(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Xe(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);m1(r,e,n),d1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $a(r,s)}catch(s){await Ma(s)}}function d1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function m1(t,e,n){const r=Re(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function jh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||g1(t,r)})}function g1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(wd(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Dd(t))}function Lp(t,e,n){for(const r of n)r instanceof c1?(t.La.addReference(r.key,e),jk(t,r)):r instanceof u1?(me("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||g1(t,r.key)):Te()}function jk(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(me("SyncEngine","New document in limbo: "+n),t.xa.add(r),Dd(t))}function Dd(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(ht.fromString(e)),r=t.qa.next();t.Na.set(r,new Dk(n)),t.Oa=t.Oa.insert(n,r),r1(t.remoteStore,new fs(sr(Uc(n.path)),r,"TargetPurposeLimboResolution",ad.oe))}}async function $a(t,e,n){const r=Re(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Ed.Wi(l.targetId,u);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,u){const h=Re(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>X.forEach(u,m=>X.forEach(m.$i,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>X.forEach(m.Ui,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!xa(f))throw f;me("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const g=h.os.get(m),E=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(m,w)}}}(r.localStore,i))}async function Hk(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await Zv(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new ge(J.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $a(n,r.hs)}}function Wk(t,e){const n=Re(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let s=xe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function p1(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=f1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Uk.bind(null,e),e.Ca.d_=Sk.bind(null,e.eventManager),e.Ca.$a=Pk.bind(null,e.eventManager),e}function qk(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$k.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bk.bind(null,e),e}class sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return JR(this.persistence,new YR,e.initialUser,this.serializer)}Ga(e){return new KR(vd.Zr,this.serializer)}Wa(e){return new sk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sc.provider={build:()=>new sc};class Hh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Op(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hk.bind(null,this.syncEngine),await bk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ck}()}createDatastore(e){const n=qc(e.databaseInfo.databaseId),r=function(i){return new lk(i)}(e.databaseInfo);return function(i,o,a,l){return new hk(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new dk(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Op(this.syncEngine,n,0),function(){return Pp.D()?new Pp:new ik}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,h){const f=new Nk(s,i,o,a,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Re(s);me("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Ua(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hh.provider={build:()=>new Hh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$r("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=sn.UNAUTHENTICATED,this.clientId=wv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{me("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(me("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Cd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yu(t,e){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Zv(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Mp(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Gk(t);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Rp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Rp(e.remoteStore,s)),t._onlineComponents=e}async function Gk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===J.FAILED_PRECONDITION||s.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;$i("Error using user provided cache. Falling back to memory cache: "+n),await Yu(t,new sc)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await Yu(t,new sc);return t._offlineComponents}async function _1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await Mp(t,t._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await Mp(t,new Hh))),t._onlineComponents}function zk(t){return _1(t).then(e=>e.syncEngine)}async function ic(t){const e=await _1(t),n=e.eventManager;return n.onListen=Ok.bind(null,e.syncEngine),n.onUnlisten=xk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Lk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Vk.bind(null,e.syncEngine),n}function Yk(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new Nd({next:m=>{h.Za(),o.enqueueAndForget(()=>Pd(i,f));const g=m.docs.has(a);!g&&m.fromCache?u.reject(new ge(J.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?u.reject(new ge(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new kd(Uc(a.path),h,{includeMetadataChanges:!0,_a:!0});return Sd(i,f)}(await ic(t),t.asyncQueue,e,n,r)),r.promise}function Qk(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const h=new Nd({next:m=>{h.Za(),o.enqueueAndForget(()=>Pd(i,f)),m.fromCache&&l.source==="server"?u.reject(new ge(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new kd(a,h,{includeMetadataChanges:!0,_a:!0});return Sd(i,f)}(await ic(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(t,e,n){if(!n)throw new ge(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Jk(t,e,n,r){if(e===!0&&r===!0)throw new ge(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vp(t){if(!ye.isDocumentKey(t))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fp(t){if(ye.isDocumentKey(t))throw new ge(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Od(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Te()}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Od(t);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Up({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Up(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new mP;switch(r.type){case"firstParty":return new yP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xp.get(n);r&&(me("ComponentProvider","Removing Datastore"),xp.delete(n),r.terminate())}(this),Promise.resolve()}}function Xk(t,e,n,r={}){var s;const i=(t=Rn(t,zc))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&$i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=sn.MOCK_USER;else{a=WC(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new sn(u)}t._authCredentials=new gP(new Ev(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ba(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class ys extends Ba{constructor(e,n,r){super(e,n,Uc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new ye(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function E1(t,e,...n){if(t=Jt(t),v1("collection","path",e),t instanceof zc){const r=ht.fromString(e,...n);return Fp(r),new ys(t,null,r)}{if(!(t instanceof _n||t instanceof ys))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return Fp(r),new ys(t.firestore,null,r)}}function Ot(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=wv.newId()),v1("doc","path",e),t instanceof zc){const r=ht.fromString(e,...n);return Vp(r),new _n(t,null,new ye(r))}{if(!(t instanceof _n||t instanceof ys))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ht.fromString(e,...n));return Vp(r),new _n(t.firestore,t instanceof ys?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new t1(this,"async_queue_retry"),this.Vu=()=>{const r=zu();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=zu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=zu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Mr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xa(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $r("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Ad.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Bp(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ts extends zc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $p,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $p(e),this._firestoreClient=void 0,await e}}}function Zk(t,e){const n=typeof t=="object"?t:hv(),r=typeof t=="string"?t:"(default)",s=id(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=jC("firestore");i&&Xk(s,...i)}return s}function Yc(t){if(t._terminated)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||e2(t),t._firestoreClient}function e2(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,h){return new DP(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,y1(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new Kk(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ki(Xt.fromBase64String(e))}catch(n){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ki(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=/^__.*__$/;class n2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Va(e,this.data,n,this.fieldTransforms)}}class w1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function I1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Vd{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return oc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(I1(this.Cu)&&t2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class r2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qc(e)}Qu(e,n,r,s=!1){return new Vd({Cu:e,methodName:n,qu:r,path:Gt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T1(t){const e=t._freezeSettings(),n=qc(t._databaseId);return new r2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function s2(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Fd("Data must be an object, but it was:",o,r);const a=b1(r,o);let l,u;if(i.merge)l=new Pn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Wh(e,f,n);if(!o.contains(m))throw new ge(J.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);C1(h,m)||h.push(m)}l=new Pn(h),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new n2(new In(a),l,u)}class Jc extends Ld{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jc}}function i2(t,e,n,r){const s=t.Qu(1,e,n);Fd("Data must be an object, but it was:",s,r);const i=[],o=In.empty();si(r,(l,u)=>{const h=Ud(e,l,n);u=Jt(u);const f=s.Nu(h);if(u instanceof Jc)i.push(h);else{const m=Xc(u,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new Pn(i);return new w1(o,a,s.fieldTransforms)}function o2(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[Wh(e,r,n)],l=[s];if(i.length%2!=0)throw new ge(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Wh(e,i[m])),l.push(i[m+1]);const u=[],h=In.empty();for(let m=a.length-1;m>=0;--m)if(!C1(u,a[m])){const g=a[m];let E=l[m];E=Jt(E);const w=o.Nu(g);if(E instanceof Jc)u.push(g);else{const R=Xc(E,w);R!=null&&(u.push(g),h.set(g,R))}}const f=new Pn(u);return new w1(h,f,o.fieldTransforms)}function Xc(t,e){if(A1(t=Jt(t)))return Fd("Unsupported field value:",e,t),b1(t,e);if(t instanceof Ld)return function(r,s){if(!I1(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Xc(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return eR(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Pt.fromDate(r);return{timestampValue:nc(s.serializer,i)}}if(r instanceof Pt){const i=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nc(s.serializer,i)}}if(r instanceof Md)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ki)return{bytesValue:Kv(s.serializer,r._byteString)};if(r instanceof _n){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_d(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xd)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return dd(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Od(r)}`)}(t,e)}function b1(t,e){const n={};return Iv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(t,(r,s)=>{const i=Xc(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function A1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof Md||t instanceof Ki||t instanceof _n||t instanceof Ld||t instanceof xd)}function Fd(t,e,n){if(!A1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Od(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Wh(t,e,n){if((e=Jt(e))instanceof Qc)return e._internalPath;if(typeof e=="string")return Ud(t,e);throw oc("Field path arguments must be of type string or ",t,!1,void 0,n)}const a2=new RegExp("[~\\*/\\[\\]]");function Ud(t,e,n){if(e.search(a2)>=0)throw oc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qc(...e.split("."))._internalPath}catch{throw oc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function oc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ge(J.INVALID_ARGUMENT,a+t+l)}function C1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(P1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l2 extends S1{data(){return super.data()}}function P1(t,e){return typeof e=="string"?Ud(t,e):e instanceof Qc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class c2{convertValue(e,n="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return si(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>vt(o.doubleValue));return new xd(i)}convertGeoPoint(e){return new Md(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ma(e));default:return null}}convertTimestamp(e){const n=ws(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ht.fromString(e);Xe(Xv(r));const s=new ga(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(n)||$r(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class k1 extends S1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(P1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nl extends k1{data(e={}){return super.data(e)}}class D1{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Oo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nl(this._firestore,this._userDataWriter,r.key,r,new Oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Nl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Oo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Nl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Oo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:h2(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function h2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){t=Rn(t,_n);const e=Rn(t.firestore,Ts);return Yk(Yc(e),t._key).then(n=>N1(e,t,n))}class $d extends c2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function f2(t){t=Rn(t,Ba);const e=Rn(t.firestore,Ts),n=Yc(e),r=new $d(e);return R1(t._query),Qk(n,t._query).then(s=>new D1(e,r,t,s))}function is(t,e,n){t=Rn(t,_n);const r=Rn(t.firestore,Ts),s=u2(t.converter,e);return Bd(r,[s2(T1(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,qn.none())])}function jp(t,e,n,...r){t=Rn(t,_n);const s=Rn(t.firestore,Ts),i=T1(s);let o;return o=typeof(e=Jt(e))=="string"||e instanceof Qc?o2(i,"updateDoc",t._key,e,n,r):i2(i,"updateDoc",t._key,e),Bd(s,[o.toMutation(t._key,qn.exists(!0))])}function ac(t){return Bd(Rn(t.firestore,Ts),[new md(t._key,qn.none())])}function Hp(t,...e){var n,r,s;t=Jt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Bp(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Bp(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,u,h;if(t instanceof _n)u=Rn(t.firestore,Ts),h=Uc(t._key.path),l={next:f=>{e[o]&&e[o](N1(u,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Rn(t,Ba);u=Rn(f.firestore,Ts),h=f._query;const m=new $d(u);l={next:g=>{e[o]&&e[o](new D1(u,m,f,g))},error:e[o+1],complete:e[o+2]},R1(t._query)}return function(m,g,E,w){const R=new Nd(w),L=new kd(g,R,E);return m.asyncQueue.enqueueAndForget(async()=>Sd(await ic(m),L)),()=>{R.Za(),m.asyncQueue.enqueueAndForget(async()=>Pd(await ic(m),L))}}(Yc(u),h,a,l)}function Bd(t,e){return function(r,s){const i=new Mr;return r.asyncQueue.enqueueAndForget(async()=>Fk(await zk(r),s,i)),i.promise}(Yc(t),e)}function N1(t,e,n){const r=n.docs.get(e._key),s=new $d(t);return new k1(t,s,e._key,r,new Oo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){no=s})(to),Ui(new Xs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ts(new pP(r.getProvider("auth-internal")),new EP(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ga(u.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),_s(ip,"4.7.3",e),_s(ip,"4.7.3","esm2017")})();class d2{constructor(){fe(this,"sortedEvents",Mt([]));fe(this,"combinedActs",Mt([]));fe(this,"actByUid",nt(new Map));fe(this,"actByUidNonRef",new Map);fe(this,"bands",Mt([]));fe(this,"events",Mt([]));fe(this,"stages",nt([]));fe(this,"days",nt([]));fe(this,"festival",nt(void 0));fe(this,"eventsByDayUid",nt(new Map));fe(this,"eventsByStageUid",nt(new Map));fe(this,"eventByUid",nt(new Map));fe(this,"eventByUidNonRef",new Map);fe(this,"spaceMemberById",Mt(new Map))}}class O1{constructor(e){fe(this,"uid");fe(this,"suggestorIds",Mt([]));fe(this,"likerIds",Mt([]));fe(this,"_cardTitle","");this.uid=e}cardThumbnailUrl(){return"https://www.wacken.com/fileadmin/_processed_/5/f/csm_woa_25_bandposter_announcement_240803_fb-page-header_e4c70e6c02.jpg"}cardTitle(){return"unknown"}cardDescription(){return"unknown"}isConcert(){return!1}performance(){return""}}class Js extends O1{constructor(n){super(`y${n.festival.uid}-event-${n.uid}`);fe(this,"data");fe(this,"start");fe(this,"end");fe(this,"columnSpan",1);this.data=n,this.start=parseInt(this.data.start),this.end=parseInt(this.data.end)}cardThumbnailUrl(){for(let n of this.data.artists)for(let r of n.assets)if(r.thumbnail!=null)return`https://wacken.com${r.thumbnail}`;return"https://www.metal-hammer.de/wp-content/uploads/2024/02/10/10/wacken-2024-725x1024.jpg"}cardTitle(){let n=()=>this.data.artists.map(s=>s.title).join(", ")+(this.data.title==null?" ":` ${this.data.title}`);return this._cardTitle=n(),this._cardTitle}cardDescription(){try{return this.data.artists[0].assets[0].biography}catch{}return""}isConcert(){return this.data.performance.title=="Concert"}performance(){return this.data.performance.title}}class L1 extends O1{constructor(n){super(`y${n.festival.uid}-band-${n.uid}`);fe(this,"data");this.data=n}cardThumbnailUrl(){return`https://wacken.com${this.data.thumbnail}`}cardTitle(){return this._cardTitle=this.data.artist.title,this.data.artist.title}cardDescription(){return this.data.biography}isConcert(){return!0}performance(){return this.data.performance[0].title}}class M1{constructor(e,n,r,s){fe(this,"ctx");fe(this,"space");fe(this,"id");fe(this,"name","");fe(this,"color","");fe(this,"suggestions",[]);fe(this,"likes",[]);fe(this,"leftSwipeIds",[]);fe(this,"webPushSubscription","");fe(this,"_data");fe(this,"offline",!1);this.ctx=e,this.space=n,this.id=r,this.parseData(s)}isOwner(){return this.id==this.space.id}isLiked(e){return this.likes.includes(e)}isSuggested(e){return this.suggestions.includes(e)}toggleLike(e){var n;if(this.offline){console.error("cannot execute request: member is cached");return}this.isLiked(e)?(this.likes=this.likes.filter(r=>r!==e),this.ctx.client.container.actByUidNonRef.get(e).likerIds=this.ctx.client.container.actByUidNonRef.get(e).likerIds.filter(r=>r!==this.id)):(this.likes.push(e),(n=this.ctx.client.container.actByUidNonRef.get(e))==null||n.likerIds.push(this.id)),this.update()}toggleSuggested(e){var n;if(this.offline){console.error("cannot execute request: member is cached");return}this.isSuggested(e)?(this.suggestions=this.suggestions.filter(r=>r!==e),this.ctx.client.container.actByUidNonRef.get(e).suggestorIds=this.ctx.client.container.actByUidNonRef.get(e).suggestorIds.filter(r=>r!==this.id)):(this.suggestions.push(e),(n=this.ctx.client.container.actByUidNonRef.get(e))==null||n.suggestorIds.push(this.id)),this.update()}changeLeftSwipeIds(e){this.leftSwipeIds=e,this.update()}updateWebPushSubscription(e){this.webPushSubscription=e,this.update()}calculateTasteMatch(e){let n=[...new Set([...this.likes,...this.suggestions])],r=[...new Set([...(e==null?void 0:e.likes)||[],...(e==null?void 0:e.suggestions)||[]])],s=n.length>r.length?r:n,i=n.length>r.length?n:r,o=0;for(let a of s)i.includes(a)&&o++;return o/s.length*100}async delete(){if(this.offline){console.error("cannot execute request: member is cached");return}try{(await f2(E1(this.ctx.db,"spaces",this.space.id,"users"))).forEach(n=>{n.data().memberId===this.id&&ac(Ot(this.ctx.db,"spaces",this.space.id,"users",n.id))}),await ac(Ot(this.ctx.db,"spaces",this.space.id,"members",this.id))}catch(e){console.error("error while deleting SpaceMember",e)}}async update(){if(this.offline){console.error("cannot execute request: member is cached");return}try{await is(Ot(this.ctx.db,"spaces",this.space.id,"members",this.id),{name:this.name,color:this.color,suggestions:this.suggestions,likes:this.likes,leftSwipeIds:this.leftSwipeIds,webPushSubscription:this.webPushSubscription})}catch(e){console.error("error while updating SpaceMember",e)}}parseData(e){var n,r,s,i,o;this.name=e.name,this.color=e.color,this.leftSwipeIds=e.leftSwipeIds||[],this.webPushSubscription=e.webPushSubscription||"",((n=this.ctx.client.container.festival.value)==null?void 0:n.uid)===void 0?(this.suggestions=e.suggestions,this.likes=e.likes):(this.suggestions=((s=(r=e.suggestions)==null?void 0:r.filter)==null?void 0:s.call(r,a=>{var l;return(a+"").startsWith(`y${(l=this.ctx.client.container.festival.value)==null?void 0:l.uid}`)}))||e.suggestions,this.likes=((o=(i=e.likes)==null?void 0:i.filter)==null?void 0:o.call(i,a=>{var l;return(a+"").startsWith(`y${(l=this.ctx.client.container.festival.value)==null?void 0:l.uid}`)}))||e.likes,this.suggestions=this.suggestions.flatMap(a=>this._convertBandIdsToEventIdsWhenAvailable(a)),this.likes=this.likes.flatMap(a=>this._convertBandIdsToEventIdsWhenAvailable(a))),this._data=e}_convertBandIdsToEventIdsWhenAvailable(e){var s,i,o;if(!e.startsWith(`y${(s=this.ctx.client.container.festival.value)==null?void 0:s.uid}-band`))return[e];let n=(i=this.ctx.client.container.actByUidNonRef.get(e))==null?void 0:i.data;if(n==null||n.artist.events.length==0)return[e];let r=[];for(let a of n.artist.events){let l=`y${(o=this.ctx.client.container.festival.value)==null?void 0:o.uid}-event-${a.uid}`,u=this.ctx.client.container.actByUidNonRef.get(l);if((u==null?void 0:u.uid)==null)return[e];r.push(u.uid)}return r}}class x1{constructor(e,n){fe(this,"ctx");fe(this,"space");if(this.ctx=e,n instanceof Jo)this.space=n;else if(typeof n=="string"){let r=JSON.parse(n);this.space=new Jo(e,r.id,()=>{},!0),this.space.name=r.name,this.space.authKey=r.authKey,this.space.self.value=this.createMember(r.self),this.space.selfMemberId=r.selfMemberId;for(let s of r.members)this.space.members.push(this.createMember(s));this.space.publishMembersToContainer(),this.space.loaded.value=!0,this.space.cached.value=!0}else throw"INVALID_DATA_VALUE"}serialize(){return JSON.stringify({id:this.space.id,name:this.space.name,authKey:this.space.authKey,self:this.serializeMember(this.space.self.value),selfMemberId:this.space.selfMemberId,members:this.space.members.map(e=>this.serializeMember(e))})}createMember(e){if(e==null)return;let n=new M1(this.ctx,this.space,e.id,e);return n.offline=!0,n}serializeMember(e){if(e!=null)return{id:e.id,...e._data}}}class Jo{constructor(e,n,r,s=!1){fe(this,"ctx");fe(this,"id");fe(this,"name","");fe(this,"authKey","");fe(this,"onLeave");fe(this,"selfMemberId");fe(this,"self",nt());fe(this,"members",Mt([]));fe(this,"loaded",nt(!1));fe(this,"cached",nt(!1));fe(this,"_selfCache");this.ctx=e,this.id=n,this.onLeave=r,s||this.init(),this._selfCache=new x1(this.ctx,this)}generateInvite(e){var r,s;const n=new URLSearchParams({space:this.id,key:this.authKey,name:this.name,host:((r=this.self.value)==null?void 0:r.name)||((s=this.ctx.auth.currentUser)==null?void 0:s.displayName)||""});return{title:e("brand.name"),text:e("brand.share.invite"),url:`${window.location.origin}/join?${n.toString()}`}}async updateName(e){if(this.cached.value){console.error("cannot execute request: space is cached");return}try{await jp(Ot(this.ctx.db,"spaces",this.id),{name:e})}catch(n){console.error("error while updating space name",n)}}async resetInvite(){if(this.cached.value){console.error("cannot execute request: space is cached");return}try{await jp(Ot(this.ctx.db,"spaces",this.id),{authKey:window.crypto.randomUUID()})}catch(e){console.error("error while resetting invite key",e)}}async setMemberId(e,n){await is(Ot(this.ctx.db,"spaces",this.id,"users",e),{memberId:n}),this.selfMemberId=n,this.findSelf()}async createMember(e,n){let r=window.crypto.randomUUID();return await is(Ot(this.ctx.db,"spaces",this.id,"members",r),{name:e,color:n,likes:[],suggestions:[]}),r}async init(){try{let n=(await qh(Ot(this.ctx.db,"spaces",this.id))).data();if(n==null)throw"DATA_UNDEFINED_ERROR";this.parseData(n),this.listenMembers();let s=(await qh(Ot(this.ctx.db,"spaces",this.id,"users",this.ctx.currentUser.value.uid))).data();s!=null&&(this.selfMemberId=s.memberId,this.findSelf()),Hp(Ot(this.ctx.db,"spaces",this.id),i=>{i.data()!==void 0&&this.parseData(i.data())}),this.authKey.length<3&&this.resetInvite()}catch(e){e.code==="permission-denied"&&(this.onLeave(),console.error("leaving space due to permission-denied error")),console.error("could not fetch space info",e)}console.dir(this)}findSelf(){if(this.selfMemberId!=null)try{this.self.value=this.members.find(e=>e.id==this.selfMemberId),console.info("self",this.self.value)}catch(e){console.error(e)}}async listenMembers(){let e=E1(this.ctx.db,"spaces",this.id,"members");Hp(e,n=>{console.info("users collection updated",n.size),this.members=[],n.forEach(r=>{this.members.push(new M1(this.ctx,this,r.id,r.data()))}),this.findSelf(),this.members=this.members.filter(r=>r.name!=null&&r.color!=null&&r.likes!=null&&r.suggestions!=null),this.publishMembersToContainer(),this.loaded.value=!0,this.updateCache()})}publishMembersToContainer(){this.members.forEach(e=>{this.ctx.client.container.spaceMemberById.set(e.id,e)});for(let e of this.ctx.client.container.combinedActs)e.suggestorIds=this.members.filter(n=>n.suggestions.includes(e.uid)).map(n=>n.id),e.likerIds=this.members.filter(n=>n.likes.includes(e.uid)).map(n=>n.id)}parseData(e){this.name=e.name,this.authKey=e.authKey,this.updateCache()}updateCache(){localStorage.setItem("cachedSpace",this._selfCache.serialize())}}class m2{constructor(e){fe(this,"ctx");fe(this,"container",new d2);fe(this,"hasSpace",nt(!1));fe(this,"space");fe(this,"offline",nt(!1));this.ctx=e,this.ctx.client=this,setTimeout(()=>{this.ctx.showOfflineButton.value=!0},1500),this.ctx.auth.onAuthStateChanged(async n=>{if(n!=null)try{let r=await this.getUserData();if(this.offline.value==!0)return;if(this.ctx.showOfflineButton.value=!1,e.dontAutoCreateSpace!==!0&&(r==null||r.spaceId==null)){await this.createSpace();return}if(r==null)return;this.space=Mt(new Jo(e,r.spaceId,()=>{this.leaveSpace()}))}catch(r){console.error("error while trying to fetch userdata",r),this.activateOfflineMode()}}),setInterval(()=>{var r;if(((r=this.space)==null?void 0:r.self)===void 0)return;let n=localStorage.getItem("webPushSubscription");n!=null&&this.space.self.webPushSubscription!=n&&this.space.self.updateWebPushSubscription(n)},15*1e3)}activateOfflineMode(){this.ctx.loaded.value=!0,localStorage.getItem("cachedSpace")!=null&&(this.space=Mt(new x1(this.ctx,localStorage.getItem("cachedSpace")).space)),this.offline.value=!0}async setUserData(e){await is(Ot(this.ctx.db,"users",this.ctx.currentUser.value.uid),{spaceId:e.spaceId})}async getUserData(){let n=(await qh(Ot(this.ctx.db,"users",this.ctx.currentUser.value.uid))).data();if(n!=null)return{spaceId:n.spaceId}}async registerUser(e,n){if(this.ctx.currentUser.value==null)throw"UNDEFINED_USER";await is(Ot(this.ctx.db,"spaces",e,"users",this.ctx.currentUser.value.uid),{authKey:n}),await this.setUserData({spaceId:e}),setTimeout(()=>{this.space=Mt(new Jo(this.ctx,e,()=>{this.leaveSpace()}))},500)}async createSpace(){var e;if(this.ctx.currentUser.value==null)throw"UNDEFINED_USER";console.info("creating new space"),await is(Ot(this.ctx.db,"spaces",this.ctx.currentUser.value.uid),{name:"Our space",authKey:""}),await is(Ot(this.ctx.db,"spaces",this.ctx.currentUser.value.uid,"members",this.ctx.currentUser.value.uid),{name:((e=this.ctx.currentUser.value)==null?void 0:e.displayName)||"Admin",color:"red",likes:[],suggestions:[]}),await this.setUserData({spaceId:this.ctx.currentUser.value.uid}),await is(Ot(this.ctx.db,"spaces",this.ctx.currentUser.value.uid,"users",this.ctx.currentUser.value.uid),{memberId:this.ctx.currentUser.value.uid}),this.space=Mt(new Jo(this.ctx,this.ctx.currentUser.value.uid,()=>{this.leaveSpace()}))}async leaveSpace(){console.info("leaving space, creating new private space ..."),this.space=void 0,await this.createSpace(),window.location.reload()}async deleteAccount(){var e;this.ctx.currentUser.value!=null&&(console.info("deleting account and data ..."),await ac(Ot(this.ctx.db,"spaces",this.ctx.currentUser.value.uid)),await ac(Ot(this.ctx.db,"users",this.ctx.currentUser.value.uid)),await((e=this.ctx.currentUser.value)==null?void 0:e.delete()))}async fetchAll(){await this.fetchBands(),await this.fetchEvents(),this.container.combinedActs.push(...this.container.events);let e=this.container.events.flatMap(n=>n.data.artists.map(r=>r.uid));this.container.combinedActs.push(...this.container.bands.filter(n=>!e.includes(n.data.artist.uid))),this.container.combinedActs.sort((n,r)=>n.cardTitle().localeCompare(r.cardTitle())),this.ctx.authLoaded.value?this.ctx.loaded.value=!0:this.ctx.auth.onAuthStateChanged(n=>{this.ctx.loaded.value=!0})}async fetchEvents(){var s,i,o,a;let e=[],n=[];const r=await Tr(()=>import("./events-complete-Be9mLMhR.js"),[]);this.container.events=Mt([]);for(let l of r.default){if(l.festival.uid!==this.ctx.currentFestivalUid)continue;let u=new Js(l);this.container.events.push(u),this.container.eventByUid.value.set(u.uid,u),this.container.eventByUidNonRef.set(u.uid,u),this.container.actByUid.value.set(u.uid,u),this.container.actByUidNonRef.set(u.uid,u),e.includes(u.data.festivalday.uid)||(this.container.days.value.push(u.data.festivalday),e.push(u.data.festivalday.uid),this.container.eventsByDayUid.value.set(u.data.festivalday.uid,[])),this.container.eventsByStageUid.value.get(u.data.stage.uid)===void 0&&this.container.eventsByStageUid.value.set(u.data.stage.uid,[]),(s=this.container.eventsByStageUid.value.get(u.data.stage.uid))==null||s.push(u),(i=this.container.eventsByDayUid.value.get(u.data.festivalday.uid))==null||i.push(u),n.includes(u.data.stage.uid)||(this.container.stages.value.push(u.data.stage),n.push(u.data.stage.uid));let h=(a=(o=l.artists[0])==null?void 0:o.assets[0])==null?void 0:a.festival;h!=null&&(this.container.festival.value=h)}this.container.stages.value.sort((l,u)=>parseInt(l.sorting)-parseInt(u.sorting)),this.container.sortedEvents.push(...this.container.events.sort((l,u)=>l.cardTitle().localeCompare(u.cardTitle())))}async fetchBands(){const e=await Tr(()=>import("./bands-C_uyxGoK.js"),[]);this.container.events=Mt([]);for(let n of e.default){if(n.festival.uid!==this.ctx.currentFestivalUid)continue;let r=new L1(n);this.container.bands.push(r),this.container.actByUid.value.set(r.uid,r),this.container.actByUidNonRef.set(r.uid,r),this.container.festival.value=n.festival}}}function jd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function V1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const g2=V1,F1=new Oa("auth","Firebase",V1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new rd("@firebase/auth");function p2(t,...e){lc.logLevel<=Ve.WARN&&lc.warn(`Auth (${to}): ${t}`,...e)}function Ol(t,...e){lc.logLevel<=Ve.ERROR&&lc.error(`Auth (${to}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw Wd(t,...e)}function Kn(t,...e){return Wd(t,...e)}function Hd(t,e,n){const r=Object.assign(Object.assign({},g2()),{[e]:n});return new Oa("auth","Firebase",r).create(e,{appName:t.name})}function or(t){return Hd(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vn(t,"argument-error"),Hd(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wd(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return F1.create(t,...e)}function we(t,e,...n){if(!t)throw Wd(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ol(e),new Error(e)}function jr(t,e){t||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function y2(){return Wp()==="http:"||Wp()==="https:"}function Wp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y2()||zC()||"connection"in navigator)?navigator.onLine:!0}function E2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=qC()||YC()}get(){return v2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t,e){jr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new ja(3e4,6e4);function Rs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Gr(t,e,n,r,s={}){return $1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=La(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},i);return GC()||(u.referrerPolicy="no-referrer"),U1.fetch()(B1(t,t.config.apiHost,n,a),u)})}async function $1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},w2),e);try{const s=new b2(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw yl(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw yl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw yl(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Hd(t,h,u);Vn(t,h)}}catch(s){if(s instanceof Kr)throw s;Vn(t,"network-request-failed",{message:String(s)})}}async function Ha(t,e,n,r,s={}){const i=await Gr(t,e,n,r,s);return"mfaPendingCredential"in i&&Vn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function B1(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?qd(t.config,s):`${t.config.apiScheme}://${s}`}function T2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kn(this.auth,"network-request-failed")),I2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Kn(t,e,r);return s.customData._tokenResponse=n,s}function qp(t){return t!==void 0&&t.enterprise!==void 0}class A2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return T2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function C2(t,e){return Gr(t,"GET","/v2/recaptchaConfig",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,e){return Gr(t,"POST","/v1/accounts:delete",e)}async function j1(t,e){return Gr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P2(t,e=!1){const n=Jt(t),r=await n.getIdToken(e),s=Kd(r);we(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Xo(Qu(s.auth_time)),issuedAtTime:Xo(Qu(s.iat)),expirationTime:Xo(Qu(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Qu(t){return Number(t)*1e3}function Kd(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ol("JWT malformed, contained fewer than 3 sections"),null;try{const s=sv(n);return s?JSON.parse(s):(Ol("Failed to decode base64 JWT payload"),null)}catch(s){return Ol("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Kp(t){const e=Kd(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Kr&&R2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Gi(t,j1(n,{idToken:r}));we(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?H1(i.providerUserInfo):[],a=N2(t.providerData,o),l=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Gh(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function D2(t){const e=Jt(t);await cc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N2(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function H1(t){return t.map(e=>{var{providerId:n}=e,r=jd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O2(t,e){const n=await $1(t,{},async()=>{const r=La({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=B1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",U1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function L2(t,e){return Gr(t,"POST","/v2/accounts:revokeToken",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kp(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=Kp(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await O2(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ki;return r&&(we(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(we(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ki,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=jd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new k2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Gi(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P2(this,e)}reload(){return D2(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await Gi(this,S2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,u,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,L=(u=n.createdAt)!==null&&u!==void 0?u:void 0,S=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:T,emailVerified:A,isAnonymous:U,providerData:F,stsTokenManager:y}=n;we(T&&y,e,"internal-error");const _=ki.fromJSON(this.name,y);we(typeof T=="string",e,"internal-error"),Xr(f,e.name),Xr(m,e.name),we(typeof A=="boolean",e,"internal-error"),we(typeof U=="boolean",e,"internal-error"),Xr(g,e.name),Xr(E,e.name),Xr(w,e.name),Xr(R,e.name),Xr(L,e.name),Xr(S,e.name);const v=new Dr({uid:T,auth:e,email:m,emailVerified:A,displayName:f,isAnonymous:U,photoURL:E,phoneNumber:g,tenantId:w,stsTokenManager:_,createdAt:L,lastLoginAt:S});return F&&Array.isArray(F)&&(v.providerData=F.map(N=>Object.assign({},N))),R&&(v._redirectEventId=R),v}static async _fromIdTokenResponse(e,n,r=!1){const s=new ki;s.updateFromServerResponse(n);const i=new Dr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];we(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?H1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ki;a.updateFromIdToken(r);const l=new Dr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Gh(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=new Map;function Nr(t){jr(t instanceof Function,"Expected a class definition");let e=Gp.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gp.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}W1.type="NONE";const zp=W1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(t,e,n){return`firebase:${t}:${e}:${n}`}class Di{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ll(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ll("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Di(Nr(zp),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Nr(zp);const o=Ll(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const f=Dr._fromJSON(e,h);u!==i&&(a=f),i=u;break}}catch{}const l=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Di(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Di(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Q1(e))return"Blackberry";if(J1(e))return"Webos";if(K1(e))return"Safari";if((e.includes("chrome/")||G1(e))&&!e.includes("edge/"))return"Chrome";if(Y1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function q1(t=un()){return/firefox\//i.test(t)}function K1(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function G1(t=un()){return/crios\//i.test(t)}function z1(t=un()){return/iemobile/i.test(t)}function Y1(t=un()){return/android/i.test(t)}function Q1(t=un()){return/blackberry/i.test(t)}function J1(t=un()){return/webos/i.test(t)}function Gd(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function M2(t=un()){var e;return Gd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function x2(){return QC()&&document.documentMode===10}function X1(t=un()){return Gd(t)||Y1(t)||J1(t)||Q1(t)||/windows phone/i.test(t)||z1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t,e=[]){let n;switch(t){case"Browser":n=Yp(un());break;case"Worker":n=`${Yp(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e={}){return Gr(t,"GET","/v2/passwordPolicy",Rs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=6;class $2{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:U2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qp(this),this.idTokenSubscription=new Qp(this),this.beforeStateQueue=new V2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Di.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await j1(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(On(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=E2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(or(this));const n=e?Jt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await F2(this),n=new $2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oa("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await L2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Di.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Z1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&p2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function zr(t){return Jt(t)}class Qp{constructor(e){this.auth=e,this.observer=null,this.addObserver=sS(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j2(t){Zc=t}function eE(t){return Zc.loadJS(t)}function H2(){return Zc.recaptchaEnterpriseScript}function W2(){return Zc.gapiScript}function q2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const K2="recaptcha-enterprise",G2="NO_RECAPTCHA";class z2{constructor(e){this.type=K2,this.auth=zr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{C2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new A2(l);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;qp(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(G2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&qp(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=H2();l.length!==0&&(l+=a),eE(l).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Jp(t,e,n,r=!1){const s=new z2(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function zh(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Jp(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Jp(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t,e){const n=id(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Yl(i,e??{}))return s;Vn(s,"already-initialized")}return n.initialize({options:e})}function Q2(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function J2(t,e,n){const r=zr(t);we(r._canInitEmulator,r,"emulator-config-failed"),we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=tE(e),{host:o,port:a}=X2(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),Z2()}function tE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function X2(t){const e=tE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Xp(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Xp(o)}}}function Xp(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Z2(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function eD(t,e){return Gr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e){return Ha(t,"POST","/v1/accounts:signInWithPassword",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(t,e){return Ha(t,"POST","/v1/accounts:signInWithEmailLink",Rs(t,e))}async function rD(t,e){return Ha(t,"POST","/v1/accounts:signInWithEmailLink",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends zd{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new va(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new va(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zh(e,n,"signInWithPassword",tD);case"emailLink":return nD(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zh(e,r,"signUpPassword",eD);case"emailLink":return rD(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ni(t,e){return Ha(t,"POST","/v1/accounts:signInWithIdp",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="http://localhost";class ni extends zd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ni(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=jd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ni(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ni(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ni(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ni(e,n)}buildRequest(){const e={requestUri:sD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=La(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oD(t){const e=Po(Ro(t)).link,n=e?Po(Ro(e)).deep_link_id:null,r=Po(Ro(t)).deep_link_id;return(r?Po(Ro(r)).link:null)||r||n||e||t}class Yd{constructor(e){var n,r,s,i,o,a;const l=Po(Ro(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=iD((s=l.mode)!==null&&s!==void 0?s:null);we(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=oD(e);try{return new Yd(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.providerId=io.PROVIDER_ID}static credential(e,n){return va._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Yd.parseLink(n);return we(r,"argument-error"),va._fromEmailAndCode(e,r.code,r.tenantId)}}io.PROVIDER_ID="password";io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends Qd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Wa{constructor(){super("facebook.com")}static credential(e){return ni._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Wa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ni._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Wa{constructor(){super("github.com")}static credential(e){return ni._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.GITHUB_SIGN_IN_METHOD="github.com";as.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Wa{constructor(){super("twitter.com")}static credential(e,n){return ni._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ls.credential(n,r)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nE(t,e){return Ha(t,"POST","/v1/accounts:signUp",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Dr._fromIdTokenResponse(e,r,s),o=Zp(r);return new Hr({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Zp(r);return new Hr({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Zp(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(t){var e;if(On(t.app))return Promise.reject(or(t));const n=zr(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Hr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await nE(n,{returnSecureToken:!0}),s=await Hr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends Kr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,uc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new uc(e,n,r,s)}}function rE(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?uc._fromErrorAndOperation(t,i,e,r):i})}async function lD(t,e,n=!1){const r=await Gi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Hr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e,n=!1){const{auth:r}=t;if(On(r.app))return Promise.reject(or(r));const s="reauthenticate";try{const i=await Gi(t,rE(r,s,e,t),n);we(i.idToken,r,"internal-error");const o=Kd(i.idToken);we(o,r,"internal-error");const{sub:a}=o;return we(t.uid===a,r,"user-mismatch"),Hr._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sE(t,e,n=!1){if(On(t.app))return Promise.reject(or(t));const r="signIn",s=await rE(t,r,e),i=await Hr._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function uD(t,e){return sE(zr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iE(t){const e=zr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F3(t,e,n){if(On(t.app))return Promise.reject(or(t));const r=zr(t),o=await zh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nE).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&iE(t),l}),a=await Hr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function U3(t,e,n){return On(t.app)?Promise.reject(or(t)):uD(Jt(t),io.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iE(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e){return Gr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Jt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Gi(r,hD(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function fD(t,e,n,r){return Jt(t).onIdTokenChanged(e,n,r)}function dD(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}const hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hc,"1"),this.storage.removeItem(hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=1e3,gD=10;class aE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=X1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);x2()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,gD):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aE.type="LOCAL";const pD=aE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lE.type="SESSION";const cE=lE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new eu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),l=await _D(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const u=Jd("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(){return window}function vD(t){ar().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}async function ED(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wD(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ID(){return uE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="firebaseLocalStorageDb",TD=1,fc="firebaseLocalStorage",fE="fbase_key";class qa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tu(t,e){return t.transaction([fc],e?"readwrite":"readonly").objectStore(fc)}function bD(){const t=indexedDB.deleteDatabase(hE);return new qa(t).toPromise()}function Yh(){const t=indexedDB.open(hE,TD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fc,{keyPath:fE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fc)?e(r):(r.close(),await bD(),e(await Yh()))})})}async function e_(t,e,n){const r=tu(t,!0).put({[fE]:e,value:n});return new qa(r).toPromise()}async function AD(t,e){const n=tu(t,!1).get(e),r=await new qa(n).toPromise();return r===void 0?null:r.value}function t_(t,e){const n=tu(t,!0).delete(e);return new qa(n).toPromise()}const CD=800,SD=3;class dE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>SD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eu._getInstance(ID()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ED(),!this.activeServiceWorker)return;this.sender=new yD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yh();return await e_(e,hc,"1"),await t_(e,hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>e_(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AD(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=tu(s,!1).getAll();return new qa(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dE.type="LOCAL";const PD=dE;new ja(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t,e){return e?Nr(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd extends zd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ni(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ni(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RD(t){return sE(t.auth,new Xd(t),t.bypassAuthState)}function kD(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),cD(n,new Xd(t),t.bypassAuthState)}async function DD(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),lD(n,new Xd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RD;case"linkViaPopup":case"linkViaRedirect":return DD;case"reauthViaPopup":case"reauthViaRedirect":return kD;default:Vn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new ja(2e3,1e4);async function OD(t,e,n){if(On(t.app))return Promise.reject(Kn(t,"operation-not-supported-in-this-environment"));const r=zr(t);_2(t,e,Qd);const s=mE(r,n);return new Ks(r,"signInViaPopup",e,s).executeNotNull()}class Ks extends gE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){jr(this.filter.length===1,"Popup operations only handle one event");const e=Jd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ND.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="pendingRedirect",Ml=new Map;class MD extends gE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ml.get(this.auth._key());if(!e){try{const r=await xD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ml.set(this.auth._key(),e)}return this.bypassAuthState||Ml.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xD(t,e){const n=UD(e),r=FD(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function VD(t,e){Ml.set(t._key(),e)}function FD(t){return Nr(t._redirectPersistence)}function UD(t){return Ll(LD,t.config.apiKey,t.name)}async function $D(t,e,n=!1){if(On(t.app))return Promise.reject(or(t));const r=zr(t),s=mE(r,e),o=await new MD(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=10*60*1e3;class jD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BD&&this.cachedEventUids.clear(),this.cachedEventUids.has(n_(e))}saveEventToCache(e){this.cachedEventUids.add(n_(e)),this.lastProcessedEventTime=Date.now()}}function n_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e={}){return Gr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KD=/^https?/;async function GD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await WD(t);for(const n of e)try{if(zD(n))return}catch{}Vn(t,"unauthorized-domain")}function zD(t){const e=Kh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KD.test(n))return!1;if(qD.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=new ja(3e4,6e4);function r_(){const t=ar().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function QD(t){return new Promise((e,n)=>{var r,s,i;function o(){r_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r_(),n(Kn(t,"network-request-failed"))},timeout:YD.get()})}if(!((s=(r=ar().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ar().gapi)===null||i===void 0)&&i.load)o();else{const a=q2("iframefcb");return ar()[a]=()=>{gapi.load?o():n(Kn(t,"network-request-failed"))},eE(`${W2()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xl=null,e})}let xl=null;function JD(t){return xl=xl||QD(t),xl}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new ja(5e3,15e3),ZD="__/auth/iframe",eN="emulator/auth/iframe",tN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rN(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qd(e,eN):`https://${t.config.authDomain}/${ZD}`,r={apiKey:e.apiKey,appName:t.name,v:to},s=nN.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${La(r).slice(1)}`}async function sN(t){const e=await JD(t),n=ar().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:rN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tN,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Kn(t,"network-request-failed"),a=ar().setTimeout(()=>{i(o)},XD.get());function l(){ar().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oN=500,aN=600,lN="_blank",cN="http://localhost";class s_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uN(t,e,n,r=oN,s=aN){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},iN),{width:r.toString(),height:s.toString(),top:i,left:o}),u=un().toLowerCase();n&&(a=G1(u)?lN:n),q1(u)&&(e=e||cN,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[g,E])=>`${m}${g}=${E},`,"");if(M2(u)&&a!=="_self")return hN(e||"",a),new s_(null);const f=window.open(e||"",a,h);we(f,t,"popup-blocked");try{f.focus()}catch{}return new s_(f)}function hN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="__/auth/handler",dN="emulator/auth/handler",mN=encodeURIComponent("fac");async function i_(t,e,n,r,s,i){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:to,eventId:s};if(e instanceof Qd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",rS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Wa){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${mN}=${encodeURIComponent(l)}`:"";return`${gN(t)}?${La(a).slice(1)}${u}`}function gN({config:t}){return t.emulator?qd(t,dN):`https://${t.authDomain}/${fN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="webStorageSupport";class pN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=$D,this._overrideRedirectResult=VD}async _openPopup(e,n,r,s){var i;jr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await i_(e,n,r,Kh(),s);return uN(e,o,Jd())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await i_(e,n,r,Kh(),s);return vD(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(jr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sN(e),r=new jD(e);return n.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ju,{type:Ju},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ju];o!==void 0&&n(!!o),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return X1()||K1()||Gd()}}const _N=pN;var o_="@firebase/auth",a_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EN(t){Ui(new Xs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Z1(t)},u=new B2(r,s,i,l);return Q2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ui(new Xs("auth-internal",e=>{const n=zr(e.getProvider("auth").getImmediate());return(r=>new yN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(o_,a_,vN(t)),_s(o_,a_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=5*60,IN=av("authIdTokenMaxAge")||wN;let l_=null;const TN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>IN)return;const s=n==null?void 0:n.token;l_!==s&&(l_=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bN(t=hv()){const e=id(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Y2(t,{popupRedirectResolver:_N,persistence:[PD,pD,cE]}),r=av("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=TN(i.toString());dD(n,o,()=>o(n.currentUser)),fD(n,a=>o(a))}}const s=iv("auth");return s&&J2(n,`http://${s}`),n}function AN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}j2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Kn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",AN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EN("Browser");const c_=()=>{const t=new Error("Delay aborted");return t.name="AbortError",t},CN=new WeakMap;function SN({clearTimeout:t,setTimeout:e}={}){return(n,{value:r,signal:s}={})=>{if(s!=null&&s.aborted)return Promise.reject(c_());let i,o,a;const l=t??clearTimeout,u=()=>{l(i),a(c_())},h=()=>{s&&s.removeEventListener("abort",u)},f=new Promise((m,g)=>{o=()=>{h(),m(r)},a=g,i=(e??setTimeout)(o,n)});return s&&s.addEventListener("abort",u,{once:!0}),CN.set(f,()=>{l(i),i=null,o()}),f}}const dc=SN();class PN{constructor(e){fe(this,"client");fe(this,"db");fe(this,"auth");fe(this,"dontAutoCreateSpace",!1);fe(this,"currentUser",nt());fe(this,"darkMode",nt(!0));fe(this,"systemDarkMode",nt(!0));fe(this,"loaded",nt(!1));fe(this,"authLoaded",nt(!1));fe(this,"showOfflineButton",nt(!1));fe(this,"currentFestivalUid",9);this.auth=bN(e),this.db=Zk(e),this.auth.onAuthStateChanged(async n=>{this.authLoaded.value||(this.currentUser.value=n||void 0,await dc(50),this.authLoaded.value=!0)})}}var RN="firebase",kN="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(RN,kN,"app");/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const yi=typeof document<"u";function _E(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function DN(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&_E(t.default)}const ze=Object.assign;function Xu(t,e){const n={};for(const r in e){const s=e[r];n[r]=zn(s)?s.map(t):t(s)}return n}const Zo=()=>{},zn=Array.isArray,yE=/#/g,NN=/&/g,ON=/\//g,LN=/=/g,MN=/\?/g,vE=/\+/g,xN=/%5B/g,VN=/%5D/g,EE=/%5E/g,FN=/%60/g,wE=/%7B/g,UN=/%7C/g,IE=/%7D/g,$N=/%20/g;function Zd(t){return encodeURI(""+t).replace(UN,"|").replace(xN,"[").replace(VN,"]")}function BN(t){return Zd(t).replace(wE,"{").replace(IE,"}").replace(EE,"^")}function Qh(t){return Zd(t).replace(vE,"%2B").replace($N,"+").replace(yE,"%23").replace(NN,"%26").replace(FN,"`").replace(wE,"{").replace(IE,"}").replace(EE,"^")}function jN(t){return Qh(t).replace(LN,"%3D")}function HN(t){return Zd(t).replace(yE,"%23").replace(MN,"%3F")}function WN(t){return t==null?"":HN(t).replace(ON,"%2F")}function Ea(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const qN=/\/$/,KN=t=>t.replace(qN,"");function Zu(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=QN(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Ea(o)}}function GN(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function u_(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function zN(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&zi(e.matched[r],n.matched[s])&&TE(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function zi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function TE(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!YN(t[n],e[n]))return!1;return!0}function YN(t,e){return zn(t)?h_(t,e):zn(e)?h_(e,t):t===e}function h_(t,e){return zn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function QN(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const Zr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var wa;(function(t){t.pop="pop",t.push="push"})(wa||(wa={}));var ea;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ea||(ea={}));function JN(t){if(!t)if(yi){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),KN(t)}const XN=/^[^#]+#/;function ZN(t,e){return t.replace(XN,"#")+e}function eO(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const nu=()=>({left:window.scrollX,top:window.scrollY});function tO(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=eO(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function f_(t,e){return(history.state?history.state.position-e:-1)+t}const Jh=new Map;function nO(t,e){Jh.set(t,e)}function rO(t){const e=Jh.get(t);return Jh.delete(t),e}let sO=()=>location.protocol+"//"+location.host;function bE(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),u_(l,"")}return u_(n,t)+r+s}function iO(t,e,n,r){let s=[],i=[],o=null;const a=({state:m})=>{const g=bE(t,location),E=n.value,w=e.value;let R=0;if(m){if(n.value=g,e.value=m,o&&o===E){o=null;return}R=w?m.position-w.position:0}else r(g);s.forEach(L=>{L(n.value,E,{delta:R,type:wa.pop,direction:R?R>0?ea.forward:ea.back:ea.unknown})})};function l(){o=n.value}function u(m){s.push(m);const g=()=>{const E=s.indexOf(m);E>-1&&s.splice(E,1)};return i.push(g),g}function h(){const{history:m}=window;m.state&&m.replaceState(ze({},m.state,{scroll:nu()}),"")}function f(){for(const m of i)m();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function d_(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?nu():null}}function oO(t){const{history:e,location:n}=window,r={value:bE(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,u,h){const f=t.indexOf("#"),m=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:sO()+t+l;try{e[h?"replaceState":"pushState"](u,"",m),s.value=u}catch(g){console.error(g),n[h?"replace":"assign"](m)}}function o(l,u){const h=ze({},e.state,d_(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});i(l,h,!0),r.value=l}function a(l,u){const h=ze({},s.value,e.state,{forward:l,scroll:nu()});i(h.current,h,!0);const f=ze({},d_(r.value,l,null),{position:h.position+1},u);i(l,f,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function aO(t){t=JN(t);const e=oO(t),n=iO(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=ze({location:"",base:t,go:r,createHref:ZN.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function lO(t){return typeof t=="string"||t&&typeof t=="object"}function AE(t){return typeof t=="string"||typeof t=="symbol"}const CE=Symbol("");var m_;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(m_||(m_={}));function Yi(t,e){return ze(new Error,{type:t,[CE]:!0},e)}function vr(t,e){return t instanceof Error&&CE in t&&(e==null||!!(t.type&e))}const g_="[^/]+?",cO={sensitive:!1,strict:!1,start:!0,end:!0},uO=/[.+*?^${}()[\]/\\]/g;function hO(t,e){const n=ze({},cO,e),r=[];let s=n.start?"^":"";const i=[];for(const u of t){const h=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let f=0;f<u.length;f++){const m=u[f];let g=40+(n.sensitive?.25:0);if(m.type===0)f||(s+="/"),s+=m.value.replace(uO,"\\$&"),g+=40;else if(m.type===1){const{value:E,repeatable:w,optional:R,regexp:L}=m;i.push({name:E,repeatable:w,optional:R});const S=L||g_;if(S!==g_){g+=10;try{new RegExp(`(${S})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${E}" (${S}): `+A.message)}}let T=w?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;f||(T=R&&u.length<2?`(?:/${T})`:"/"+T),R&&(T+="?"),s+=T,g+=20,R&&(g+=-8),w&&(g+=-20),S===".*"&&(g+=-50)}h.push(g)}r.push(h)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const h=u.match(o),f={};if(!h)return null;for(let m=1;m<h.length;m++){const g=h[m]||"",E=i[m-1];f[E.name]=g&&E.repeatable?g.split("/"):g}return f}function l(u){let h="",f=!1;for(const m of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const g of m)if(g.type===0)h+=g.value;else if(g.type===1){const{value:E,repeatable:w,optional:R}=g,L=E in u?u[E]:"";if(zn(L)&&!w)throw new Error(`Provided param "${E}" is an array but it is not repeatable (* or + modifiers)`);const S=zn(L)?L.join("/"):L;if(!S)if(R)m.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${E}"`);h+=S}}return h||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function fO(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function SE(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=fO(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(p_(r))return 1;if(p_(s))return-1}return s.length-r.length}function p_(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const dO={type:0,value:""},mO=/[a-zA-Z0-9_]/;function gO(t){if(!t)return[[]];if(t==="/")return[[dO]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${u}": ${g}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,u="",h="";function f(){u&&(n===0?i.push({type:0,value:u}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function m(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),o()):l===":"?(f(),n=1):m();break;case 4:m(),n=r;break;case 1:l==="("?n=2:mO.test(l)?m():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:n=3:h+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),o(),s}function pO(t,e,n){const r=hO(gO(t.path),n),s=ze(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function _O(t,e){const n=[],r=new Map;e=E_({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,m,g){const E=!g,w=y_(f);w.aliasOf=g&&g.record;const R=E_(e,f),L=[w];if("alias"in f){const A=typeof f.alias=="string"?[f.alias]:f.alias;for(const U of A)L.push(y_(ze({},w,{components:g?g.record.components:w.components,path:U,aliasOf:g?g.record:w})))}let S,T;for(const A of L){const{path:U}=A;if(m&&U[0]!=="/"){const F=m.record.path,y=F[F.length-1]==="/"?"":"/";A.path=m.record.path+(U&&y+U)}if(S=pO(A,m,R),g?g.alias.push(S):(T=T||S,T!==S&&T.alias.push(S),E&&f.name&&!v_(S)&&o(f.name)),PE(S)&&l(S),w.children){const F=w.children;for(let y=0;y<F.length;y++)i(F[y],S,g&&g.children[y])}g=g||S}return T?()=>{o(T)}:Zo}function o(f){if(AE(f)){const m=r.get(f);m&&(r.delete(f),n.splice(n.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=n.indexOf(f);m>-1&&(n.splice(m,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return n}function l(f){const m=EO(f,n);n.splice(m,0,f),f.record.name&&!v_(f)&&r.set(f.record.name,f)}function u(f,m){let g,E={},w,R;if("name"in f&&f.name){if(g=r.get(f.name),!g)throw Yi(1,{location:f});R=g.record.name,E=ze(__(m.params,g.keys.filter(T=>!T.optional).concat(g.parent?g.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),f.params&&__(f.params,g.keys.map(T=>T.name))),w=g.stringify(E)}else if(f.path!=null)w=f.path,g=n.find(T=>T.re.test(w)),g&&(E=g.parse(w),R=g.record.name);else{if(g=m.name?r.get(m.name):n.find(T=>T.re.test(m.path)),!g)throw Yi(1,{location:f,currentLocation:m});R=g.record.name,E=ze({},m.params,f.params),w=g.stringify(E)}const L=[];let S=g;for(;S;)L.unshift(S.record),S=S.parent;return{name:R,path:w,params:E,matched:L,meta:vO(L)}}t.forEach(f=>i(f));function h(){n.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function __(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function y_(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:yO(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function yO(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function v_(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function vO(t){return t.reduce((e,n)=>ze(e,n.meta),{})}function E_(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function EO(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;SE(t,e[i])<0?r=i:n=i+1}const s=wO(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function wO(t){let e=t;for(;e=e.parent;)if(PE(e)&&SE(t,e)===0)return e}function PE({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function IO(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(vE," "),o=i.indexOf("="),a=Ea(o<0?i:i.slice(0,o)),l=o<0?null:Ea(i.slice(o+1));if(a in e){let u=e[a];zn(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function w_(t){let e="";for(let n in t){const r=t[n];if(n=jN(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(zn(r)?r.map(i=>i&&Qh(i)):[r&&Qh(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function TO(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=zn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const bO=Symbol(""),I_=Symbol(""),em=Symbol(""),RE=Symbol(""),Xh=Symbol("");function Ao(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function rs(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=m=>{m===!1?l(Yi(4,{from:n,to:e})):m instanceof Error?l(m):lO(m)?l(Yi(2,{from:e,to:m})):(o&&r.enterCallbacks[s]===o&&typeof m=="function"&&o.push(m),a())},h=i(()=>t.call(r&&r.instances[s],e,n,u));let f=Promise.resolve(h);t.length<3&&(f=f.then(u)),f.catch(m=>l(m))})}function eh(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(_E(l)){const h=(l.__vccOpts||l)[e];h&&i.push(rs(h,n,r,o,a,s))}else{let u=l();i.push(()=>u.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=DN(h)?h.default:h;o.mods[a]=h,o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&rs(g,n,r,o,a,s)()}))}}return i}function T_(t){const e=rr(em),n=rr(RE),r=Et(()=>{const l=Ai(t.to);return e.resolve(l)}),s=Et(()=>{const{matched:l}=r.value,{length:u}=l,h=l[u-1],f=n.matched;if(!h||!f.length)return-1;const m=f.findIndex(zi.bind(null,h));if(m>-1)return m;const g=b_(l[u-2]);return u>1&&b_(h)===g&&f[f.length-1].path!==g?f.findIndex(zi.bind(null,l[u-2])):m}),i=Et(()=>s.value>-1&&RO(n.params,r.value.params)),o=Et(()=>s.value>-1&&s.value===n.matched.length-1&&TE(n.params,r.value.params));function a(l={}){if(PO(l)){const u=e[Ai(t.replace)?"replace":"push"](Ai(t.to)).catch(Zo);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:Et(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function AO(t){return t.length===1?t[0]:t}const CO=eo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:T_,setup(t,{slots:e}){const n=Mt(T_(t)),{options:r}=rr(em),s=Et(()=>({[A_(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[A_(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&AO(e.default(n));return t.custom?i:Da("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),SO=CO;function PO(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function RO(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!zn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function b_(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const A_=(t,e,n)=>t??e??n,kO=eo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=rr(Xh),s=Et(()=>t.route||r.value),i=rr(I_,0),o=Et(()=>{let u=Ai(i);const{matched:h}=s.value;let f;for(;(f=h[u])&&!f.components;)u++;return u}),a=Et(()=>s.value.matched[o.value]);Al(I_,Et(()=>o.value+1)),Al(bO,a),Al(Xh,s);const l=nt();return Ys(()=>[l.value,a.value,t.name],([u,h,f],[m,g,E])=>{h&&(h.instances[f]=u,g&&g!==h&&u&&u===m&&(h.leaveGuards.size||(h.leaveGuards=g.leaveGuards),h.updateGuards.size||(h.updateGuards=g.updateGuards))),u&&h&&(!g||!zi(h,g)||!m)&&(h.enterCallbacks[f]||[]).forEach(w=>w(u))},{flush:"post"}),()=>{const u=s.value,h=t.name,f=a.value,m=f&&f.components[h];if(!m)return C_(n.default,{Component:m,route:u});const g=f.props[h],E=g?g===!0?u.params:typeof g=="function"?g(u):g:null,R=Da(m,ze({},E,e,{onVnodeUnmounted:L=>{L.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return C_(n.default,{Component:R,route:u})||R}}});function C_(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const DO=kO;function NO(t){const e=_O(t.routes,t),n=t.parseQuery||IO,r=t.stringifyQuery||w_,s=t.history,i=Ao(),o=Ao(),a=Ao(),l=Hf(Zr);let u=Zr;yi&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Xu.bind(null,z=>""+z),f=Xu.bind(null,WN),m=Xu.bind(null,Ea);function g(z,ae){let ie,ue;return AE(z)?(ie=e.getRecordMatcher(z),ue=ae):ue=z,e.addRoute(ue,ie)}function E(z){const ae=e.getRecordMatcher(z);ae&&e.removeRoute(ae)}function w(){return e.getRoutes().map(z=>z.record)}function R(z){return!!e.getRecordMatcher(z)}function L(z,ae){if(ae=ze({},ae||l.value),typeof z=="string"){const D=Zu(n,z,ae.path),H=e.resolve({path:D.path},ae),Q=s.createHref(D.fullPath);return ze(D,H,{params:m(H.params),hash:Ea(D.hash),redirectedFrom:void 0,href:Q})}let ie;if(z.path!=null)ie=ze({},z,{path:Zu(n,z.path,ae.path).path});else{const D=ze({},z.params);for(const H in D)D[H]==null&&delete D[H];ie=ze({},z,{params:f(D)}),ae.params=f(ae.params)}const ue=e.resolve(ie,ae),Le=z.hash||"";ue.params=h(m(ue.params));const k=GN(r,ze({},z,{hash:BN(Le),path:ue.path})),M=s.createHref(k);return ze({fullPath:k,hash:Le,query:r===w_?TO(z.query):z.query||{}},ue,{redirectedFrom:void 0,href:M})}function S(z){return typeof z=="string"?Zu(n,z,l.value.path):ze({},z)}function T(z,ae){if(u!==z)return Yi(8,{from:ae,to:z})}function A(z){return y(z)}function U(z){return A(ze(S(z),{replace:!0}))}function F(z){const ae=z.matched[z.matched.length-1];if(ae&&ae.redirect){const{redirect:ie}=ae;let ue=typeof ie=="function"?ie(z):ie;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=S(ue):{path:ue},ue.params={}),ze({query:z.query,hash:z.hash,params:ue.path!=null?{}:z.params},ue)}}function y(z,ae){const ie=u=L(z),ue=l.value,Le=z.state,k=z.force,M=z.replace===!0,D=F(ie);if(D)return y(ze(S(D),{state:typeof D=="object"?ze({},Le,D.state):Le,force:k,replace:M}),ae||ie);const H=ie;H.redirectedFrom=ae;let Q;return!k&&zN(r,ue,ie)&&(Q=Yi(16,{to:H,from:ue}),Je(ue,ue,!0,!1)),(Q?Promise.resolve(Q):N(H,ue)).catch(Y=>vr(Y)?vr(Y,2)?Y:yt(Y):Ie(Y,H,ue)).then(Y=>{if(Y){if(vr(Y,2))return y(ze({replace:M},S(Y.to),{state:typeof Y.to=="object"?ze({},Le,Y.to.state):Le,force:k}),ae||H)}else Y=x(H,ue,!0,M,Le);return V(H,ue,Y),Y})}function _(z,ae){const ie=T(z,ae);return ie?Promise.reject(ie):Promise.resolve()}function v(z){const ae=Ut.values().next().value;return ae&&typeof ae.runWithContext=="function"?ae.runWithContext(z):z()}function N(z,ae){let ie;const[ue,Le,k]=OO(z,ae);ie=eh(ue.reverse(),"beforeRouteLeave",z,ae);for(const D of ue)D.leaveGuards.forEach(H=>{ie.push(rs(H,z,ae))});const M=_.bind(null,z,ae);return ie.push(M),ft(ie).then(()=>{ie=[];for(const D of i.list())ie.push(rs(D,z,ae));return ie.push(M),ft(ie)}).then(()=>{ie=eh(Le,"beforeRouteUpdate",z,ae);for(const D of Le)D.updateGuards.forEach(H=>{ie.push(rs(H,z,ae))});return ie.push(M),ft(ie)}).then(()=>{ie=[];for(const D of k)if(D.beforeEnter)if(zn(D.beforeEnter))for(const H of D.beforeEnter)ie.push(rs(H,z,ae));else ie.push(rs(D.beforeEnter,z,ae));return ie.push(M),ft(ie)}).then(()=>(z.matched.forEach(D=>D.enterCallbacks={}),ie=eh(k,"beforeRouteEnter",z,ae,v),ie.push(M),ft(ie))).then(()=>{ie=[];for(const D of o.list())ie.push(rs(D,z,ae));return ie.push(M),ft(ie)}).catch(D=>vr(D,8)?D:Promise.reject(D))}function V(z,ae,ie){a.list().forEach(ue=>v(()=>ue(z,ae,ie)))}function x(z,ae,ie,ue,Le){const k=T(z,ae);if(k)return k;const M=ae===Zr,D=yi?history.state:{};ie&&(ue||M?s.replace(z.fullPath,ze({scroll:M&&D&&D.scroll},Le)):s.push(z.fullPath,Le)),l.value=z,Je(z,ae,ie,M),yt()}let P;function be(){P||(P=s.listen((z,ae,ie)=>{if(!kt.listening)return;const ue=L(z),Le=F(ue);if(Le){y(ze(Le,{replace:!0,force:!0}),ue).catch(Zo);return}u=ue;const k=l.value;yi&&nO(f_(k.fullPath,ie.delta),nu()),N(ue,k).catch(M=>vr(M,12)?M:vr(M,2)?(y(ze(S(M.to),{force:!0}),ue).then(D=>{vr(D,20)&&!ie.delta&&ie.type===wa.pop&&s.go(-1,!1)}).catch(Zo),Promise.reject()):(ie.delta&&s.go(-ie.delta,!1),Ie(M,ue,k))).then(M=>{M=M||x(ue,k,!1),M&&(ie.delta&&!vr(M,8)?s.go(-ie.delta,!1):ie.type===wa.pop&&vr(M,20)&&s.go(-1,!1)),V(ue,k,M)}).catch(Zo)}))}let Ge=Ao(),ke=Ao(),Ce;function Ie(z,ae,ie){yt(z);const ue=ke.list();return ue.length?ue.forEach(Le=>Le(z,ae,ie)):console.error(z),Promise.reject(z)}function ut(){return Ce&&l.value!==Zr?Promise.resolve():new Promise((z,ae)=>{Ge.add([z,ae])})}function yt(z){return Ce||(Ce=!z,be(),Ge.list().forEach(([ae,ie])=>z?ie(z):ae()),Ge.reset()),z}function Je(z,ae,ie,ue){const{scrollBehavior:Le}=t;if(!yi||!Le)return Promise.resolve();const k=!ie&&rO(f_(z.fullPath,0))||(ue||!ie)&&history.state&&history.state.scroll||null;return Wf().then(()=>Le(z,ae,k)).then(M=>M&&tO(M)).catch(M=>Ie(M,z,ae))}const $e=z=>s.go(z);let He;const Ut=new Set,kt={currentRoute:l,listening:!0,addRoute:g,removeRoute:E,clearRoutes:e.clearRoutes,hasRoute:R,getRoutes:w,resolve:L,options:t,push:A,replace:U,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ke.add,isReady:ut,install(z){const ae=this;z.component("RouterLink",SO),z.component("RouterView",DO),z.config.globalProperties.$router=ae,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>Ai(l)}),yi&&!He&&l.value===Zr&&(He=!0,A(s.location).catch(Le=>{}));const ie={};for(const Le in Zr)Object.defineProperty(ie,Le,{get:()=>l.value[Le],enumerable:!0});z.provide(em,ae),z.provide(RE,Jy(ie)),z.provide(Xh,l);const ue=z.unmount;Ut.add(z),z.unmount=function(){Ut.delete(z),Ut.size<1&&(u=Zr,P&&P(),P=null,l.value=Zr,He=!1,Ce=!1),ue()}}};function ft(z){return z.reduce((ae,ie)=>ae.then(()=>v(ie)),Promise.resolve())}return kt}function OO(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(u=>zi(u,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>zi(u,l))||s.push(l))}return[n,r,s]}const LO={props:{navId:String,route:String,icon:String,label:String},mounted(){this.update()},watch:{$route(){this.update()}},data(){return{active:!1}},methods:{update(){this.active=this.$route.meta.navId==this.navId}}},At=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};function MO(t,e,n,r,s,i){const o=mt("RouterLink");return Z(),ln(o,{to:n.route||"",class:Fe({active:s.active})},{default:Kf(()=>[O("i",null,he(n.icon),1),O("div",null,he(n.label),1)]),_:1},8,["to","class"])}const kE=At(LO,[["render",MO]]),xO={data(){return{selectedPage:"home"}},components:{NavigationItem:kE}};function VO(t,e,n,r,s,i){const o=mt("NavigationItem");return Z(),oe(pe,null,[je(o,{"selected-route":s.selectedPage,navId:"home",route:"/",icon:"home",label:t.$t("navigation.overview")},null,8,["selected-route","label"]),je(o,{"selected-route":s.selectedPage,navId:"acts",route:"/acts",icon:"headphones",label:t.$t("navigation.acts")},null,8,["selected-route","label"]),t.$ctx.currentUser.value!=null?(Z(),oe(pe,{key:0},[je(o,{"selected-route":s.selectedPage,navId:"discover",route:"/discover",icon:"explore",label:t.$t("navigation.discover")},null,8,["selected-route","label"]),je(o,{"selected-route":s.selectedPage,navId:"members",route:"/members",icon:"group",label:t.$t("navigation.members")},null,8,["selected-route","label"]),je(o,{"selected-route":s.selectedPage,navId:"settings",route:"/settings",icon:"settings",label:t.$t("navigation.settings")},null,8,["selected-route","label"])],64)):Ne("",!0)],64)}const FO=At(xO,[["render",VO]]),UO={components:{NavigationItems:FO,NavigationItem:kE}},$O={class:"left max l"},BO={class:"left m"},jO={class:"bottom s"};function HO(t,e,n,r,s,i){const o=mt("NavigationItems"),a=mt("NavigationItem");return Z(),oe(pe,null,[O("nav",$O,[je(o),t.$ctx.currentUser.value==null?(Z(),ln(a,{key:0,navId:"login",route:"/login",icon:"login",label:t.$t("common.signIn")},null,8,["label"])):Ne("",!0)]),O("nav",BO,[je(o),t.$ctx.currentUser.value==null?(Z(),ln(a,{key:0,navId:"login",route:"/login",icon:"login",label:t.$t("common.signIn")},null,8,["label"])):Ne("",!0)]),O("nav",jO,[je(o),t.$ctx.currentUser.value==null?(Z(),ln(a,{key:0,navId:"login",route:"/login",icon:"login",label:t.$t("common.signIn")},null,8,["label"])):Ne("",!0)])],64)}const WO=At(UO,[["render",HO]]),qO={props:{hideAnon:{type:Boolean,default:!1},reload:Boolean},methods:{googleAuth(){OD(this.$ctx.auth,new Sr).then(()=>{this.reload?window.location.reload():window.location.href="/"}).catch(t=>{const e=t.code,n=t.message;console.error(e,n)})},mailAuth(){this.$router.push({path:"/login/mail",query:{callback:this.$route.fullPath}})},async anonAuth(){await aD(this.$ctx.auth),this.reload?window.location.reload():window.location.href="/"}}};function KO(t,e,n,r,s,i){return Z(),oe(pe,null,[O("button",{class:"responsive large",onClick:e[0]||(e[0]=o=>i.googleAuth())},e[3]||(e[3]=[O("i",{class:"mdi mdi-google"},null,-1),O("span",null,"Google",-1)])),e[7]||(e[7]=O("div",{class:"space"},null,-1)),O("button",{class:"responsive large",onClick:e[1]||(e[1]=o=>i.mailAuth())},[e[4]||(e[4]=O("i",null,"mail",-1)),O("span",null,he(t.$t("common.mail")),1)]),n.hideAnon?Ne("",!0):(Z(),oe(pe,{key:0},[e[6]||(e[6]=O("div",{class:"space"},null,-1)),O("button",{class:"responsive fill large",onClick:e[2]||(e[2]=o=>i.anonAuth())},[e[5]||(e[5]=O("i",null,"password_2_off",-1)),O("span",null,he(t.$t("common.anon")),1)])],64))],64)}const GO=At(qO,[["render",KO]]),zO={props:{plain:Boolean},data(){return{privacyPolicyUrl:void 0}},mounted(){this.privacyPolicyUrl="/privacy.html"}},YO={key:0,class:"link"},QO=["href"],JO={key:1,class:"center-align",style:{position:"fixed",bottom:"65px",width:"100%"}},XO={class:"link"},ZO=["href"];function eL(t,e,n,r,s,i){return s.privacyPolicyUrl?(Z(),oe(pe,{key:0},[n.plain?(Z(),oe("p",YO,[O("a",{class:"link underline",href:s.privacyPolicyUrl},he(t.$t("privacyPolicy")),9,QO)])):Ne("",!0),n.plain?Ne("",!0):(Z(),oe("div",JO,[O("p",XO,[O("a",{class:"link underline",href:s.privacyPolicyUrl},he(t.$t("privacyPolicy")),9,ZO),e[0]||(e[0]=O("br",null,null,-1)),e[1]||(e[1]=O("a",{class:"link underline",href:"mailto:wacken-glup@mailbox.org"},"Contact me: wacken-glup@mailbox.org",-1))])]))],64)):Ne("",!0)}const tL=At(zO,[["render",eL]]),nL={data(){return{openSignOutConfirmDialog:!1}},methods:{async signOut(t=!1){var e;if(!t&&((e=this.$ctx.currentUser.value)!=null&&e.isAnonymous)){this.openSignOutConfirmDialog=!0;return}await this.$ctx.auth.signOut(),window.location.reload()}},components:{LoginButtons:GO,PrivacyPolicyLink:tL}},rL={class:"responsive max scroll"},sL={key:0,class:"middle-align",style:{height:"100%"}},iL={class:"large-padding center middle-align center-align"},oL={class:"large-padding"},aL={class:"center-align"},lL={class:"center-align"},cL={key:1,class:"middle-align",style:{height:"100%"}},uL={class:"medium center middle-align center-align"},hL={key:0,class:"extra"},fL=["src"],dL={class:"center-align"},mL={class:"link small-text"},gL={class:"center-align"},pL={class:"right-align no-space"};function _L(t,e,n,r,s,i){var l,u;const o=mt("LoginButtons"),a=mt("PrivacyPolicyLink");return Z(),oe(pe,null,[O("main",rL,[t.$ctx.currentUser.value==null?(Z(),oe("div",sL,[O("article",iL,[O("div",oL,[e[5]||(e[5]=O("i",{class:"extra"},"login",-1)),O("h5",aL,he(t.$t("common.signIn")),1),O("p",null,[yh(he(t.$t("login.signIn.message[0]")),1),e[4]||(e[4]=O("br",null,null,-1)),yh(he(t.$t("login.signIn.message[1]")),1)]),e[6]||(e[6]=O("div",{class:"space"},null,-1)),O("div",lL,[je(o)])])])])):Ne("",!0),t.$ctx.currentUser.value!=null?(Z(),oe("div",cL,[O("article",uL,[O("div",null,[t.$ctx.currentUser.value.photoURL==null?(Z(),oe("i",hL,"person")):Ne("",!0),t.$ctx.currentUser.value.photoURL!=null?(Z(),oe("img",{key:1,class:"circle large",src:t.$ctx.currentUser.value.photoURL,referrerpolicy:"no-referrer"},null,8,fL)):Ne("",!0),O("h5",dL,he(t.$t("common.greeting"))+" "+he(((u=(l=t.$client.space)==null?void 0:l.self)==null?void 0:u.name)||(t.$ctx.currentUser.value.isAnonymous?t.$t("common.anon"):t.$ctx.currentUser.value.displayName)),1),O("p",null,he(t.$t("login.alreadyLoggedIn")),1),O("span",mL,he(t.$ctx.currentUser.value.email||t.$ctx.currentUser.value.uid),1),e[8]||(e[8]=O("div",{class:"space"},null,-1)),O("nav",gL,[O("button",{class:"large",onClick:e[0]||(e[0]=h=>i.signOut())},[e[7]||(e[7]=O("i",null,"logout",-1)),O("span",null,he(t.$t("common.logOut")),1)])])])])])):Ne("",!0)]),je(a),O("div",{class:Fe(["overlay",{active:s.openSignOutConfirmDialog}]),onClick:e[1]||(e[1]=h=>s.openSignOutConfirmDialog=!1)},null,2),O("dialog",{class:Fe(["error",{active:s.openSignOutConfirmDialog}])},[O("h5",null,he(t.$t("settings.dialog.anonLogOut.title")),1),O("div",null,he(t.$t("settings.dialog.anonLogOut.message")),1),O("nav",pL,[O("button",{class:"error transparent",onClick:e[2]||(e[2]=h=>s.openSignOutConfirmDialog=!1)},he(t.$t("common.abort")),1),e[9]||(e[9]=O("div",{class:"space"},null,-1)),O("button",{class:"error-container no-elevate",onClick:e[3]||(e[3]=h=>{s.openSignOutConfirmDialog=!1,i.signOut(!0)})},he(t.$t("common.confirm")),1)])],2)],64)}const DE=At(nL,[["render",_L]]),yL=Object.freeze(Object.defineProperty({__proto__:null,default:DE},Symbol.toStringTag,{value:"Module"})),vL={props:{event:{type:Object,required:!0}},methods:{showOnTimetable(){this.$router.push({path:"/",query:{eventId:this.event.uid}})}}},EL={class:"wrap",style:{"padding-inline":"16px","z-index":"10"}},wL={class:"chip fill"},IL={class:"chip fill"};function TL(t,e,n,r,s,i){return Z(),oe("nav",EL,[O("a",wL,he(n.event.data.stage.title),1),O("a",IL,he(t.$t(n.event.data.performance.title)),1),O("a",{class:"chip fill",onClick:e[0]||(e[0]=o=>{o.stopPropagation(),i.showOnTimetable()})},he(t.$t(n.event.data.festivalday.title)),1),O("a",{class:"chip fill",onClick:e[1]||(e[1]=o=>{o.stopPropagation(),i.showOnTimetable()})},he(new Date(parseInt(n.event.data.start)*1e3).toLocaleTimeString("de",{hour:"2-digit",minute:"2-digit"}))+" "+he(t.$t("common.until"))+" "+he(new Date(parseInt(n.event.data.end)*1e3).toLocaleTimeString("de",{hour:"2-digit",minute:"2-digit"})),1)])}const tm=At(vL,[["render",TL]]),bL={props:{model:{type:Object,required:!0},lockSpotify:{type:Boolean,default:!1}},data(){return{WoaEventModelWrapper:Js,spotifyController:void 0,spotifyEmbedHtml:"",showSpotifyUnlock:!1,spotifyLocked:!0,smallScreen:!1}},methods:{update(){var t,e,n,r;this.showSpotifyUnlock=!1,this.spotifyLocked=!0,this.smallScreen=window.matchMedia&&((e=(t=window.matchMedia)==null?void 0:t.call(window,"screen and (max-width: 994px)"))==null?void 0:e.matches),(r=(n=this.spotifyController)==null?void 0:n.destroy)==null||r.call(n),this.spotifyEmbedHtml="",setTimeout(()=>{let s=crypto.randomUUID();this.spotifyEmbedHtml=`<div id="spotify-${s}"></div>`,setTimeout(()=>{var i,o;try{let a="",l="";this.model instanceof Js?(a=(i=this.model.data.artists[0])==null?void 0:i.assets[0].spotifyartist,l=(o=this.model.data.artists[0])==null?void 0:o.assets[0].spotifyalbum):this.model instanceof L1&&(a=this.model.data.spotifyartist,l=this.model.data.spotifyalbum),(a.length>2||l.length>2)&&(window.onSpotifyIframeApiReady=u=>{const h={uri:`spotify:${l.length>2?`album:${l}`:`artist:${a}`}`,height:this.smallScreen?void 0:180};u.createController(document.querySelector(`#spotify-${s}`),h,f=>{this.spotifyController=f}),this.lockSpotify&&(this.showSpotifyUnlock=!0,this.spotifyLocked=!0)})}catch(a){console.error(a)}},50)},10)}},mounted(){this.update()},watch:{model(){this.update()}},components:{EventDetailsChips:tm}},AL={class:"no-padding"},CL={class:"padding",style:{"padding-bottom":"0 !important"}},SL={class:"padding"},PL={class:"middle-align"},RL={style:{"margin-block-start":"0","margin-left":"1rem"}},kL={style:{display:"flex","flex-direction":"row","flex-wrap":"wrap",gap:"8px"}},DL={class:"padding"},NL={class:"middle-align"},OL={style:{"margin-block-start":"0","margin-left":"1rem"}},LL={style:{display:"flex","flex-direction":"row","flex-wrap":"wrap",gap:"8px"}},ML={class:"padding"},xL={key:0,style:{width:"100%"}},VL=["innerHTML"],FL=["innerHTML"];function UL(t,e,n,r,s,i){const o=mt("EventDetailsChips");return Z(),oe("article",AL,[O("div",CL,[O("h5",null,he(n.model.cardTitle()),1)]),n.model instanceof s.WoaEventModelWrapper?(Z(),ln(o,{key:0,event:n.model},null,8,["event"])):Ne("",!0),e[7]||(e[7]=O("div",{class:"space"},null,-1)),n.model.likerIds.length>0?(Z(),oe(pe,{key:1},[O("div",SL,[O("div",PL,[e[1]||(e[1]=O("i",{class:"fill"},"favorite",-1)),O("h6",RL,he(t.$t("common.liked")),1)]),e[2]||(e[2]=O("div",{class:"space"},null,-1)),O("div",kL,[(Z(!0),oe(pe,null,qt(n.model.likerIds,a=>{var l,u;return Z(),oe("a",{class:Fe(["chip no-border",[`${(l=t.$client.container.spaceMemberById.get(a))==null?void 0:l.color}4`]]),style:{margin:0,color:"black"}},he((u=t.$client.container.spaceMemberById.get(a))==null?void 0:u.name),3)}),256))])]),e[3]||(e[3]=O("div",{class:"space"},null,-1))],64)):Ne("",!0),n.model.suggestorIds.length>0?(Z(),oe(pe,{key:2},[O("div",DL,[O("div",NL,[e[4]||(e[4]=O("i",{class:"fill"},"thumb_up",-1)),O("h6",OL,he(t.$t("common.recommended")),1)]),e[5]||(e[5]=O("div",{class:"space"},null,-1)),O("div",LL,[(Z(!0),oe(pe,null,qt(n.model.suggestorIds,a=>{var l,u;return Z(),oe("a",{class:Fe(["chip no-border",[`${(l=t.$client.container.spaceMemberById.get(a))==null?void 0:l.color}4`]]),style:{margin:0,color:"black"}},he((u=t.$client.container.spaceMemberById.get(a))==null?void 0:u.name),3)}),256))])]),e[6]||(e[6]=O("div",{class:"space"},null,-1))],64)):Ne("",!0),O("div",ML,[s.showSpotifyUnlock&&s.spotifyLocked?(Z(),oe("div",xL,[O("div",{class:Fe(["absolute spotify-unlocker",{small:!s.smallScreen}]),onClick:e[0]||(e[0]=a=>s.spotifyLocked=!1)},null,2)])):Ne("",!0),O("div",{innerHTML:s.spotifyEmbedHtml},null,8,VL),O("div",{innerHTML:n.model.cardDescription()},null,8,FL)])])}const $L=At(bL,[["render",UL]]),BL={props:{open:Boolean,model:{type:Object,required:!0}},methods:{toggleSuggested(){var t,e;if(this.$ctx.currentUser.value===void 0){this.openLoginNeededDialog.value=!0;return}(e=(t=this.$client.space)==null?void 0:t.self)==null||e.toggleSuggested(this.model.uid)},toggleLike(){var t,e;if(this.$ctx.currentUser.value===void 0){this.openLoginNeededDialog.value=!0;return}(e=(t=this.$client.space)==null?void 0:t.self)==null||e.toggleLike(this.model.uid)}},emits:["dismiss"],components:{ActDetailsDialogContent:$L,EventDetailsChips:tm}},jL=["src"],HL={class:"blur",style:{"border-radius":"1.75rem",position:"sticky",top:"0","z-index":"100"}},WL={class:"max"},qL=["src"];function KL(t,e,n,r,s,i){var a,l,u,h,f,m,g,E;const o=mt("ActDetailsDialogContent");return Z(),oe(pe,null,[O("div",{class:Fe(["overlay",{active:n.open}]),onClick:e[0]||(e[0]=w=>t.$emit("dismiss"))},null,2),O("dialog",{class:Fe([{active:n.open},"max-s"])},[O("img",{class:"responsive large absolute top right",src:n.model.cardThumbnailUrl()},null,8,jL),O("header",HL,[O("nav",null,[e[5]||(e[5]=O("div",{class:"small-space"},null,-1)),O("button",{class:"circle transparent",onClick:e[1]||(e[1]=w=>t.$emit("dismiss"))},e[4]||(e[4]=[O("i",null,"close",-1)])),O("h5",WL,he(t.$t("common.details")),1),O("button",{class:"transparent circle",onClick:e[2]||(e[2]=w=>i.toggleSuggested())},[O("i",{class:Fe(["ignore-hover-fill",{fill:(l=(a=t.$client.space)==null?void 0:a.self)==null?void 0:l.isSuggested(n.model.uid),"primary-text":(h=(u=t.$client.space)==null?void 0:u.self)==null?void 0:h.isSuggested(n.model.uid)}])},"thumb_up",2)]),O("button",{class:"transparent circle",onClick:e[3]||(e[3]=w=>i.toggleLike())},[O("i",{class:Fe(["ignore-hover-fill",{fill:(m=(f=t.$client.space)==null?void 0:f.self)==null?void 0:m.isLiked(n.model.uid),"primary-text":(E=(g=t.$client.space)==null?void 0:g.self)==null?void 0:E.isLiked(n.model.uid)}])},"favorite",2)]),e[6]||(e[6]=O("div",{class:"small-space"},null,-1))])]),O("img",{class:"responsive large",style:{opacity:"0"},src:n.model.cardThumbnailUrl()||"/"},null,8,qL),je(o,{model:n.model,style:{"margin-top":"-112px"}},null,8,["model"])],2)],64)}const GL=At(BL,[["render",KL]]),zL={data(){return{openActDetailsDialog:!1,selectedAct:void 0}},methods:{update(){let t=this.$route.query.details;if(t===void 0)this.openActDetailsDialog=!1;else{let e=this.$client.container.actByUid.value.get(t+"");e!==void 0&&(this.selectedAct=e),setTimeout(()=>{this.openActDetailsDialog=!0},50)}},dismiss(){this.$router.back()}},mounted(){this.update()},watch:{$route(){this.update()}},components:{ActDetailsDialog:GL}};function YL(t,e,n,r,s,i){const o=mt("ActDetailsDialog");return s.selectedAct!=null?(Z(),ln(o,{key:0,open:s.openActDetailsDialog,model:s.selectedAct,onDismiss:e[0]||(e[0]=a=>i.dismiss())},null,8,["open","model"])):Ne("",!0)}const QL=At(zL,[["render",YL]]),JL={props:{model:{type:Object,required:!1},highlighted:{type:Boolean,default:!1}},methods:{openDialog(){var t;this.$router.push({query:{details:(t=this.model)==null?void 0:t.uid}})}}},XL={class:"round"},ZL={class:"max"},eM={class:"small",style:{display:"block","text-overflow":"ellipsis","word-wrap":"break-word",overflow:"hidden","max-height":"2.4em","line-height":"1.2em"}},tM={style:{display:"flex","flex-direction":"row","flex-wrap":"nowrap",overflow:"hidden",gap:"4px"}},nM={class:"surface-container round"},rM={class:"surface-container round"};function sM(t,e,n,r,s,i){var a,l;const o=f0("lazy");return n.model!==void 0?(Z(),oe("a",{key:0,class:Fe(["row padding",[`${n.highlighted?"tertiary":(l=(a=t.$client.space)==null?void 0:a.self)!=null&&l.isLiked(n.model.uid)?"primary":n.model.likerIds.length>0||n.model.suggestorIds.length>0?t.$ctx.darkMode.value?"surface-variant":"secondary":"surface-container"}`]]),onClick:e[0]||(e[0]=u=>i.openDialog())},[m0(t.$slots,"default"),Bo(O("img",XL,null,512),[[o,{src:n.model.cardThumbnailUrl()}]]),O("div",ZL,[O("h6",eM,he(n.model.cardTitle()),1),O("div",null,[O("div",tM,[(Z(!0),oe(pe,null,qt(n.model.likerIds,u=>{var h;return Z(),oe("div",nM,[O("i",{class:Fe(["fill",[`${(h=t.$client.container.spaceMemberById.get(u))==null?void 0:h.color}-text`]]),style:{scale:.7}}," favorite ",2)])}),256)),(Z(!0),oe(pe,null,qt(n.model.suggestorIds,u=>{var h;return Z(),oe("div",rM,[O("i",{class:Fe(["fill",[`${(h=t.$client.container.spaceMemberById.get(u))==null?void 0:h.color}-text`]]),style:{scale:.7}}," thumb_up ",2)])}),256))])])])],2)):Ne("",!0)}const NE=At(JL,[["render",sM]]),iM={props:{open:Boolean,member:{type:Object,required:!0}},emits:["dismiss"],components:{ActCard:NE}},oM={class:"surface-container fixed",style:{padding:"0 1rem"}},aM={class:"max"},lM={class:"padding"},cM={class:"middle-align"},uM={style:{"margin-block-start":"0","margin-left":"1rem"}},hM={class:"middle-align"},fM={style:{"margin-block-start":"0","margin-left":"1rem"}};function dM(t,e,n,r,s,i){const o=mt("ActCard");return Z(),oe(pe,null,[O("div",{class:Fe(["overlay",{active:n.open}]),onClick:e[0]||(e[0]=a=>t.$emit("dismiss"))},null,2),O("dialog",{class:Fe([{active:n.open},"max-s no-padding"])},[O("header",oM,[O("nav",null,[O("button",{class:"circle transparent",onClick:e[1]||(e[1]=a=>t.$emit("dismiss"))},e[2]||(e[2]=[O("i",null,"close",-1)])),O("h5",aM,he(n.member.name),1)])]),O("div",lM,[O("div",cM,[e[3]||(e[3]=O("i",{class:"fill"},"favorite",-1)),O("h6",uM,he(t.$t("common.liked")),1)]),e[5]||(e[5]=O("div",{class:"space"},null,-1)),(Z(!0),oe(pe,null,qt(n.member.likes,a=>(Z(),ln(o,{model:t.$client.container.actByUid.value.get(a)},null,8,["model"]))),256)),e[6]||(e[6]=O("div",{class:"large-space"},null,-1)),O("div",hM,[e[4]||(e[4]=O("i",{class:"fill"},"thumb_up",-1)),O("h6",fM,he(t.$t("common.recommended")),1)]),e[7]||(e[7]=O("div",{class:"space"},null,-1)),(Z(!0),oe(pe,null,qt(n.member.suggestions,a=>(Z(),ln(o,{model:t.$client.container.actByUid.value.get(a)},null,8,["model"]))),256))])],2)],64)}const mM=At(iM,[["render",dM]]),gM={data(){return{openDialog:!1,selectedMember:void 0}},methods:{update(){var e;let t=this.$route.query.member;if(t===void 0)this.openDialog=!1;else{let n=(e=this.$client.space)==null?void 0:e.members.find(r=>r.id==t+"");this.selectedMember=n,setTimeout(()=>{this.openDialog=!0},50)}},dismiss(){this.$router.back()}},mounted(){this.update()},watch:{$route(){this.update()}},components:{MemberDetailsDialog:mM}};function pM(t,e,n,r,s,i){const o=mt("MemberDetailsDialog");return s.selectedMember!=null?(Z(),ln(o,{key:0,open:s.openDialog,member:s.selectedMember,onDismiss:e[0]||(e[0]=a=>i.dismiss())},null,8,["open","member"])):Ne("",!0)}const _M=At(gM,[["render",pM]]),yM={data(){return{active:!1,installPrompt:void 0}},mounted(){window.addEventListener("beforeinstallprompt",t=>{this.installPrompt=t,this.active=!0})},methods:{install(){this.installPrompt.prompt()}}},vM={class:"max"};function EM(t,e,n,r,s,i){return Z(),oe("div",{class:Fe(["snackbar primary",{active:s.active}]),onClick:e[1]||(e[1]=o=>i.install())},[O("div",vM,he(t.$t("pwaAdvert")),1),O("button",{class:"fill circle no-elevate",onClick:e[0]||(e[0]=o=>i.install())},e[2]||(e[2]=[O("i",null,"add",-1)]))],2)}const wM=At(yM,[["render",EM]]),IM={data(){return{offlineCheckInterval:0,onlineAgain:!1,toggleOfflineSnackbar:!1,showNotificationsToast:!1}},methods:{updateThemeColor(){var n;let t=ui("mode"),e=ui("theme")[t].split("--surface:")[1].split(";")[0];(n=document.querySelector('meta[name="theme-color"]'))==null||n.setAttribute("content",e)},checkSystemTheme(){this.$ctx.systemDarkMode.value&&(this.$ctx.darkMode.value=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)},checkOffline(){clearInterval(this.offlineCheckInterval),this.$client.offline.value&&(this.offlineCheckInterval=setInterval(async()=>{try{await fetch(`/${crypto.randomUUID()}`,{signal:AbortSignal.timeout(3500)}),this.onlineAgain=!0}catch(t){console.error(t)}},4e3))},reloadPage(){window.location.reload()},async requestNotificationPermission(){await Notification.requestPermission(),this.reloadPage()}},mounted(){this.$ctx.darkMode.value=(localStorage.getItem("darkMode")||"false")=="true",this.$ctx.systemDarkMode.value=(localStorage.getItem("systemDarkMode")||"true")=="true",this.checkSystemTheme(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{this.$ctx.systemDarkMode.value&&(this.$ctx.darkMode.value=t.matches)}),setTimeout(()=>{this.updateThemeColor()},50),this.checkOffline(),"Notification"in window&&(this.showNotificationsToast=Notification.permission!=="granted")},watch:{"$ctx.systemDarkMode.value"(){this.checkSystemTheme(),localStorage.setItem("systemDarkMode",this.$ctx.systemDarkMode.value+"")},"$ctx.darkMode.value"(){ui("mode",this.$ctx.darkMode.value?"dark":"light"),this.updateThemeColor(),localStorage.setItem("darkMode",this.$ctx.darkMode.value+"")},"$client.offline.value"(){this.checkOffline()},"showOfflineReadyToast.value"(){this.showOfflineReadyToast.value&&setTimeout(()=>{this.showOfflineReadyToast.value=!1},4e3)}},components:{Navigation:WO,LoginView:DE,RouteBasedActDetailsDialog:QL,RouteBasedMemberDetailsDialog:_M,AdvertisePWA:wM}},TM={key:0,class:"max responsive center-align middle-align flex column"},bM={class:"right-align no-space"};function AM(t,e,n,r,s,i){const o=mt("Navigation"),a=mt("RouterView"),l=mt("LoginView"),u=mt("RouteBasedActDetailsDialog"),h=mt("RouteBasedMemberDetailsDialog"),f=mt("AdvertisePWA");return Z(),oe(pe,null,[t.$ctx.loaded.value?Ne("",!0):(Z(),oe("main",TM,[e[9]||(e[9]=O("progress",{style:{"max-width":"300px"}},null,-1)),O("div",{class:Fe(["snackbar primary center-align error",{active:t.$ctx.showOfflineButton.value}]),onClick:e[0]||(e[0]=m=>t.$client.activateOfflineMode())},[e[8]||(e[8]=O("i",null,"offline_bolt",-1)),O("div",null,he(t.$t("app.offline.button.message")),1)],2)])),t.$ctx.loaded.value?(Z(),oe(pe,{key:1},[t.$route.meta.requiresAuth===!1||t.$ctx.currentUser.value!=null?(Z(),oe(pe,{key:0},[t.$route.meta.hideNavigation!==!0?(Z(),ln(o,{key:0})):Ne("",!0),je(a)],64)):Ne("",!0),t.$route.meta.requiresAuth!==!1&&t.$ctx.currentUser.value==null?(Z(),ln(l,{key:1})):Ne("",!0),je(u),je(h),O("div",{class:Fe(["overlay",{active:t.openLoginNeededDialog.value}]),onClick:e[1]||(e[1]=m=>t.openLoginNeededDialog.value=!1)},null,2),O("dialog",{class:Fe({active:t.openLoginNeededDialog.value})},[O("h5",null,he(t.$t("dialog.login-needed.title")),1),O("div",null,he(t.$t("dialog.login-needed.message")),1),e[10]||(e[10]=O("div",{class:"space"},null,-1)),O("nav",bM,[O("button",{class:"no-elevate",onClick:e[2]||(e[2]=m=>{t.$router.push("/login"),t.openLoginNeededDialog.value=!1})},he(t.$t("common.signIn")),1)])],2),je(f),O("div",{class:Fe(["snackbar green center-align",{active:t.$client.offline.value&&s.onlineAgain}]),onClick:e[3]||(e[3]=m=>i.reloadPage())},[e[11]||(e[11]=O("i",null,"globe",-1)),O("div",null,he(t.$t("app.offline.onlineAgain.message")),1)],2),O("div",{class:Fe(["snackbar green center-align",{active:s.showNotificationsToast}]),onClick:e[4]||(e[4]=m=>i.requestNotificationPermission())},[e[12]||(e[12]=O("i",null,"notifications",-1)),O("div",null,he(t.$t("app.notifications.message")),1)],2),O("div",{class:Fe(["snackbar primary center-align error",{active:t.$client.offline.value&&!s.onlineAgain&&!s.toggleOfflineSnackbar}]),onClick:e[5]||(e[5]=m=>s.toggleOfflineSnackbar=!0)},[e[13]||(e[13]=O("i",null,"offline_bolt",-1)),O("div",null,he(t.$t("app.offline.message")),1)],2),O("div",{class:Fe(["snackbar primary center-align error top",{active:t.$client.offline.value&&!s.onlineAgain&&s.toggleOfflineSnackbar}]),onClick:e[6]||(e[6]=m=>s.toggleOfflineSnackbar=!1)},[e[14]||(e[14]=O("i",null,"offline_bolt",-1)),O("div",null,he(t.$t("app.offline.message")),1)],2),O("div",{class:Fe(["snackbar secondary center-align",{active:t.showOfflineReadyToast.value}]),onClick:e[7]||(e[7]=m=>t.showOfflineReadyToast.value=!1)},[e[15]||(e[15]=O("i",null,"offline_bolt",-1)),O("div",null,he(t.$t("app.offline.ready.message")),1)],2)],64)):Ne("",!0)],64)}const CM=At(IM,[["render",AM]]),SM={props:{label:{type:String}}},PM={class:"max center-align"},RM=["src"];function kM(t,e,n,r,s,i){var o,a;return Z(),oe("header",null,[O("nav",null,[m0(t.$slots,"prepend"),O("h5",PM,he(n.label),1),t.$ctx.systemDarkMode.value?(Z(),oe("button",{key:0,class:"circle transparent",onClick:e[0]||(e[0]=l=>{t.$ctx.systemDarkMode.value=!1,t.$ctx.darkMode.value=!1})},e[4]||(e[4]=[O("i",{class:"ignore-hover-fill"},"sync",-1)]))):Ne("",!0),!t.$ctx.darkMode.value&&!t.$ctx.systemDarkMode.value?(Z(),oe("button",{key:1,class:"circle transparent",onClick:e[1]||(e[1]=l=>t.$ctx.darkMode.value=!0)},e[5]||(e[5]=[O("i",{class:"ignore-hover-fill"},"light_mode",-1)]))):Ne("",!0),t.$ctx.darkMode.value&&!t.$ctx.systemDarkMode.value?(Z(),oe("button",{key:2,class:"circle transparent",onClick:e[2]||(e[2]=l=>t.$ctx.systemDarkMode.value=!0)},e[6]||(e[6]=[O("i",{class:"ignore-hover-fill"},"dark_mode",-1)]))):Ne("",!0),(o=t.$ctx.currentUser.value)!=null&&o.photoURL?(Z(),oe("button",{key:3,class:"circle transparent",onClick:e[3]||(e[3]=l=>t.$router.push("/login"))},[O("img",{class:"responsive",src:(a=t.$ctx.currentUser.value)==null?void 0:a.photoURL},null,8,RM)])):Ne("",!0)])])}const OE=At(SM,[["render",kM]]),DM={props:{filterStages:{type:Object,default:[]}},data(){return{currentSec:0,selectedDay:void 0,highlightedEventId:"",columns:[],timeCells:[],dateWasChosen:!1,menuActive:!1}},methods:{selectDay(t){this.selectedDay=t,this.dateWasChosen=!0},render(){var e;let t=[];for(let n of this.$client.container.events)n.data.festivalday.uid===((e=this.selectedDay)==null?void 0:e.uid)&&(n.end<this.currentSec&&!this.dateWasChosen||(t.includes(n.start)||t.push(n.start),t.includes(n.end)||t.push(n.end)));t.sort(),this.timeCells=t,this.columns=[];for(let n of this.$client.container.stages.value){if(this.filterStages.includes(n.uid))continue;let r={startOffset:0,label:n.title,eventEntryByRow:[]},s=this.$client.container.eventsByStageUid.value.get(n.uid);if(s===void 0)continue;s.sort((u,h)=>u.start-h.start);let i=new Map;for(let u of s)i.set(u.start,u);let o=new Map,a;for(let u of t)i.has(u)&&(a=i.get(u),a.columnSpan=0),a!=null&&a.end==u&&(a=void 0),a!=null&&(a.columnSpan++,o.set(u,a));let l=!1;for(let u of t)i.has(u)?(r.eventEntryByRow.push(i.get(u)),l=!0):o.has(u)||r.eventEntryByRow.push(null);l&&this.columns.push(r)}}},mounted(){let t=new Date;if(this.currentSec=t.getTime()/1e3,this.$route.query.eventId||this.$route.query.dayId){let e=(this.$route.query.eventId?()=>{let n=this.$client.container.eventByUid.value.get(this.$route.query.eventId+"");return n==null?void 0:n.data.festivalday.uid}:()=>{var n;return parseInt(((n=this.$route.query.dayId)==null?void 0:n.toString())||"")})();if(this.selectedDay=this.$client.container.days.value.find(n=>n.uid==e),this.$route.query.eventId){let n=this.$client.container.eventByUid.value.get(this.$route.query.eventId+"");setTimeout(()=>{let r=document.querySelector(`#event-${n==null?void 0:n.uid}`);r==null||r.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),this.highlightedEventId=(n==null?void 0:n.uid)||"",setTimeout(()=>{this.highlightedEventId=""},2e3)},500)}}else{for(let e of this.$client.container.days.value)if(!(parseInt(e.end)<this.currentSec)){this.selectedDay=e;break}this.selectedDay===void 0&&(this.selectedDay=this.$client.container.days.value[this.$client.container.days.value.length-1])}this.render()},watch:{selectedDay(){var t;this.render(),this.$router.replace({query:{dayId:((t=this.selectedDay)==null?void 0:t.uid)||-1}}),ui("#events-table-day-selector")},filterStages(){this.render()}},components:{ActCard:NE}},NM={class:"center responsive s",style:{"z-index":"10"}},OM={id:"events-table-day-selector"},LM=["onClick"],MM={class:"l m no-space center-align"},xM=["onClick"],VM={style:{height:"100%"}},FM={class:"scroll events-table",style:{display:"block",height:"100%"}},UM={class:"fixed"},$M={class:"surface"},BM={style:{"min-width":"150px"}},jM={style:{position:"sticky",left:"0","padding-bottom":"0"}},HM={class:"primary-text bold",style:{"margin-bottom":"0"}},WM=["colspan","id"],qM={key:1,class:"surface"};function KM(t,e,n,r,s,i){var a;const o=mt("ActCard");return Z(),oe(pe,null,[O("button",NM,[O("span",null,he(t.$t(((a=s.selectedDay)==null?void 0:a.title)||"")),1),e[0]||(e[0]=O("i",null,"arrow_drop_down",-1)),O("menu",OM,[(Z(!0),oe(pe,null,qt(t.$client.container.days.value,l=>(Z(),oe("li",{onClick:u=>i.selectDay(l)},he(t.$t(l.title)),9,LM))),256))])]),O("nav",MM,[(Z(!0),oe(pe,null,qt(t.$client.container.days.value.length,l=>(Z(),oe("button",{class:Fe(["border",[`${l==1?"left":l==t.$client.container.days.value.length?"right":"no"}-round`,{fill:s.selectedDay==t.$client.container.days.value[l-1]}]]),onClick:u=>i.selectDay(t.$client.container.days.value[l-1])},[O("span",null,he(t.$t(t.$client.container.days.value[l-1].title).substring(0,2)),1)],10,xM))),256))]),e[4]||(e[4]=O("div",{class:"space"},null,-1)),O("div",VM,[O("table",FM,[O("thead",UM,[O("tr",$M,[(Z(!0),oe(pe,null,qt(s.timeCells,l=>(Z(),oe("th",BM,he(new Date(l*1e3).toLocaleTimeString("de",{hour:"2-digit",minute:"2-digit"})),1))),256))])]),O("tbody",null,[(Z(!0),oe(pe,null,qt(s.columns,l=>(Z(),oe(pe,null,[O("tr",null,[O("td",jM,[O("p",HM,he(l.label),1)]),(Z(!0),oe(pe,null,qt(s.timeCells.length-1,u=>(Z(),oe("td"))),256))]),O("tr",null,[(Z(!0),oe(pe,null,qt(l.eventEntryByRow,u=>(Z(),oe(pe,null,[u!=null?(Z(),oe("td",{key:0,colspan:u.columnSpan,id:`event-${u.uid}`,class:"surface",style:{"min-width":"300px",position:"sticky",left:"0"}},[je(o,{style:{"min-width":"300px",position:"sticky",left:"0"},model:u,highlighted:u.uid==s.highlightedEventId},null,8,["model","highlighted"])],8,WM)):Ne("",!0),u==null?(Z(),oe("td",qM)):Ne("",!0)],64))),256))])],64))),256))]),e[1]||(e[1]=O("br",null,null,-1)),e[2]||(e[2]=O("br",null,null,-1)),e[3]||(e[3]=O("br",null,null,-1))])])],64)}const GM=At(DM,[["render",KM]]),zM={data(){return{loaded:!1,filteredStageIds:[],finalFilteredStageIds:[],save:!1,hasFestivalEnded:!1}},methods:{toggleFilter(t){this.filteredStageIds.includes(t)?this.filteredStageIds=this.filteredStageIds.filter(e=>e!=t):this.filteredStageIds.push(t)},openStageSelectionDialog(){this.$router.push({query:{dialogFilterStages:"true",...this.$route.query}})}},mounted(){if(localStorage.getItem("filterStages")!=null)try{let e=JSON.parse(localStorage.getItem("filterStages")||"");this.filteredStageIds=e,this.finalFilteredStageIds=e}catch(e){console.error(e)}(async()=>{var e;for(;((e=this.$client.space)==null?void 0:e.loaded)!=!0;)await dc(50);this.loaded=!0})();let t=Math.max(...this.$client.container.events.map(e=>e.end))*1e3;this.hasFestivalEnded=Date.now()>t},beforeRouteUpdate(t,e){e.query.dialogFilterStages&&!t.query.dialogFilterStages&&(console.info("closed filter stages dialog"),this.finalFilteredStageIds=[...this.filteredStageIds],this.save&&localStorage.setItem("filterStages",JSON.stringify(this.finalFilteredStageIds)))},components:{AppBar:OE,EventsTable:GM}},YM={key:0,class:"badge"},QM={class:"responsive max"},JM={key:1,class:"middle-align center-align",style:{height:"100%"}},XM={class:"medium middle-align center-align"},ZM={class:"center-align"},e4={class:"center-align"},t4={class:"center-align"},n4={key:2,class:"middle-align center-align",style:{height:"100%"}},r4={class:"medium middle-align center-align"},s4={class:"center-align"},i4={class:"center-align"},o4=["onClick"],a4={class:"max"},l4={class:"switch"},c4=["checked","onClick"],u4={class:"max"},h4={class:"switch"},f4=["checked"],d4={class:"right-align no-space"};function m4(t,e,n,r,s,i){var l,u,h,f,m;const o=mt("AppBar"),a=mt("EventsTable");return Z(),oe(pe,null,[je(o,{label:s.loaded&&((l=t.$client.space)!=null&&l.name)?(u=t.$client.space)==null?void 0:u.name:t.$t("navigation.overview")},_b({_:2},[(h=t.$client.container.festival.value)!=null&&h.runningOrderActive?{name:"prepend",fn:Kf(()=>[O("button",{class:"circle transparent",onClick:e[0]||(e[0]=g=>i.openStageSelectionDialog())},[e[6]||(e[6]=O("i",null,"tune",-1)),s.finalFilteredStageIds.length>0?(Z(),oe("div",YM,he(s.finalFilteredStageIds.length),1)):Ne("",!0)])]),key:"0"}:void 0]),1032,["label"]),O("main",QM,[(f=t.$client.container.festival.value)!=null&&f.runningOrderActive&&!s.hasFestivalEnded?(Z(),ln(a,{key:0,filterStages:s.finalFilteredStageIds},null,8,["filterStages"])):Ne("",!0),((m=t.$client.container.festival.value)==null?void 0:m.runningOrderActive)!=!0?(Z(),oe("div",JM,[O("article",XM,[O("div",null,[e[7]||(e[7]=O("i",{class:"extra"},"tune",-1)),O("h5",ZM,he(t.$t("home.runningOrderInactive.title")),1),O("p",e4,he(t.$t("home.runningOrderInactive.message")),1),e[8]||(e[8]=O("div",{class:"space"},null,-1)),O("nav",t4,[O("button",{onClick:e[1]||(e[1]=g=>t.$router.push("/acts"))},he(t.$t("common.showActs")),1)])])])])):Ne("",!0),s.hasFestivalEnded?(Z(),oe("div",n4,[O("article",r4,[O("div",null,[e[9]||(e[9]=O("i",{class:"extra"},"skull",-1)),O("h5",s4,he(t.$t("home.festivalEnded.title")),1),O("p",i4,he(t.$t("home.festivalEnded.message")),1)])])])):Ne("",!0)]),O("div",{class:Fe(["overlay",{active:t.$route.query.dialogFilterStages}]),onClick:e[2]||(e[2]=g=>t.$router.back())},null,2),O("dialog",{class:Fe({active:t.$route.query.dialogFilterStages})},[O("h5",null,he(t.$t("home.dialog.filterStages.title")),1),O("article",null,[(Z(!0),oe(pe,null,qt(t.$client.container.stages.value,g=>(Z(),oe(pe,null,[e[11]||(e[11]=O("div",{class:"space"},null,-1)),O("div",{class:"field middle-align",style:{cursor:"pointer","margin-block-end":"1rem"},onClick:E=>i.toggleFilter(g.uid)},[O("nav",null,[O("div",a4,[O("h6",null,he(g.title),1)]),O("label",l4,[O("input",{type:"checkbox",checked:!s.filteredStageIds.includes(g.uid),onClick:E=>i.toggleFilter(g.uid)},null,8,c4),e[10]||(e[10]=O("span",null,null,-1))])])],8,o4)],64))),256))]),e[13]||(e[13]=O("div",{class:"space"},null,-1)),O("div",{class:"field middle-align",onClick:e[4]||(e[4]=g=>s.save=!s.save)},[O("nav",null,[O("div",u4,[O("h6",null,he(t.$t("home.dialog.filterStages.save.title")),1),O("div",null,he(t.$t("home.dialog.filterStages.save.description")),1)]),O("label",h4,[O("input",{type:"checkbox",checked:s.save,onClick:e[3]||(e[3]=g=>s.save=!s.save)},null,8,f4),e[12]||(e[12]=O("span",null,null,-1))])])]),e[14]||(e[14]=O("div",{class:"space"},null,-1)),O("nav",d4,[O("button",{class:"no-elevate",onClick:e[5]||(e[5]=g=>t.$router.back())},he(t.$t("common.ok")),1)])],2)],64)}const g4=At(zM,[["render",m4]]);function p4(t){return(new DOMParser().parseFromString(t,"text/html").body.textContent||"").trim()}const _4={data(){return{WoaEventModelWrapper:Js}},props:{model:{type:Object,required:!0},notLazy:{type:Boolean,default:!1}},methods:{removeHTMLTags(t){return p4(t)},openDialog(){this.$router.push({query:{details:this.model.uid}})},toggleSuggested(){var t,e;if(this.$ctx.currentUser.value===void 0){this.openLoginNeededDialog.value=!0;return}(e=(t=this.$client.space)==null?void 0:t.self)==null||e.toggleSuggested(this.model.uid)},toggleLike(){var t,e;if(this.$ctx.currentUser.value===void 0){this.openLoginNeededDialog.value=!0;return}(e=(t=this.$client.space)==null?void 0:t.self)==null||e.toggleLike(this.model.uid)}},components:{EventDetailsChips:tm}},y4={class:"absolute top right right padding white-text",style:{"z-index":"10"}},v4={key:0,class:"responsive large"},E4=["src"],w4={key:2,class:"absolute bottom left padding white-text rounded",style:{"z-index":"10","max-width":"50%",overflow:"hidden"}},I4={class:"blur small-padding",style:{display:"flex","flex-direction":"row","flex-wrap":"nowrap",overflow:"hidden"}},T4={key:3,class:"absolute bottom right padding white-text rounded",style:{"z-index":"10","max-width":"50%",overflow:"hidden"}},b4={class:"blur small-padding",style:{display:"flex","flex-direction":"row","flex-wrap":"nowrap",overflow:"hidden"}},A4={class:"padding",style:{"padding-bottom":"0 !important"}},C4={style:{display:"block","text-overflow":"ellipsis","word-wrap":"break-word",overflow:"hidden","max-height":"3.6em","line-height":"1.2em"}},S4={class:"padding"},P4={style:{display:"block","text-overflow":"ellipsis","word-wrap":"break-word",overflow:"hidden","max-height":"5em","line-height":"1.8em"}};function R4(t,e,n,r,s,i){var l,u,h,f,m,g,E,w,R,L;const o=mt("EventDetailsChips"),a=f0("lazy");return n.model!=null?(Z(),oe("article",{key:0,class:Fe(["no-padding",[(u=(l=t.$client.space)==null?void 0:l.self)!=null&&u.isLiked(n.model.uid)?"primary":n.model.likerIds.length>0||n.model.suggestorIds.length>0?"secondary":""]])},[O("div",y4,[O("button",{class:"blur circle",onClick:e[0]||(e[0]=S=>i.toggleSuggested())},[O("i",{class:Fe({fill:(f=(h=t.$client.space)==null?void 0:h.self)==null?void 0:f.isSuggested(n.model.uid),"primary-text":(g=(m=t.$client.space)==null?void 0:m.self)==null?void 0:g.isSuggested(n.model.uid)})},"thumb_up",2)]),O("button",{class:"blur circle",onClick:e[1]||(e[1]=S=>i.toggleLike())},[O("i",{class:Fe({fill:(w=(E=t.$client.space)==null?void 0:E.self)==null?void 0:w.isLiked(n.model.uid),"primary-text":(L=(R=t.$client.space)==null?void 0:R.self)==null?void 0:L.isLiked(n.model.uid)})},"favorite",2)])]),O("div",{onClick:e[2]||(e[2]=S=>i.openDialog()),class:"wave wave-big",style:{cursor:"pointer"}},[O("div",null,[n.notLazy?Ne("",!0):Bo((Z(),oe("img",v4,null,512)),[[a,{src:n.model.cardThumbnailUrl()}]]),n.notLazy?(Z(),oe("img",{key:1,class:"responsive large",src:n.model.cardThumbnailUrl()},null,8,E4)):Ne("",!0),n.model.suggestorIds.length>0?(Z(),oe("div",w4,[O("div",I4,[(Z(!0),oe(pe,null,qt(n.model.suggestorIds,S=>{var T;return Z(),oe("i",{class:Fe(["fill",[`${(T=t.$client.container.spaceMemberById.get(S))==null?void 0:T.color}-text`]]),style:{scale:.7}}," thumb_up ",2)}),256))])])):Ne("",!0),n.model.likerIds.length>0?(Z(),oe("div",T4,[O("div",b4,[(Z(!0),oe(pe,null,qt(n.model.likerIds,S=>{var T;return Z(),oe("i",{class:Fe(["fill",[`${(T=t.$client.container.spaceMemberById.get(S))==null?void 0:T.color}-text`]]),style:{scale:.7}}," favorite ",2)}),256))])])):Ne("",!0)]),O("div",A4,[O("h5",C4,he(n.model.cardTitle()),1)]),n.model instanceof s.WoaEventModelWrapper?(Z(),ln(o,{key:0,event:n.model},null,8,["event"])):Ne("",!0),O("div",S4,[O("p",P4,he(i.removeHTMLTags(n.model.cardDescription())),1)])])],2)):Ne("",!0)}const k4=At(_4,[["render",R4]]);function Wr(t){return Array.isArray?Array.isArray(t):xE(t)==="[object Array]"}function D4(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function N4(t){return t==null?"":D4(t)}function er(t){return typeof t=="string"}function LE(t){return typeof t=="number"}function O4(t){return t===!0||t===!1||L4(t)&&xE(t)=="[object Boolean]"}function ME(t){return typeof t=="object"}function L4(t){return ME(t)&&t!==null}function Cn(t){return t!=null}function th(t){return!t.trim().length}function xE(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const M4="Incorrect 'index' type",x4=t=>`Invalid value for key ${t}`,V4=t=>`Pattern length exceeds max of ${t}.`,F4=t=>`Missing ${t} property in key`,U4=t=>`Property 'weight' in key '${t}' must be a positive integer`,S_=Object.prototype.hasOwnProperty;class $4{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let s=VE(r);this._keys.push(s),this._keyMap[s.id]=s,n+=s.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function VE(t){let e=null,n=null,r=null,s=1,i=null;if(er(t)||Wr(t))r=t,e=P_(t),n=Zh(t);else{if(!S_.call(t,"name"))throw new Error(F4("name"));const o=t.name;if(r=o,S_.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(U4(o));e=P_(o),n=Zh(o),i=t.getFn}return{path:e,id:n,weight:s,src:r,getFn:i}}function P_(t){return Wr(t)?t:t.split(".")}function Zh(t){return Wr(t)?t.join("."):t}function B4(t,e){let n=[],r=!1;const s=(i,o,a)=>{if(Cn(i))if(!o[a])n.push(i);else{let l=o[a];const u=i[l];if(!Cn(u))return;if(a===o.length-1&&(er(u)||LE(u)||O4(u)))n.push(N4(u));else if(Wr(u)){r=!0;for(let h=0,f=u.length;h<f;h+=1)s(u[h],o,a+1)}else o.length&&s(u,o,a+1)}};return s(t,er(e)?e.split("."):e,0),r?n:n[0]}const j4={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},H4={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},W4={location:0,threshold:.6,distance:100},q4={useExtendedSearch:!1,getFn:B4,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Ee={...H4,...j4,...W4,...q4};const K4=/[^ ]+/g;function G4(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(s){const i=s.match(K4).length;if(n.has(i))return n.get(i);const o=1/Math.pow(i,.5*t),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear(){n.clear()}}}class nm{constructor({getFn:e=Ee.getFn,fieldNormWeight:n=Ee.fieldNormWeight}={}){this.norm=G4(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,er(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();er(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!Cn(e)||th(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((s,i)=>{let o=s.getFn?s.getFn(e):this.getFn(e,s.path);if(Cn(o)){if(Wr(o)){let a=[];const l=[{nestedArrIndex:-1,value:o}];for(;l.length;){const{nestedArrIndex:u,value:h}=l.pop();if(Cn(h))if(er(h)&&!th(h)){let f={v:h,i:u,n:this.norm.get(h)};a.push(f)}else Wr(h)&&h.forEach((f,m)=>{l.push({nestedArrIndex:m,value:f})})}r.$[i]=a}else if(er(o)&&!th(o)){let a={v:o,n:this.norm.get(o)};r.$[i]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function FE(t,e,{getFn:n=Ee.getFn,fieldNormWeight:r=Ee.fieldNormWeight}={}){const s=new nm({getFn:n,fieldNormWeight:r});return s.setKeys(t.map(VE)),s.setSources(e),s.create(),s}function z4(t,{getFn:e=Ee.getFn,fieldNormWeight:n=Ee.fieldNormWeight}={}){const{keys:r,records:s}=t,i=new nm({getFn:e,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(s),i}function vl(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:s=Ee.distance,ignoreLocation:i=Ee.ignoreLocation}={}){const o=e/t.length;if(i)return o;const a=Math.abs(r-n);return s?o+a/s:a?1:o}function Y4(t=[],e=Ee.minMatchCharLength){let n=[],r=-1,s=-1,i=0;for(let o=t.length;i<o;i+=1){let a=t[i];a&&r===-1?r=i:!a&&r!==-1&&(s=i-1,s-r+1>=e&&n.push([r,s]),r=-1)}return t[i-1]&&i-r>=e&&n.push([r,i-1]),n}const Ws=32;function Q4(t,e,n,{location:r=Ee.location,distance:s=Ee.distance,threshold:i=Ee.threshold,findAllMatches:o=Ee.findAllMatches,minMatchCharLength:a=Ee.minMatchCharLength,includeMatches:l=Ee.includeMatches,ignoreLocation:u=Ee.ignoreLocation}={}){if(e.length>Ws)throw new Error(V4(Ws));const h=e.length,f=t.length,m=Math.max(0,Math.min(r,f));let g=i,E=m;const w=a>1||l,R=w?Array(f):[];let L;for(;(L=t.indexOf(e,E))>-1;){let y=vl(e,{currentLocation:L,expectedLocation:m,distance:s,ignoreLocation:u});if(g=Math.min(y,g),E=L+h,w){let _=0;for(;_<h;)R[L+_]=1,_+=1}}E=-1;let S=[],T=1,A=h+f;const U=1<<h-1;for(let y=0;y<h;y+=1){let _=0,v=A;for(;_<v;)vl(e,{errors:y,currentLocation:m+v,expectedLocation:m,distance:s,ignoreLocation:u})<=g?_=v:A=v,v=Math.floor((A-_)/2+_);A=v;let N=Math.max(1,m-v+1),V=o?f:Math.min(m+v,f)+h,x=Array(V+2);x[V+1]=(1<<y)-1;for(let be=V;be>=N;be-=1){let Ge=be-1,ke=n[t.charAt(Ge)];if(w&&(R[Ge]=+!!ke),x[be]=(x[be+1]<<1|1)&ke,y&&(x[be]|=(S[be+1]|S[be])<<1|1|S[be+1]),x[be]&U&&(T=vl(e,{errors:y,currentLocation:Ge,expectedLocation:m,distance:s,ignoreLocation:u}),T<=g)){if(g=T,E=Ge,E<=m)break;N=Math.max(1,2*m-E)}}if(vl(e,{errors:y+1,currentLocation:m,expectedLocation:m,distance:s,ignoreLocation:u})>g)break;S=x}const F={isMatch:E>=0,score:Math.max(.001,T)};if(w){const y=Y4(R,a);y.length?l&&(F.indices=y):F.isMatch=!1}return F}function J4(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const s=t.charAt(n);e[s]=(e[s]||0)|1<<r-n-1}return e}const mc=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class UE{constructor(e,{location:n=Ee.location,threshold:r=Ee.threshold,distance:s=Ee.distance,includeMatches:i=Ee.includeMatches,findAllMatches:o=Ee.findAllMatches,minMatchCharLength:a=Ee.minMatchCharLength,isCaseSensitive:l=Ee.isCaseSensitive,ignoreDiacritics:u=Ee.ignoreDiacritics,ignoreLocation:h=Ee.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:h},e=l?e:e.toLowerCase(),e=u?mc(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const f=(g,E)=>{this.chunks.push({pattern:g,alphabet:J4(g),startIndex:E})},m=this.pattern.length;if(m>Ws){let g=0;const E=m%Ws,w=m-E;for(;g<w;)f(this.pattern.substr(g,Ws),g),g+=Ws;if(E){const R=m-Ws;f(this.pattern.substr(R),R)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s}=this.options;if(e=n?e:e.toLowerCase(),e=r?mc(e):e,this.pattern===e){let w={isMatch:!0,score:0};return s&&(w.indices=[[0,e.length-1]]),w}const{location:i,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:u,ignoreLocation:h}=this.options;let f=[],m=0,g=!1;this.chunks.forEach(({pattern:w,alphabet:R,startIndex:L})=>{const{isMatch:S,score:T,indices:A}=Q4(e,w,R,{location:i+L,distance:o,threshold:a,findAllMatches:l,minMatchCharLength:u,includeMatches:s,ignoreLocation:h});S&&(g=!0),m+=T,S&&A&&(f=[...f,...A])});let E={isMatch:g,score:g?m/this.chunks.length:1};return g&&s&&(E.indices=f),E}}class ks{constructor(e){this.pattern=e}static isMultiMatch(e){return R_(e,this.multiRegex)}static isSingleMatch(e){return R_(e,this.singleRegex)}search(){}}function R_(t,e){const n=t.match(e);return n?n[1]:null}class X4 extends ks{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Z4 extends ks{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class ex extends ks{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class tx extends ks{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class nx extends ks{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class rx extends ks{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class $E extends ks{constructor(e,{location:n=Ee.location,threshold:r=Ee.threshold,distance:s=Ee.distance,includeMatches:i=Ee.includeMatches,findAllMatches:o=Ee.findAllMatches,minMatchCharLength:a=Ee.minMatchCharLength,isCaseSensitive:l=Ee.isCaseSensitive,ignoreDiacritics:u=Ee.ignoreDiacritics,ignoreLocation:h=Ee.ignoreLocation}={}){super(e),this._bitapSearch=new UE(e,{location:n,threshold:r,distance:s,includeMatches:i,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:u,ignoreLocation:h})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class BE extends ks{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const s=[],i=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+i,s.push([r,n-1]);const o=!!s.length;return{isMatch:o,score:o?0:1,indices:s}}}const ef=[X4,BE,ex,tx,rx,nx,Z4,$E],k_=ef.length,sx=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ix="|";function ox(t,e={}){return t.split(ix).map(n=>{let r=n.trim().split(sx).filter(i=>i&&!!i.trim()),s=[];for(let i=0,o=r.length;i<o;i+=1){const a=r[i];let l=!1,u=-1;for(;!l&&++u<k_;){const h=ef[u];let f=h.isMultiMatch(a);f&&(s.push(new h(f,e)),l=!0)}if(!l)for(u=-1;++u<k_;){const h=ef[u];let f=h.isSingleMatch(a);if(f){s.push(new h(f,e));break}}}return s})}const ax=new Set([$E.type,BE.type]);class lx{constructor(e,{isCaseSensitive:n=Ee.isCaseSensitive,ignoreDiacritics:r=Ee.ignoreDiacritics,includeMatches:s=Ee.includeMatches,minMatchCharLength:i=Ee.minMatchCharLength,ignoreLocation:o=Ee.ignoreLocation,findAllMatches:a=Ee.findAllMatches,location:l=Ee.location,threshold:u=Ee.threshold,distance:h=Ee.distance}={}){this.query=null,this.options={isCaseSensitive:n,ignoreDiacritics:r,includeMatches:s,minMatchCharLength:i,findAllMatches:a,ignoreLocation:o,location:l,threshold:u,distance:h},e=n?e:e.toLowerCase(),e=r?mc(e):e,this.pattern=e,this.query=ox(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s,ignoreDiacritics:i}=this.options;e=s?e:e.toLowerCase(),e=i?mc(e):e;let o=0,a=[],l=0;for(let u=0,h=n.length;u<h;u+=1){const f=n[u];a.length=0,o=0;for(let m=0,g=f.length;m<g;m+=1){const E=f[m],{isMatch:w,indices:R,score:L}=E.search(e);if(w){if(o+=1,l+=L,r){const S=E.constructor.type;ax.has(S)?a=[...a,...R]:a.push(R)}}else{l=0,o=0,a.length=0;break}}if(o){let m={isMatch:!0,score:l/o};return r&&(m.indices=a),m}}return{isMatch:!1,score:1}}}const tf=[];function cx(...t){tf.push(...t)}function nf(t,e){for(let n=0,r=tf.length;n<r;n+=1){let s=tf[n];if(s.condition(t,e))return new s(t,e)}return new UE(t,e)}const gc={AND:"$and",OR:"$or"},rf={PATH:"$path",PATTERN:"$val"},sf=t=>!!(t[gc.AND]||t[gc.OR]),ux=t=>!!t[rf.PATH],hx=t=>!Wr(t)&&ME(t)&&!sf(t),D_=t=>({[gc.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function jE(t,e,{auto:n=!0}={}){const r=s=>{let i=Object.keys(s);const o=ux(s);if(!o&&i.length>1&&!sf(s))return r(D_(s));if(hx(s)){const l=o?s[rf.PATH]:i[0],u=o?s[rf.PATTERN]:s[l];if(!er(u))throw new Error(x4(l));const h={keyId:Zh(l),pattern:u};return n&&(h.searcher=nf(u,e)),h}let a={children:[],operator:i[0]};return i.forEach(l=>{const u=s[l];Wr(u)&&u.forEach(h=>{a.children.push(r(h))})}),a};return sf(t)||(t=D_(t)),r(t)}function fx(t,{ignoreFieldNorm:e=Ee.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:s,norm:i,score:o})=>{const a=s?s.weight:null;r*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:i))}),n.score=r})}function dx(t,e){const n=t.matches;e.matches=[],Cn(n)&&n.forEach(r=>{if(!Cn(r.indices)||!r.indices.length)return;const{indices:s,value:i}=r;let o={indices:s,value:i};r.key&&(o.key=r.key.src),r.idx>-1&&(o.refIndex=r.idx),e.matches.push(o)})}function mx(t,e){e.score=t.score}function gx(t,e,{includeMatches:n=Ee.includeMatches,includeScore:r=Ee.includeScore}={}){const s=[];return n&&s.push(dx),r&&s.push(mx),t.map(i=>{const{idx:o}=i,a={item:e[o],refIndex:o};return s.length&&s.forEach(l=>{l(i,a)}),a})}class oo{constructor(e,n={},r){this.options={...Ee,...n},this.options.useExtendedSearch,this._keyStore=new $4(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof nm))throw new Error(M4);this._myIndex=n||FE(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){Cn(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,s=this._docs.length;r<s;r+=1){const i=this._docs[r];e(i,r)&&(this.removeAt(r),r-=1,s-=1,n.push(i))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:i,sortFn:o,ignoreFieldNorm:a}=this.options;let l=er(e)?er(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return fx(l,{ignoreFieldNorm:a}),i&&l.sort(o),LE(n)&&n>-1&&(l=l.slice(0,n)),gx(l,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(e){const n=nf(e,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:i,i:o,n:a})=>{if(!Cn(i))return;const{isMatch:l,score:u,indices:h}=n.searchIn(i);l&&s.push({item:i,idx:o,matches:[{score:u,value:i,norm:a,indices:h}]})}),s}_searchLogical(e){const n=jE(e,this.options),r=(a,l,u)=>{if(!a.children){const{keyId:f,searcher:m}=a,g=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:m});return g&&g.length?[{idx:u,item:l,matches:g}]:[]}const h=[];for(let f=0,m=a.children.length;f<m;f+=1){const g=a.children[f],E=r(g,l,u);if(E.length)h.push(...E);else if(a.operator===gc.AND)return[]}return h},s=this._myIndex.records,i={},o=[];return s.forEach(({$:a,i:l})=>{if(Cn(a)){let u=r(n,a,l);u.length&&(i[l]||(i[l]={idx:l,item:a,matches:[]},o.push(i[l])),u.forEach(({matches:h})=>{i[l].matches.push(...h)}))}}),o}_searchObjectList(e){const n=nf(e,this.options),{keys:r,records:s}=this._myIndex,i=[];return s.forEach(({$:o,i:a})=>{if(!Cn(o))return;let l=[];r.forEach((u,h)=>{l.push(...this._findMatches({key:u,value:o[h],searcher:n}))}),l.length&&i.push({idx:a,item:o,matches:l})}),i}_findMatches({key:e,value:n,searcher:r}){if(!Cn(n))return[];let s=[];if(Wr(n))n.forEach(({v:i,i:o,n:a})=>{if(!Cn(i))return;const{isMatch:l,score:u,indices:h}=r.searchIn(i);l&&s.push({score:u,key:e,value:i,idx:o,norm:a,indices:h})});else{const{v:i,n:o}=n,{isMatch:a,score:l,indices:u}=r.searchIn(i);a&&s.push({score:l,key:e,value:i,norm:o,indices:u})}return s}}oo.version="7.1.0";oo.createIndex=FE;oo.parseIndex=z4;oo.config=Ee;oo.parseQuery=jE;cx(lx);const px={data(){return{query:"",queryTimeout:0,queryResults:void 0,resultsShown:10,filterPerformance:"",availablePerformances:[],sortTime:!1}},methods:{processQuery(){if(this.query.length<2){this.queryResults=[...this.$client.container.combinedActs],this.filterPerformance.length>0&&(this.queryResults=this.queryResults.filter(e=>e.performance()==this.filterPerformance)),this.sortTime&&this.sortQueryResultsAfterTime();return}const t=new oo(this.$client.container.combinedActs,{keys:["_cardTitle"],includeScore:!0});this.queryResults=[];for(let e of t.search(this.query))(e.score||0)>.5||this.queryResults.push(e.item);this.filterPerformance.length>0&&(this.queryResults=this.queryResults.filter(e=>e.performance()==this.filterPerformance)),this.sortTime&&this.sortQueryResultsAfterTime()},sortQueryResultsAfterTime(){var e,n;let t=new Date().getTime()/1e3;this.queryResults=(e=this.queryResults)==null?void 0:e.filter(r=>r instanceof Js?r.end>t:!0),(n=this.queryResults)==null||n.sort((r,s)=>r instanceof Js&&s instanceof Js?r.start-s.start:0)},async showMore(){var t;this.resultsShown>(((t=this.queryResults)==null?void 0:t.length)||1/0)||(this.resultsShown=this.resultsShown+10,await dc(50),this.mountObserver())},async mountObserver(){for(;;){if(await dc(50),this.$refs["grid-end"]===void 0)continue;let t=this.$refs["grid-end"][0];new IntersectionObserver(n=>{n[0].isIntersecting&&this.showMore()}).observe(t);break}}},mounted(){this.availablePerformances=[...new Set(this.$client.container.combinedActs.map(t=>t.performance()))],this.processQuery(),this.mountObserver()},watch:{query(){clearTimeout(this.queryTimeout),this.queryTimeout=setTimeout(()=>{this.processQuery(),this.mountObserver()},1e3)},filterPerformance(){this.processQuery(),this.mountObserver()},sortTime(){this.processQuery(),this.mountObserver()}},components:{AppBar:OE,BigActCard:k4}},_x={class:"responsive max scroll"},yx={class:"grid"},vx={class:"s7 m8 l9"},Ex={class:"field large prefix round fill"},wx=["placeholder"],Ix={class:"s5 m4 l3"},Tx={class:"field large suffix round fill"},bx={class:"max"},Ax={class:"switch"},Cx={class:"flex right-align"},Sx={style:{"margin-right":"16px"}},Px={class:"grid"},Rx={class:"s12 m6 l4"};function kx(t,e,n,r,s,i){var l,u;const o=mt("AppBar"),a=mt("BigActCard");return Z(),oe(pe,null,[je(o,{label:t.$t("navigation.acts")},null,8,["label"]),O("main",_x,[O("div",yx,[O("div",vx,[O("div",Ex,[e[5]||(e[5]=O("i",{class:"front"},"search",-1)),Bo(O("input",{class:"search",placeholder:t.$t("acts.search.placeholder"),"onUpdate:modelValue":e[0]||(e[0]=h=>s.query=h)},null,8,wx),[[CA,s.query]])])]),O("div",Ix,[O("div",Tx,[Bo(O("select",{"onUpdate:modelValue":e[1]||(e[1]=h=>s.filterPerformance=h)},[e[6]||(e[6]=O("option",{value:""},"All",-1)),(Z(!0),oe(pe,null,qt(s.availablePerformances,h=>(Z(),oe("option",null,he(h),1))),256))],512),[[PA,s.filterPerformance]]),e[7]||(e[7]=O("i",null,"arrow_drop_down",-1))])])]),O("div",{class:"field prefix middle-align",onClick:e[4]||(e[4]=h=>s.sortTime=!s.sortTime)},[O("nav",null,[e[9]||(e[9]=O("i",null,"schedule",-1)),O("div",bx,[O("h6",null,he(t.$t("acts.filter.sortTime.label")),1),O("div",null,he(t.$t("acts.filter.sortTime.description")),1)]),O("label",Ax,[Bo(O("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=h=>s.sortTime=h),onClick:e[3]||(e[3]=h=>s.sortTime=!s.sortTime)},null,512),[[SA,s.sortTime]]),e[8]||(e[8]=O("span",null,null,-1))])])]),O("div",Cx,[O("span",Sx,he(t.$tc("acts.results",((l=s.queryResults)==null?void 0:l.length)||0)),1)]),O("div",Px,[(Z(!0),oe(pe,null,qt((u=s.queryResults)==null?void 0:u.length,h=>(Z(),oe(pe,null,[h<s.resultsShown?(Z(),oe(pe,{key:0},[O("div",Rx,[je(a,{model:s.queryResults[h-1]},null,8,["model"])]),h==s.resultsShown-4?(Z(),oe("span",{key:0,ref_for:!0,ref:"grid-end"},null,512)):Ne("",!0)],64)):Ne("",!0)],64))),256))])])],64)}const Dx=At(px,[["render",kx]]),Nx=NO({history:aO("/"),routes:[{path:"/",name:"overview",component:g4,meta:{navId:"home",requiresAuth:!1}},{path:"/acts",name:"acts",component:Dx,meta:{navId:"acts",requiresAuth:!1}},{path:"/discover",name:"discover",component:()=>Tr(()=>import("./DiscoverView-CgoXlk3B.js"),__vite__mapDeps([0,1])),meta:{navId:"discover"}},{path:"/members",name:"members",component:()=>Tr(()=>import("./MembersView-ByzlVEjG.js"),__vite__mapDeps([2,3])),meta:{navId:"members"}},{path:"/settings",name:"settings",component:()=>Tr(()=>import("./SettingsView-Cv3-bdP3.js"),[]),meta:{navId:"settings"}},{path:"/login",name:"login",component:()=>Tr(()=>Promise.resolve().then(()=>yL),void 0),meta:{navId:"login",requiresAuth:!1}},{path:"/login/mail",name:"login via mail",component:()=>Tr(()=>import("./LoginMailView-LlKUwV0d.js"),[]),meta:{navId:"login",requiresAuth:!1}},{path:"/join",name:"join",component:()=>Tr(()=>import("./JoinView-DvgBFns0.js"),[]),meta:{requiresAuth:!1,hideNavigation:!0}}]});/*!
  * shared v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const pc=typeof window<"u",Ds=(t,e=!1)=>e?Symbol.for(t):Symbol(t),Ox=(t,e,n)=>Lx({l:t,k:e,s:n}),Lx=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),wt=t=>typeof t=="number"&&isFinite(t),Mx=t=>WE(t)==="[object Date]",bs=t=>WE(t)==="[object RegExp]",ru=t=>Ae(t)&&Object.keys(t).length===0,Qt=Object.assign,xx=Object.create,Ze=(t=null)=>xx(t);let N_;const Pr=()=>N_||(N_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ze());function O_(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Vx=Object.prototype.hasOwnProperty;function jn(t,e){return Vx.call(t,e)}const ct=Array.isArray,it=t=>typeof t=="function",ce=t=>typeof t=="string",Me=t=>typeof t=="boolean",Ke=t=>t!==null&&typeof t=="object",Fx=t=>Ke(t)&&it(t.then)&&it(t.catch),HE=Object.prototype.toString,WE=t=>HE.call(t),Ae=t=>{if(!Ke(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},Ux=t=>t==null?"":ct(t)||Ae(t)&&t.toString===HE?JSON.stringify(t,null,2):String(t);function $x(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}function su(t){let e=t;return()=>++e}function Bx(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const El=t=>!Ke(t)||ct(t);function Vl(t,e){if(El(t)||El(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:s}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(Ke(r[i])&&!Ke(s[i])&&(s[i]=Array.isArray(r[i])?[]:Ze()),El(s[i])||El(r[i])?s[i]=r[i]:n.push({src:r[i],des:s[i]}))})}}/*!
  * message-compiler v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function jx(t,e,n){return{line:t,column:e,offset:n}}function _c(t,e,n){return{start:t,end:e}}const Hx=/\{([0-9a-zA-Z]+)\}/g;function qE(t,...e){return e.length===1&&Wx(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(Hx,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const KE=Object.assign,L_=t=>typeof t=="string",Wx=t=>t!==null&&typeof t=="object";function GE(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}const rm={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},qx={[rm.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function Kx(t,e,...n){const r=qE(qx[t],...n||[]),s={message:String(r),code:t};return e&&(s.location=e),s}const ve={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Gx={[ve.EXPECTED_TOKEN]:"Expected token: '{0}'",[ve.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[ve.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[ve.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[ve.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[ve.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[ve.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[ve.EMPTY_PLACEHOLDER]:"Empty placeholder",[ve.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[ve.INVALID_LINKED_FORMAT]:"Invalid linked format",[ve.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[ve.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[ve.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[ve.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[ve.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[ve.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function ao(t,e,n={}){const{domain:r,messages:s,args:i}=n,o=qE((s||Gx)[t]||"",...i||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}function zx(t){throw t}const Er=" ",Yx="\r",mn=`
`,Qx="\u2028",Jx="\u2029";function Xx(t){const e=t;let n=0,r=1,s=1,i=0;const o=y=>e[y]===Yx&&e[y+1]===mn,a=y=>e[y]===mn,l=y=>e[y]===Jx,u=y=>e[y]===Qx,h=y=>o(y)||a(y)||l(y)||u(y),f=()=>n,m=()=>r,g=()=>s,E=()=>i,w=y=>o(y)||l(y)||u(y)?mn:e[y],R=()=>w(n),L=()=>w(n+i);function S(){return i=0,h(n)&&(r++,s=0),o(n)&&n++,n++,s++,e[n]}function T(){return o(n+i)&&i++,i++,e[n+i]}function A(){n=0,r=1,s=1,i=0}function U(y=0){i=y}function F(){const y=n+i;for(;y!==n;)S();i=0}return{index:f,line:m,column:g,peekOffset:E,charAt:w,currentChar:R,currentPeek:L,next:S,peek:T,reset:A,resetPeek:U,skipToPeek:F}}const es=void 0,Zx=".",M_="'",eV="tokenizer";function tV(t,e={}){const n=e.location!==!1,r=Xx(t),s=()=>r.index(),i=()=>jx(r.line(),r.column(),r.index()),o=i(),a=s(),l={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},u=()=>l,{onError:h}=e;function f(b,C,j,...K){const ne=u();if(C.column+=j,C.offset+=j,h){const ee=n?_c(ne.startLoc,C):null,$=ao(b,ee,{domain:eV,args:K});h($)}}function m(b,C,j){b.endLoc=i(),b.currentType=C;const K={type:C};return n&&(K.loc=_c(b.startLoc,b.endLoc)),j!=null&&(K.value=j),K}const g=b=>m(b,14);function E(b,C){return b.currentChar()===C?(b.next(),C):(f(ve.EXPECTED_TOKEN,i(),0,C),"")}function w(b){let C="";for(;b.currentPeek()===Er||b.currentPeek()===mn;)C+=b.currentPeek(),b.peek();return C}function R(b){const C=w(b);return b.skipToPeek(),C}function L(b){if(b===es)return!1;const C=b.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C===95}function S(b){if(b===es)return!1;const C=b.charCodeAt(0);return C>=48&&C<=57}function T(b,C){const{currentType:j}=C;if(j!==2)return!1;w(b);const K=L(b.currentPeek());return b.resetPeek(),K}function A(b,C){const{currentType:j}=C;if(j!==2)return!1;w(b);const K=b.currentPeek()==="-"?b.peek():b.currentPeek(),ne=S(K);return b.resetPeek(),ne}function U(b,C){const{currentType:j}=C;if(j!==2)return!1;w(b);const K=b.currentPeek()===M_;return b.resetPeek(),K}function F(b,C){const{currentType:j}=C;if(j!==8)return!1;w(b);const K=b.currentPeek()===".";return b.resetPeek(),K}function y(b,C){const{currentType:j}=C;if(j!==9)return!1;w(b);const K=L(b.currentPeek());return b.resetPeek(),K}function _(b,C){const{currentType:j}=C;if(!(j===8||j===12))return!1;w(b);const K=b.currentPeek()===":";return b.resetPeek(),K}function v(b,C){const{currentType:j}=C;if(j!==10)return!1;const K=()=>{const ee=b.currentPeek();return ee==="{"?L(b.peek()):ee==="@"||ee==="%"||ee==="|"||ee===":"||ee==="."||ee===Er||!ee?!1:ee===mn?(b.peek(),K()):x(b,!1)},ne=K();return b.resetPeek(),ne}function N(b){w(b);const C=b.currentPeek()==="|";return b.resetPeek(),C}function V(b){const C=w(b),j=b.currentPeek()==="%"&&b.peek()==="{";return b.resetPeek(),{isModulo:j,hasSpace:C.length>0}}function x(b,C=!0){const j=(ne=!1,ee="",$=!1)=>{const W=b.currentPeek();return W==="{"?ee==="%"?!1:ne:W==="@"||!W?ee==="%"?!0:ne:W==="%"?(b.peek(),j(ne,"%",!0)):W==="|"?ee==="%"||$?!0:!(ee===Er||ee===mn):W===Er?(b.peek(),j(!0,Er,$)):W===mn?(b.peek(),j(!0,mn,$)):!0},K=j();return C&&b.resetPeek(),K}function P(b,C){const j=b.currentChar();return j===es?es:C(j)?(b.next(),j):null}function be(b){const C=b.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===95||C===36}function Ge(b){return P(b,be)}function ke(b){const C=b.charCodeAt(0);return C>=97&&C<=122||C>=65&&C<=90||C>=48&&C<=57||C===95||C===36||C===45}function Ce(b){return P(b,ke)}function Ie(b){const C=b.charCodeAt(0);return C>=48&&C<=57}function ut(b){return P(b,Ie)}function yt(b){const C=b.charCodeAt(0);return C>=48&&C<=57||C>=65&&C<=70||C>=97&&C<=102}function Je(b){return P(b,yt)}function $e(b){let C="",j="";for(;C=ut(b);)j+=C;return j}function He(b){R(b);const C=b.currentChar();return C!=="%"&&f(ve.EXPECTED_TOKEN,i(),0,C),b.next(),"%"}function Ut(b){let C="";for(;;){const j=b.currentChar();if(j==="{"||j==="}"||j==="@"||j==="|"||!j)break;if(j==="%")if(x(b))C+=j,b.next();else break;else if(j===Er||j===mn)if(x(b))C+=j,b.next();else{if(N(b))break;C+=j,b.next()}else C+=j,b.next()}return C}function kt(b){R(b);let C="",j="";for(;C=Ce(b);)j+=C;return b.currentChar()===es&&f(ve.UNTERMINATED_CLOSING_BRACE,i(),0),j}function ft(b){R(b);let C="";return b.currentChar()==="-"?(b.next(),C+=`-${$e(b)}`):C+=$e(b),b.currentChar()===es&&f(ve.UNTERMINATED_CLOSING_BRACE,i(),0),C}function z(b){return b!==M_&&b!==mn}function ae(b){R(b),E(b,"'");let C="",j="";for(;C=P(b,z);)C==="\\"?j+=ie(b):j+=C;const K=b.currentChar();return K===mn||K===es?(f(ve.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),K===mn&&(b.next(),E(b,"'")),j):(E(b,"'"),j)}function ie(b){const C=b.currentChar();switch(C){case"\\":case"'":return b.next(),`\\${C}`;case"u":return ue(b,C,4);case"U":return ue(b,C,6);default:return f(ve.UNKNOWN_ESCAPE_SEQUENCE,i(),0,C),""}}function ue(b,C,j){E(b,C);let K="";for(let ne=0;ne<j;ne++){const ee=Je(b);if(!ee){f(ve.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${C}${K}${b.currentChar()}`);break}K+=ee}return`\\${C}${K}`}function Le(b){return b!=="{"&&b!=="}"&&b!==Er&&b!==mn}function k(b){R(b);let C="",j="";for(;C=P(b,Le);)j+=C;return j}function M(b){let C="",j="";for(;C=Ge(b);)j+=C;return j}function D(b){const C=j=>{const K=b.currentChar();return K==="{"||K==="%"||K==="@"||K==="|"||K==="("||K===")"||!K||K===Er?j:(j+=K,b.next(),C(j))};return C("")}function H(b){R(b);const C=E(b,"|");return R(b),C}function Q(b,C){let j=null;switch(b.currentChar()){case"{":return C.braceNest>=1&&f(ve.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),b.next(),j=m(C,2,"{"),R(b),C.braceNest++,j;case"}":return C.braceNest>0&&C.currentType===2&&f(ve.EMPTY_PLACEHOLDER,i(),0),b.next(),j=m(C,3,"}"),C.braceNest--,C.braceNest>0&&R(b),C.inLinked&&C.braceNest===0&&(C.inLinked=!1),j;case"@":return C.braceNest>0&&f(ve.UNTERMINATED_CLOSING_BRACE,i(),0),j=Y(b,C)||g(C),C.braceNest=0,j;default:{let ne=!0,ee=!0,$=!0;if(N(b))return C.braceNest>0&&f(ve.UNTERMINATED_CLOSING_BRACE,i(),0),j=m(C,1,H(b)),C.braceNest=0,C.inLinked=!1,j;if(C.braceNest>0&&(C.currentType===5||C.currentType===6||C.currentType===7))return f(ve.UNTERMINATED_CLOSING_BRACE,i(),0),C.braceNest=0,re(b,C);if(ne=T(b,C))return j=m(C,5,kt(b)),R(b),j;if(ee=A(b,C))return j=m(C,6,ft(b)),R(b),j;if($=U(b,C))return j=m(C,7,ae(b)),R(b),j;if(!ne&&!ee&&!$)return j=m(C,13,k(b)),f(ve.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,j.value),R(b),j;break}}return j}function Y(b,C){const{currentType:j}=C;let K=null;const ne=b.currentChar();switch((j===8||j===9||j===12||j===10)&&(ne===mn||ne===Er)&&f(ve.INVALID_LINKED_FORMAT,i(),0),ne){case"@":return b.next(),K=m(C,8,"@"),C.inLinked=!0,K;case".":return R(b),b.next(),m(C,9,".");case":":return R(b),b.next(),m(C,10,":");default:return N(b)?(K=m(C,1,H(b)),C.braceNest=0,C.inLinked=!1,K):F(b,C)||_(b,C)?(R(b),Y(b,C)):y(b,C)?(R(b),m(C,12,M(b))):v(b,C)?(R(b),ne==="{"?Q(b,C)||K:m(C,11,D(b))):(j===8&&f(ve.INVALID_LINKED_FORMAT,i(),0),C.braceNest=0,C.inLinked=!1,re(b,C))}}function re(b,C){let j={type:14};if(C.braceNest>0)return Q(b,C)||g(C);if(C.inLinked)return Y(b,C)||g(C);switch(b.currentChar()){case"{":return Q(b,C)||g(C);case"}":return f(ve.UNBALANCED_CLOSING_BRACE,i(),0),b.next(),m(C,3,"}");case"@":return Y(b,C)||g(C);default:{if(N(b))return j=m(C,1,H(b)),C.braceNest=0,C.inLinked=!1,j;const{isModulo:ne,hasSpace:ee}=V(b);if(ne)return ee?m(C,0,Ut(b)):m(C,4,He(b));if(x(b))return m(C,0,Ut(b));break}}return j}function te(){const{currentType:b,offset:C,startLoc:j,endLoc:K}=l;return l.lastType=b,l.lastOffset=C,l.lastStartLoc=j,l.lastEndLoc=K,l.offset=s(),l.startLoc=i(),r.currentChar()===es?m(l,14):re(r,l)}return{nextToken:te,currentOffset:s,currentPosition:i,context:u}}const nV="parser",rV=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function sV(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function iV(t={}){const e=t.location!==!1,{onError:n,onWarn:r}=t;function s(T,A,U,F,...y){const _=T.currentPosition();if(_.offset+=F,_.column+=F,n){const v=e?_c(U,_):null,N=ao(A,v,{domain:nV,args:y});n(N)}}function i(T,A,U,F,...y){const _=T.currentPosition();if(_.offset+=F,_.column+=F,r){const v=e?_c(U,_):null;r(Kx(A,v,y))}}function o(T,A,U){const F={type:T};return e&&(F.start=A,F.end=A,F.loc={start:U,end:U}),F}function a(T,A,U,F){e&&(T.end=A,T.loc&&(T.loc.end=U))}function l(T,A){const U=T.context(),F=o(3,U.offset,U.startLoc);return F.value=A,a(F,T.currentOffset(),T.currentPosition()),F}function u(T,A){const U=T.context(),{lastOffset:F,lastStartLoc:y}=U,_=o(5,F,y);return _.index=parseInt(A,10),T.nextToken(),a(_,T.currentOffset(),T.currentPosition()),_}function h(T,A,U){const F=T.context(),{lastOffset:y,lastStartLoc:_}=F,v=o(4,y,_);return v.key=A,U===!0&&(v.modulo=!0),T.nextToken(),a(v,T.currentOffset(),T.currentPosition()),v}function f(T,A){const U=T.context(),{lastOffset:F,lastStartLoc:y}=U,_=o(9,F,y);return _.value=A.replace(rV,sV),T.nextToken(),a(_,T.currentOffset(),T.currentPosition()),_}function m(T){const A=T.nextToken(),U=T.context(),{lastOffset:F,lastStartLoc:y}=U,_=o(8,F,y);return A.type!==12?(s(T,ve.UNEXPECTED_EMPTY_LINKED_MODIFIER,U.lastStartLoc,0),_.value="",a(_,F,y),{nextConsumeToken:A,node:_}):(A.value==null&&s(T,ve.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,$n(A)),_.value=A.value||"",a(_,T.currentOffset(),T.currentPosition()),{node:_})}function g(T,A){const U=T.context(),F=o(7,U.offset,U.startLoc);return F.value=A,a(F,T.currentOffset(),T.currentPosition()),F}function E(T){const A=T.context(),U=o(6,A.offset,A.startLoc);let F=T.nextToken();if(F.type===9){const y=m(T);U.modifier=y.node,F=y.nextConsumeToken||T.nextToken()}switch(F.type!==10&&s(T,ve.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,$n(F)),F=T.nextToken(),F.type===2&&(F=T.nextToken()),F.type){case 11:F.value==null&&s(T,ve.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,$n(F)),U.key=g(T,F.value||"");break;case 5:F.value==null&&s(T,ve.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,$n(F)),U.key=h(T,F.value||"");break;case 6:F.value==null&&s(T,ve.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,$n(F)),U.key=u(T,F.value||"");break;case 7:F.value==null&&s(T,ve.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,$n(F)),U.key=f(T,F.value||"");break;default:{s(T,ve.UNEXPECTED_EMPTY_LINKED_KEY,A.lastStartLoc,0);const y=T.context(),_=o(7,y.offset,y.startLoc);return _.value="",a(_,y.offset,y.startLoc),U.key=_,a(U,y.offset,y.startLoc),{nextConsumeToken:F,node:U}}}return a(U,T.currentOffset(),T.currentPosition()),{node:U}}function w(T){const A=T.context(),U=A.currentType===1?T.currentOffset():A.offset,F=A.currentType===1?A.endLoc:A.startLoc,y=o(2,U,F);y.items=[];let _=null,v=null;do{const x=_||T.nextToken();switch(_=null,x.type){case 0:x.value==null&&s(T,ve.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,$n(x)),y.items.push(l(T,x.value||""));break;case 6:x.value==null&&s(T,ve.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,$n(x)),y.items.push(u(T,x.value||""));break;case 4:v=!0;break;case 5:x.value==null&&s(T,ve.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,$n(x)),y.items.push(h(T,x.value||"",!!v)),v&&(i(T,rm.USE_MODULO_SYNTAX,A.lastStartLoc,0,$n(x)),v=null);break;case 7:x.value==null&&s(T,ve.UNEXPECTED_LEXICAL_ANALYSIS,A.lastStartLoc,0,$n(x)),y.items.push(f(T,x.value||""));break;case 8:{const P=E(T);y.items.push(P.node),_=P.nextConsumeToken||null;break}}}while(A.currentType!==14&&A.currentType!==1);const N=A.currentType===1?A.lastOffset:T.currentOffset(),V=A.currentType===1?A.lastEndLoc:T.currentPosition();return a(y,N,V),y}function R(T,A,U,F){const y=T.context();let _=F.items.length===0;const v=o(1,A,U);v.cases=[],v.cases.push(F);do{const N=w(T);_||(_=N.items.length===0),v.cases.push(N)}while(y.currentType!==14);return _&&s(T,ve.MUST_HAVE_MESSAGES_IN_PLURAL,U,0),a(v,T.currentOffset(),T.currentPosition()),v}function L(T){const A=T.context(),{offset:U,startLoc:F}=A,y=w(T);return A.currentType===14?y:R(T,U,F,y)}function S(T){const A=tV(T,KE({},t)),U=A.context(),F=o(0,U.offset,U.startLoc);return e&&F.loc&&(F.loc.source=T),F.body=L(A),t.onCacheKey&&(F.cacheKey=t.onCacheKey(T)),U.currentType!==14&&s(A,ve.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,T[U.offset]||""),a(F,A.currentOffset(),A.currentPosition()),F}return{parse:S}}function $n(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function oV(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function x_(t,e){for(let n=0;n<t.length;n++)sm(t[n],e)}function sm(t,e){switch(t.type){case 1:x_(t.cases,e),e.helper("plural");break;case 2:x_(t.items,e);break;case 6:{sm(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function aV(t,e={}){const n=oV(t);n.helper("normalize"),t.body&&sm(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function lV(t){const e=t.body;return e.type===2?V_(e):e.cases.forEach(n=>V_(n)),t}function V_(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=GE(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const cV="minifier";function vi(t){switch(t.t=t.type,t.type){case 0:{const e=t;vi(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)vi(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)vi(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;vi(e.key),e.k=e.key,delete e.key,e.modifier&&(vi(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw ao(ve.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:cV,args:[t.type]})}delete t.type}const uV="parser";function hV(t,e){const{filename:n,breakLineCode:r,needIndent:s}=e,i=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};i&&t.loc&&(o.source=t.loc.source);const a=()=>o;function l(w,R){o.code+=w}function u(w,R=!0){const L=R?r:"";l(s?L+"  ".repeat(w):L)}function h(w=!0){const R=++o.indentLevel;w&&u(R)}function f(w=!0){const R=--o.indentLevel;w&&u(R)}function m(){u(o.indentLevel)}return{context:a,push:l,indent:h,deindent:f,newline:m,helper:w=>`_${w}`,needIndent:()=>o.needIndent}}function fV(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),Qi(t,e.key),e.modifier?(t.push(", "),Qi(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function dV(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let i=0;i<s&&(Qi(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}function mV(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let i=0;i<s&&(Qi(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}function gV(t,e){e.body?Qi(t,e.body):t.push("null")}function Qi(t,e){const{helper:n}=t;switch(e.type){case 0:gV(t,e);break;case 1:mV(t,e);break;case 2:dV(t,e);break;case 6:fV(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw ao(ve.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:uV,args:[e.type]})}}const pV=(t,e={})=>{const n=L_(e.mode)?e.mode:"normal",r=L_(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,i=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],a=hV(t,{filename:r,breakLineCode:s,needIndent:i});a.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(i),o.length>0&&(a.push(`const { ${GE(o.map(h=>`${h}: _${h}`),", ")} } = ctx`),a.newline()),a.push("return "),Qi(a,t),a.deindent(i),a.push("}"),delete t.helpers;const{code:l,map:u}=a.context();return{ast:t,code:l,map:u?u.toJSON():void 0}};function _V(t,e={}){const n=KE({},e),r=!!n.jit,s=!!n.minify,i=n.optimize==null?!0:n.optimize,a=iV(n).parse(t);return r?(i&&lV(a),s&&vi(a),{ast:a,code:""}):(aV(a,n),pV(a,n))}/*!
  * core-base v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function yV(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Pr().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Pr().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Pr().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function lr(t){return Ke(t)&&im(t)===0&&(jn(t,"b")||jn(t,"body"))}const zE=["b","body"];function vV(t){return Ns(t,zE)}const YE=["c","cases"];function EV(t){return Ns(t,YE,[])}const QE=["s","static"];function wV(t){return Ns(t,QE)}const JE=["i","items"];function IV(t){return Ns(t,JE,[])}const XE=["t","type"];function im(t){return Ns(t,XE)}const ZE=["v","value"];function wl(t,e){const n=Ns(t,ZE);if(n!=null)return n;throw Ia(e)}const ew=["m","modifier"];function TV(t){return Ns(t,ew)}const tw=["k","key"];function bV(t){const e=Ns(t,tw);if(e)return e;throw Ia(6)}function Ns(t,e,n){for(let r=0;r<e.length;r++){const s=e[r];if(jn(t,s)&&t[s]!=null)return t[s]}return n}const nw=[...zE,...YE,...QE,...JE,...tw,...ew,...ZE,...XE];function Ia(t){return new Error(`unhandled node type: ${t}`)}const Os=[];Os[0]={w:[0],i:[3,0],"[":[4],o:[7]};Os[1]={w:[1],".":[2],"[":[4],o:[7]};Os[2]={w:[2],i:[3,0],0:[3,0]};Os[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Os[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Os[5]={"'":[4,0],o:8,l:[5,0]};Os[6]={'"':[4,0],o:8,l:[6,0]};const AV=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function CV(t){return AV.test(t)}function SV(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function PV(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function RV(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:CV(e)?SV(e):"*"+e}function kV(t){const e=[];let n=-1,r=0,s=0,i,o,a,l,u,h,f;const m=[];m[0]=()=>{o===void 0?o=a:o+=a},m[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},m[2]=()=>{m[0](),s++},m[3]=()=>{if(s>0)s--,r=4,m[0]();else{if(s=0,o===void 0||(o=RV(o),o===!1))return!1;m[1]()}};function g(){const E=t[n+1];if(r===5&&E==="'"||r===6&&E==='"')return n++,a="\\"+E,m[0](),!0}for(;r!==null;)if(n++,i=t[n],!(i==="\\"&&g())){if(l=PV(i),f=Os[r],u=f[l]||f.l||8,u===8||(r=u[0],u[1]!==void 0&&(h=m[u[1]],h&&(a=i,h()===!1))))return;if(r===7)return e}}const F_=new Map;function DV(t,e){return Ke(t)?t[e]:null}function NV(t,e){if(!Ke(t))return null;let n=F_.get(e);if(n||(n=kV(e),n&&F_.set(e,n)),!n)return null;const r=n.length;let s=t,i=0;for(;i<r;){const o=n[i];if(nw.includes(o)&&lr(s))return null;const a=s[o];if(a===void 0||it(s))return null;s=a,i++}return s}const OV=t=>t,LV=t=>"",MV="text",xV=t=>t.length===0?"":$x(t),VV=Ux;function U_(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function FV(t){const e=wt(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(wt(t.named.count)||wt(t.named.n))?wt(t.named.count)?t.named.count:wt(t.named.n)?t.named.n:e:e}function UV(t,e){e.count||(e.count=t),e.n||(e.n=t)}function $V(t={}){const e=t.locale,n=FV(t),r=Ke(t.pluralRules)&&ce(e)&&it(t.pluralRules[e])?t.pluralRules[e]:U_,s=Ke(t.pluralRules)&&ce(e)&&it(t.pluralRules[e])?U_:void 0,i=L=>L[r(n,L.length,s)],o=t.list||[],a=L=>o[L],l=t.named||Ze();wt(t.pluralIndex)&&UV(n,l);const u=L=>l[L];function h(L){const S=it(t.messages)?t.messages(L):Ke(t.messages)?t.messages[L]:!1;return S||(t.parent?t.parent.message(L):LV)}const f=L=>t.modifiers?t.modifiers[L]:OV,m=Ae(t.processor)&&it(t.processor.normalize)?t.processor.normalize:xV,g=Ae(t.processor)&&it(t.processor.interpolate)?t.processor.interpolate:VV,E=Ae(t.processor)&&ce(t.processor.type)?t.processor.type:MV,R={list:a,named:u,plural:i,linked:(L,...S)=>{const[T,A]=S;let U="text",F="";S.length===1?Ke(T)?(F=T.modifier||F,U=T.type||U):ce(T)&&(F=T||F):S.length===2&&(ce(T)&&(F=T||F),ce(A)&&(U=A||U));const y=h(L)(R),_=U==="vnode"&&ct(y)&&F?y[0]:y;return F?f(F)(_,U):_},message:h,type:E,interpolate:g,normalize:m,values:Qt(Ze(),o,l)};return R}let Ta=null;function BV(t){Ta=t}function jV(t,e,n){Ta&&Ta.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const HV=WV("function:translate");function WV(t){return e=>Ta&&Ta.emit(t,e)}const qV=rm.__EXTEND_POINT__,$s=su(qV),KV={FALLBACK_TO_TRANSLATE:$s(),CANNOT_FORMAT_NUMBER:$s(),FALLBACK_TO_NUMBER_FORMAT:$s(),CANNOT_FORMAT_DATE:$s(),FALLBACK_TO_DATE_FORMAT:$s(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:$s(),__EXTEND_POINT__:$s()},rw=ve.__EXTEND_POINT__,Bs=su(rw),Hn={INVALID_ARGUMENT:rw,INVALID_DATE_ARGUMENT:Bs(),INVALID_ISO_DATE_ARGUMENT:Bs(),NOT_SUPPORT_NON_STRING_MESSAGE:Bs(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Bs(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Bs(),NOT_SUPPORT_LOCALE_TYPE:Bs(),__EXTEND_POINT__:Bs()};function tr(t){return ao(t,null,void 0)}function om(t,e){return e.locale!=null?$_(e.locale):$_(t.locale)}let nh;function $_(t){if(ce(t))return t;if(it(t)){if(t.resolvedOnce&&nh!=null)return nh;if(t.constructor.name==="Function"){const e=t();if(Fx(e))throw tr(Hn.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return nh=e}else throw tr(Hn.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw tr(Hn.NOT_SUPPORT_LOCALE_TYPE)}function GV(t,e,n){return[...new Set([n,...ct(e)?e:Ke(e)?Object.keys(e):ce(e)?[e]:[n]])]}function sw(t,e,n){const r=ce(n)?n:Ji,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;ct(o);)o=B_(i,o,e);const a=ct(e)||!Ae(e)?e:e.default?e.default:null;o=ce(a)?[a]:a,ct(o)&&B_(i,o,!1),s.__localeChainCache.set(r,i)}return i}function B_(t,e,n){let r=!0;for(let s=0;s<e.length&&Me(r);s++){const i=e[s];ce(i)&&(r=zV(t,e[s],n))}return r}function zV(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=YV(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function YV(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(ct(n)||Ae(n))&&n[s]&&(r=n[s])}return r}const QV="9.14.4",iu=-1,Ji="en-US",j_="",H_=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function JV(){return{upper:(t,e)=>e==="text"&&ce(t)?t.toUpperCase():e==="vnode"&&Ke(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&ce(t)?t.toLowerCase():e==="vnode"&&Ke(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&ce(t)?H_(t):e==="vnode"&&Ke(t)&&"__v_isVNode"in t?H_(t.children):t}}let iw;function W_(t){iw=t}let ow;function XV(t){ow=t}let aw;function ZV(t){aw=t}let lw=null;const e6=t=>{lw=t},t6=()=>lw;let cw=null;const q_=t=>{cw=t},n6=()=>cw;let K_=0;function r6(t={}){const e=it(t.onWarn)?t.onWarn:Bx,n=ce(t.version)?t.version:QV,r=ce(t.locale)||it(t.locale)?t.locale:Ji,s=it(r)?Ji:r,i=ct(t.fallbackLocale)||Ae(t.fallbackLocale)||ce(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=Ae(t.messages)?t.messages:rh(s),a=Ae(t.datetimeFormats)?t.datetimeFormats:rh(s),l=Ae(t.numberFormats)?t.numberFormats:rh(s),u=Qt(Ze(),t.modifiers,JV()),h=t.pluralRules||Ze(),f=it(t.missing)?t.missing:null,m=Me(t.missingWarn)||bs(t.missingWarn)?t.missingWarn:!0,g=Me(t.fallbackWarn)||bs(t.fallbackWarn)?t.fallbackWarn:!0,E=!!t.fallbackFormat,w=!!t.unresolving,R=it(t.postTranslation)?t.postTranslation:null,L=Ae(t.processor)?t.processor:null,S=Me(t.warnHtmlMessage)?t.warnHtmlMessage:!0,T=!!t.escapeParameter,A=it(t.messageCompiler)?t.messageCompiler:iw,U=it(t.messageResolver)?t.messageResolver:ow||DV,F=it(t.localeFallbacker)?t.localeFallbacker:aw||GV,y=Ke(t.fallbackContext)?t.fallbackContext:void 0,_=t,v=Ke(_.__datetimeFormatters)?_.__datetimeFormatters:new Map,N=Ke(_.__numberFormatters)?_.__numberFormatters:new Map,V=Ke(_.__meta)?_.__meta:{};K_++;const x={version:n,cid:K_,locale:r,fallbackLocale:i,messages:o,modifiers:u,pluralRules:h,missing:f,missingWarn:m,fallbackWarn:g,fallbackFormat:E,unresolving:w,postTranslation:R,processor:L,warnHtmlMessage:S,escapeParameter:T,messageCompiler:A,messageResolver:U,localeFallbacker:F,fallbackContext:y,onWarn:e,__meta:V};return x.datetimeFormats=a,x.numberFormats=l,x.__datetimeFormatters=v,x.__numberFormatters=N,__INTLIFY_PROD_DEVTOOLS__&&jV(x,n,V),x}const rh=t=>({[t]:Ze()});function am(t,e,n,r,s){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,n,e,s);return ce(a)?a:e}else return e}function Co(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function s6(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function i6(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(s6(t,e[r]))return!0;return!1}function sh(t){return n=>o6(n,t)}function o6(t,e){const n=vV(e);if(n==null)throw Ia(0);if(im(n)===1){const i=EV(n);return t.plural(i.reduce((o,a)=>[...o,G_(t,a)],[]))}else return G_(t,n)}function G_(t,e){const n=wV(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=IV(e).reduce((s,i)=>[...s,of(t,i)],[]);return t.normalize(r)}}function of(t,e){const n=im(e);switch(n){case 3:return wl(e,n);case 9:return wl(e,n);case 4:{const r=e;if(jn(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(jn(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw Ia(n)}case 5:{const r=e;if(jn(r,"i")&&wt(r.i))return t.interpolate(t.list(r.i));if(jn(r,"index")&&wt(r.index))return t.interpolate(t.list(r.index));throw Ia(n)}case 6:{const r=e,s=TV(r),i=bV(r);return t.linked(of(t,i),s?of(t,s):void 0,t.type)}case 7:return wl(e,n);case 8:return wl(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const uw=t=>t;let wi=Ze();function hw(t,e={}){let n=!1;const r=e.onError||zx;return e.onError=s=>{n=!0,r(s)},{..._V(t,e),detectError:n}}const a6=(t,e)=>{if(!ce(t))throw tr(Hn.NOT_SUPPORT_NON_STRING_MESSAGE);{Me(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||uw)(t),s=wi[r];if(s)return s;const{code:i,detectError:o}=hw(t,e),a=new Function(`return ${i}`)();return o?a:wi[r]=a}};function l6(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&ce(t)){Me(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||uw)(t),s=wi[r];if(s)return s;const{ast:i,detectError:o}=hw(t,{...e,location:!1,jit:!0}),a=sh(i);return o?a:wi[r]=a}else{const n=t.cacheKey;if(n){const r=wi[n];return r||(wi[n]=sh(t))}else return sh(t)}}const z_=()=>"",Nn=t=>it(t);function Y_(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=t,[l,u]=af(...e),h=Me(u.missingWarn)?u.missingWarn:t.missingWarn,f=Me(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn,m=Me(u.escapeParameter)?u.escapeParameter:t.escapeParameter,g=!!u.resolvedMessage,E=ce(u.default)||Me(u.default)?Me(u.default)?i?l:()=>l:u.default:n?i?l:()=>l:"",w=n||E!=="",R=om(t,u);m&&c6(u);let[L,S,T]=g?[l,R,a[R]||Ze()]:fw(t,l,R,o,f,h),A=L,U=l;if(!g&&!(ce(A)||lr(A)||Nn(A))&&w&&(A=E,U=A),!g&&(!(ce(A)||lr(A)||Nn(A))||!ce(S)))return s?iu:l;let F=!1;const y=()=>{F=!0},_=Nn(A)?A:dw(t,l,S,A,U,y);if(F)return A;const v=f6(t,S,T,u),N=$V(v),V=u6(t,_,N),x=r?r(V,l):V;if(__INTLIFY_PROD_DEVTOOLS__){const P={timestamp:Date.now(),key:ce(l)?l:Nn(A)?A.key:"",locale:S||(Nn(A)?A.locale:""),format:ce(A)?A:Nn(A)?A.source:"",message:x};P.meta=Qt({},t.__meta,t6()||{}),HV(P)}return x}function c6(t){ct(t.list)?t.list=t.list.map(e=>ce(e)?O_(e):e):Ke(t.named)&&Object.keys(t.named).forEach(e=>{ce(t.named[e])&&(t.named[e]=O_(t.named[e]))})}function fw(t,e,n,r,s,i){const{messages:o,onWarn:a,messageResolver:l,localeFallbacker:u}=t,h=u(t,r,n);let f=Ze(),m,g=null;const E="translate";for(let w=0;w<h.length&&(m=h[w],f=o[m]||Ze(),(g=l(f,e))===null&&(g=f[e]),!(ce(g)||lr(g)||Nn(g)));w++)if(!i6(m,h)){const R=am(t,e,m,i,E);R!==e&&(g=R)}return[g,m,f]}function dw(t,e,n,r,s,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(Nn(r)){const u=r;return u.locale=u.locale||n,u.key=u.key||e,u}if(o==null){const u=()=>r;return u.locale=n,u.key=e,u}const l=o(r,h6(t,n,s,r,a,i));return l.locale=n,l.key=e,l.source=r,l}function u6(t,e,n){return e(n)}function af(...t){const[e,n,r]=t,s=Ze();if(!ce(e)&&!wt(e)&&!Nn(e)&&!lr(e))throw tr(Hn.INVALID_ARGUMENT);const i=wt(e)?String(e):(Nn(e),e);return wt(n)?s.plural=n:ce(n)?s.default=n:Ae(n)&&!ru(n)?s.named=n:ct(n)&&(s.list=n),wt(r)?s.plural=r:ce(r)?s.default=r:Ae(r)&&Qt(s,r),[i,s]}function h6(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>Ox(e,n,o)}}function f6(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:l,missingWarn:u,fallbackContext:h}=t,m={locale:e,modifiers:s,pluralRules:i,messages:g=>{let E=o(n,g);if(E==null&&h){const[,,w]=fw(h,g,e,a,l,u);E=o(w,g)}if(ce(E)||lr(E)){let w=!1;const L=dw(t,g,e,E,g,()=>{w=!0});return w?z_:L}else return Nn(E)?E:z_}};return t.processor&&(m.processor=t.processor),r.list&&(m.list=r.list),r.named&&(m.named=r.named),wt(r.plural)&&(m.pluralIndex=r.plural),m}function Q_(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[l,u,h,f]=lf(...e),m=Me(h.missingWarn)?h.missingWarn:t.missingWarn;Me(h.fallbackWarn)?h.fallbackWarn:t.fallbackWarn;const g=!!h.part,E=om(t,h),w=o(t,s,E);if(!ce(l)||l==="")return new Intl.DateTimeFormat(E,f).format(u);let R={},L,S=null;const T="datetime format";for(let F=0;F<w.length&&(L=w[F],R=n[L]||{},S=R[l],!Ae(S));F++)am(t,l,L,m,T);if(!Ae(S)||!ce(L))return r?iu:l;let A=`${L}__${l}`;ru(f)||(A=`${A}__${JSON.stringify(f)}`);let U=a.get(A);return U||(U=new Intl.DateTimeFormat(L,Qt({},S,f)),a.set(A,U)),g?U.formatToParts(u):U.format(u)}const mw=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function lf(...t){const[e,n,r,s]=t,i=Ze();let o=Ze(),a;if(ce(e)){const l=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!l)throw tr(Hn.INVALID_ISO_DATE_ARGUMENT);const u=l[3]?l[3].trim().startsWith("T")?`${l[1].trim()}${l[3].trim()}`:`${l[1].trim()}T${l[3].trim()}`:l[1].trim();a=new Date(u);try{a.toISOString()}catch{throw tr(Hn.INVALID_ISO_DATE_ARGUMENT)}}else if(Mx(e)){if(isNaN(e.getTime()))throw tr(Hn.INVALID_DATE_ARGUMENT);a=e}else if(wt(e))a=e;else throw tr(Hn.INVALID_ARGUMENT);return ce(n)?i.key=n:Ae(n)&&Object.keys(n).forEach(l=>{mw.includes(l)?o[l]=n[l]:i[l]=n[l]}),ce(r)?i.locale=r:Ae(r)&&(o=r),Ae(s)&&(o=s),[i.key||"",a,i,o]}function J_(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function X_(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[l,u,h,f]=cf(...e),m=Me(h.missingWarn)?h.missingWarn:t.missingWarn;Me(h.fallbackWarn)?h.fallbackWarn:t.fallbackWarn;const g=!!h.part,E=om(t,h),w=o(t,s,E);if(!ce(l)||l==="")return new Intl.NumberFormat(E,f).format(u);let R={},L,S=null;const T="number format";for(let F=0;F<w.length&&(L=w[F],R=n[L]||{},S=R[l],!Ae(S));F++)am(t,l,L,m,T);if(!Ae(S)||!ce(L))return r?iu:l;let A=`${L}__${l}`;ru(f)||(A=`${A}__${JSON.stringify(f)}`);let U=a.get(A);return U||(U=new Intl.NumberFormat(L,Qt({},S,f)),a.set(A,U)),g?U.formatToParts(u):U.format(u)}const gw=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function cf(...t){const[e,n,r,s]=t,i=Ze();let o=Ze();if(!wt(e))throw tr(Hn.INVALID_ARGUMENT);const a=e;return ce(n)?i.key=n:Ae(n)&&Object.keys(n).forEach(l=>{gw.includes(l)?o[l]=n[l]:i[l]=n[l]}),ce(r)?i.locale=r:Ae(r)&&(o=r),Ae(s)&&(o=s),[i.key||"",a,i,o]}function Z_(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}yV();/*!
  * vue-i18n v9.14.4
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const d6="9.14.4";function m6(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Pr().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Pr().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Pr().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Pr().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Pr().__INTLIFY_PROD_DEVTOOLS__=!1)}const g6=KV.__EXTEND_POINT__,wr=su(g6);wr(),wr(),wr(),wr(),wr(),wr(),wr(),wr(),wr();const pw=Hn.__EXTEND_POINT__,yn=su(pw),Rt={UNEXPECTED_RETURN_TYPE:pw,INVALID_ARGUMENT:yn(),MUST_BE_CALL_SETUP_TOP:yn(),NOT_INSTALLED:yn(),NOT_AVAILABLE_IN_LEGACY_MODE:yn(),REQUIRED_VALUE:yn(),INVALID_VALUE:yn(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:yn(),NOT_INSTALLED_WITH_PROVIDE:yn(),UNEXPECTED_ERROR:yn(),NOT_COMPATIBLE_LEGACY_VUE_I18N:yn(),BRIDGE_SUPPORT_VUE_2_ONLY:yn(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:yn(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:yn(),__EXTEND_POINT__:yn()};function Ft(t,...e){return ao(t,null,void 0)}const uf=Ds("__translateVNode"),hf=Ds("__datetimeParts"),ff=Ds("__numberParts"),_w=Ds("__setPluralRules"),yw=Ds("__injectWithOption"),df=Ds("__dispose");function ba(t){if(!Ke(t)||lr(t))return t;for(const e in t)if(jn(t,e))if(!e.includes("."))Ke(t[e])&&ba(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,i=!1;for(let o=0;o<r;o++){if(n[o]==="__proto__")throw new Error(`unsafe key: ${n[o]}`);if(n[o]in s||(s[n[o]]=Ze()),!Ke(s[n[o]])){i=!0;break}s=s[n[o]]}if(i||(lr(s)?nw.includes(n[r])||delete t[e]:(s[n[r]]=t[e],delete t[e])),!lr(s)){const o=s[n[r]];Ke(o)&&ba(o)}}return t}function ou(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=e,o=Ae(n)?n:ct(r)?Ze():{[t]:Ze()};if(ct(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:l,resource:u}=a;l?(o[l]=o[l]||Ze(),Vl(u,o[l])):Vl(u,o)}else ce(a)&&Vl(JSON.parse(a),o)}),s==null&&i)for(const a in o)jn(o,a)&&ba(o[a]);return o}function vw(t){return t.type}function Ew(t,e,n){let r=Ke(e.messages)?e.messages:Ze();"__i18nGlobal"in n&&(r=ou(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(Ke(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Ke(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function ey(t){return je(Ra,null,t,0)}const ty="__INTLIFY_META__",ny=()=>[],p6=()=>!1;let ry=0;function sy(t){return(e,n,r,s)=>t(n,r,la()||void 0,s)}const _6=()=>{const t=la();let e=null;return t&&(e=vw(t)[ty])?{[ty]:e}:null};function lm(t={},e){const{__root:n,__injectWithOption:r}=t,s=n===void 0,i=t.flatJson,o=pc?nt:Hf,a=!!t.translateExistCompatible;let l=Me(t.inheritLocale)?t.inheritLocale:!0;const u=o(n&&l?n.locale.value:ce(t.locale)?t.locale:Ji),h=o(n&&l?n.fallbackLocale.value:ce(t.fallbackLocale)||ct(t.fallbackLocale)||Ae(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:u.value),f=o(ou(u.value,t)),m=o(Ae(t.datetimeFormats)?t.datetimeFormats:{[u.value]:{}}),g=o(Ae(t.numberFormats)?t.numberFormats:{[u.value]:{}});let E=n?n.missingWarn:Me(t.missingWarn)||bs(t.missingWarn)?t.missingWarn:!0,w=n?n.fallbackWarn:Me(t.fallbackWarn)||bs(t.fallbackWarn)?t.fallbackWarn:!0,R=n?n.fallbackRoot:Me(t.fallbackRoot)?t.fallbackRoot:!0,L=!!t.fallbackFormat,S=it(t.missing)?t.missing:null,T=it(t.missing)?sy(t.missing):null,A=it(t.postTranslation)?t.postTranslation:null,U=n?n.warnHtmlMessage:Me(t.warnHtmlMessage)?t.warnHtmlMessage:!0,F=!!t.escapeParameter;const y=n?n.modifiers:Ae(t.modifiers)?t.modifiers:{};let _=t.pluralRules||n&&n.pluralRules,v;v=(()=>{s&&q_(null);const $={version:d6,locale:u.value,fallbackLocale:h.value,messages:f.value,modifiers:y,pluralRules:_,missing:T===null?void 0:T,missingWarn:E,fallbackWarn:w,fallbackFormat:L,unresolving:!0,postTranslation:A===null?void 0:A,warnHtmlMessage:U,escapeParameter:F,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};$.datetimeFormats=m.value,$.numberFormats=g.value,$.__datetimeFormatters=Ae(v)?v.__datetimeFormatters:void 0,$.__numberFormatters=Ae(v)?v.__numberFormatters:void 0;const W=r6($);return s&&q_(W),W})(),Co(v,u.value,h.value);function V(){return[u.value,h.value,f.value,m.value,g.value]}const x=Et({get:()=>u.value,set:$=>{u.value=$,v.locale=u.value}}),P=Et({get:()=>h.value,set:$=>{h.value=$,v.fallbackLocale=h.value,Co(v,u.value,$)}}),be=Et(()=>f.value),Ge=Et(()=>m.value),ke=Et(()=>g.value);function Ce(){return it(A)?A:null}function Ie($){A=$,v.postTranslation=$}function ut(){return S}function yt($){$!==null&&(T=sy($)),S=$,v.missing=T}const Je=($,W,de,Oe,rt,$t)=>{V();let dt;try{__INTLIFY_PROD_DEVTOOLS__,s||(v.fallbackContext=n?n6():void 0),dt=$(v)}finally{__INTLIFY_PROD_DEVTOOLS__,s||(v.fallbackContext=void 0)}if(de!=="translate exists"&&wt(dt)&&dt===iu||de==="translate exists"&&!dt){const[Yn,oi]=W();return n&&R?Oe(n):rt(Yn)}else{if($t(dt))return dt;throw Ft(Rt.UNEXPECTED_RETURN_TYPE)}};function $e(...$){return Je(W=>Reflect.apply(Y_,null,[W,...$]),()=>af(...$),"translate",W=>Reflect.apply(W.t,W,[...$]),W=>W,W=>ce(W))}function He(...$){const[W,de,Oe]=$;if(Oe&&!Ke(Oe))throw Ft(Rt.INVALID_ARGUMENT);return $e(W,de,Qt({resolvedMessage:!0},Oe||{}))}function Ut(...$){return Je(W=>Reflect.apply(Q_,null,[W,...$]),()=>lf(...$),"datetime format",W=>Reflect.apply(W.d,W,[...$]),()=>j_,W=>ce(W))}function kt(...$){return Je(W=>Reflect.apply(X_,null,[W,...$]),()=>cf(...$),"number format",W=>Reflect.apply(W.n,W,[...$]),()=>j_,W=>ce(W))}function ft($){return $.map(W=>ce(W)||wt(W)||Me(W)?ey(String(W)):W)}const ae={normalize:ft,interpolate:$=>$,type:"vnode"};function ie(...$){return Je(W=>{let de;const Oe=W;try{Oe.processor=ae,de=Reflect.apply(Y_,null,[Oe,...$])}finally{Oe.processor=null}return de},()=>af(...$),"translate",W=>W[uf](...$),W=>[ey(W)],W=>ct(W))}function ue(...$){return Je(W=>Reflect.apply(X_,null,[W,...$]),()=>cf(...$),"number format",W=>W[ff](...$),ny,W=>ce(W)||ct(W))}function Le(...$){return Je(W=>Reflect.apply(Q_,null,[W,...$]),()=>lf(...$),"datetime format",W=>W[hf](...$),ny,W=>ce(W)||ct(W))}function k($){_=$,v.pluralRules=_}function M($,W){return Je(()=>{if(!$)return!1;const de=ce(W)?W:u.value,Oe=Q(de),rt=v.messageResolver(Oe,$);return a?rt!=null:lr(rt)||Nn(rt)||ce(rt)},()=>[$],"translate exists",de=>Reflect.apply(de.te,de,[$,W]),p6,de=>Me(de))}function D($){let W=null;const de=sw(v,h.value,u.value);for(let Oe=0;Oe<de.length;Oe++){const rt=f.value[de[Oe]]||{},$t=v.messageResolver(rt,$);if($t!=null){W=$t;break}}return W}function H($){const W=D($);return W??(n?n.tm($)||{}:{})}function Q($){return f.value[$]||{}}function Y($,W){if(i){const de={[$]:W};for(const Oe in de)jn(de,Oe)&&ba(de[Oe]);W=de[$]}f.value[$]=W,v.messages=f.value}function re($,W){f.value[$]=f.value[$]||{};const de={[$]:W};if(i)for(const Oe in de)jn(de,Oe)&&ba(de[Oe]);W=de[$],Vl(W,f.value[$]),v.messages=f.value}function te($){return m.value[$]||{}}function b($,W){m.value[$]=W,v.datetimeFormats=m.value,J_(v,$,W)}function C($,W){m.value[$]=Qt(m.value[$]||{},W),v.datetimeFormats=m.value,J_(v,$,W)}function j($){return g.value[$]||{}}function K($,W){g.value[$]=W,v.numberFormats=g.value,Z_(v,$,W)}function ne($,W){g.value[$]=Qt(g.value[$]||{},W),v.numberFormats=g.value,Z_(v,$,W)}ry++,n&&pc&&(Ys(n.locale,$=>{l&&(u.value=$,v.locale=$,Co(v,u.value,h.value))}),Ys(n.fallbackLocale,$=>{l&&(h.value=$,v.fallbackLocale=$,Co(v,u.value,h.value))}));const ee={id:ry,locale:x,fallbackLocale:P,get inheritLocale(){return l},set inheritLocale($){l=$,$&&n&&(u.value=n.locale.value,h.value=n.fallbackLocale.value,Co(v,u.value,h.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:be,get modifiers(){return y},get pluralRules(){return _||{}},get isGlobal(){return s},get missingWarn(){return E},set missingWarn($){E=$,v.missingWarn=E},get fallbackWarn(){return w},set fallbackWarn($){w=$,v.fallbackWarn=w},get fallbackRoot(){return R},set fallbackRoot($){R=$},get fallbackFormat(){return L},set fallbackFormat($){L=$,v.fallbackFormat=L},get warnHtmlMessage(){return U},set warnHtmlMessage($){U=$,v.warnHtmlMessage=$},get escapeParameter(){return F},set escapeParameter($){F=$,v.escapeParameter=$},t:$e,getLocaleMessage:Q,setLocaleMessage:Y,mergeLocaleMessage:re,getPostTranslationHandler:Ce,setPostTranslationHandler:Ie,getMissingHandler:ut,setMissingHandler:yt,[_w]:k};return ee.datetimeFormats=Ge,ee.numberFormats=ke,ee.rt=He,ee.te=M,ee.tm=H,ee.d=Ut,ee.n=kt,ee.getDateTimeFormat=te,ee.setDateTimeFormat=b,ee.mergeDateTimeFormat=C,ee.getNumberFormat=j,ee.setNumberFormat=K,ee.mergeNumberFormat=ne,ee[yw]=r,ee[uf]=ie,ee[hf]=Le,ee[ff]=ue,ee}function y6(t){const e=ce(t.locale)?t.locale:Ji,n=ce(t.fallbackLocale)||ct(t.fallbackLocale)||Ae(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=it(t.missing)?t.missing:void 0,s=Me(t.silentTranslationWarn)||bs(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=Me(t.silentFallbackWarn)||bs(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=Me(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,l=Ae(t.modifiers)?t.modifiers:{},u=t.pluralizationRules,h=it(t.postTranslation)?t.postTranslation:void 0,f=ce(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,m=!!t.escapeParameterHtml,g=Me(t.sync)?t.sync:!0;let E=t.messages;if(Ae(t.sharedMessages)){const F=t.sharedMessages;E=Object.keys(F).reduce((_,v)=>{const N=_[v]||(_[v]={});return Qt(N,F[v]),_},E||{})}const{__i18n:w,__root:R,__injectWithOption:L}=t,S=t.datetimeFormats,T=t.numberFormats,A=t.flatJson,U=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:E,flatJson:A,datetimeFormats:S,numberFormats:T,missing:r,missingWarn:s,fallbackWarn:i,fallbackRoot:o,fallbackFormat:a,modifiers:l,pluralRules:u,postTranslation:h,warnHtmlMessage:f,escapeParameter:m,messageResolver:t.messageResolver,inheritLocale:g,translateExistCompatible:U,__i18n:w,__root:R,__injectWithOption:L}}function mf(t={},e){{const n=lm(y6(t)),{__extender:r}=t,s={id:n.id,get locale(){return n.locale.value},set locale(i){n.locale.value=i},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(i){n.fallbackLocale.value=i},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(i){},get missing(){return n.getMissingHandler()},set missing(i){n.setMissingHandler(i)},get silentTranslationWarn(){return Me(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(i){n.missingWarn=Me(i)?!i:i},get silentFallbackWarn(){return Me(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(i){n.fallbackWarn=Me(i)?!i:i},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(i){n.fallbackFormat=i},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(i){n.setPostTranslationHandler(i)},get sync(){return n.inheritLocale},set sync(i){n.inheritLocale=i},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){n.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(i){n.escapeParameter=i},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(i){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...i){const[o,a,l]=i,u={};let h=null,f=null;if(!ce(o))throw Ft(Rt.INVALID_ARGUMENT);const m=o;return ce(a)?u.locale=a:ct(a)?h=a:Ae(a)&&(f=a),ct(l)?h=l:Ae(l)&&(f=l),Reflect.apply(n.t,n,[m,h||f||{},u])},rt(...i){return Reflect.apply(n.rt,n,[...i])},tc(...i){const[o,a,l]=i,u={plural:1};let h=null,f=null;if(!ce(o))throw Ft(Rt.INVALID_ARGUMENT);const m=o;return ce(a)?u.locale=a:wt(a)?u.plural=a:ct(a)?h=a:Ae(a)&&(f=a),ce(l)?u.locale=l:ct(l)?h=l:Ae(l)&&(f=l),Reflect.apply(n.t,n,[m,h||f||{},u])},te(i,o){return n.te(i,o)},tm(i){return n.tm(i)},getLocaleMessage(i){return n.getLocaleMessage(i)},setLocaleMessage(i,o){n.setLocaleMessage(i,o)},mergeLocaleMessage(i,o){n.mergeLocaleMessage(i,o)},d(...i){return Reflect.apply(n.d,n,[...i])},getDateTimeFormat(i){return n.getDateTimeFormat(i)},setDateTimeFormat(i,o){n.setDateTimeFormat(i,o)},mergeDateTimeFormat(i,o){n.mergeDateTimeFormat(i,o)},n(...i){return Reflect.apply(n.n,n,[...i])},getNumberFormat(i){return n.getNumberFormat(i)},setNumberFormat(i,o){n.setNumberFormat(i,o)},mergeNumberFormat(i,o){n.mergeNumberFormat(i,o)},getChoiceIndex(i,o){return-1}};return s.__extender=r,s}}const cm={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function v6({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===pe?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},Ze())}function ww(t){return pe}const E6=eo({name:"i18n-t",props:Qt({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>wt(t)||!isNaN(t)}},cm),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||um({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(f=>f!=="_"),o=Ze();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=ce(t.plural)?+t.plural:t.plural);const a=v6(e,i),l=s[uf](t.keypath,a,o),u=Qt(Ze(),r),h=ce(t.tag)||Ke(t.tag)?t.tag:ww();return Da(h,u,l)}}}),iy=E6;function w6(t){return ct(t)&&!ce(t[0])}function Iw(t,e,n,r){const{slots:s,attrs:i}=e;return()=>{const o={part:!0};let a=Ze();t.locale&&(o.locale=t.locale),ce(t.format)?o.key=t.format:Ke(t.format)&&(ce(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((m,g)=>n.includes(g)?Qt(Ze(),m,{[g]:t.format[g]}):m,Ze()));const l=r(t.value,o,a);let u=[o.key];ct(l)?u=l.map((m,g)=>{const E=s[m.type],w=E?E({[m.type]:m.value,index:g,parts:l}):[m.value];return w6(w)&&(w[0].key=`${m.type}-${g}`),w}):ce(l)&&(u=[l]);const h=Qt(Ze(),i),f=ce(t.tag)||Ke(t.tag)?t.tag:ww();return Da(f,h,u)}}const I6=eo({name:"i18n-n",props:Qt({value:{type:Number,required:!0},format:{type:[String,Object]}},cm),setup(t,e){const n=t.i18n||um({useScope:t.scope,__useComponent:!0});return Iw(t,e,gw,(...r)=>n[ff](...r))}}),oy=I6,T6=eo({name:"i18n-d",props:Qt({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},cm),setup(t,e){const n=t.i18n||um({useScope:t.scope,__useComponent:!0});return Iw(t,e,mw,(...r)=>n[hf](...r))}}),ay=T6;function b6(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function A6(t){const e=o=>{const{instance:a,modifiers:l,value:u}=o;if(!a||!a.$)throw Ft(Rt.UNEXPECTED_ERROR);const h=b6(t,a.$),f=ly(u);return[Reflect.apply(h.t,h,[...cy(f)]),h]};return{created:(o,a)=>{const[l,u]=e(a);pc&&t.global===u&&(o.__i18nWatcher=Ys(u.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=u,o.textContent=l},unmounted:o=>{pc&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const l=o.__composer,u=ly(a);o.textContent=Reflect.apply(l.t,l,[...cy(u)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function ly(t){if(ce(t))return{path:t};if(Ae(t)){if(!("path"in t))throw Ft(Rt.REQUIRED_VALUE,"path");return t}else throw Ft(Rt.INVALID_VALUE)}function cy(t){const{path:e,locale:n,args:r,choice:s,plural:i}=t,o={},a=r||{};return ce(n)&&(o.locale=n),wt(s)&&(o.plural=s),wt(i)&&(o.plural=i),[e,a,o]}function C6(t,e,...n){const r=Ae(n[0])?n[0]:{},s=!!r.useI18nComponentName;(Me(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":iy.name,"I18nT"].forEach(o=>t.component(o,iy)),[oy.name,"I18nN"].forEach(o=>t.component(o,oy)),[ay.name,"I18nD"].forEach(o=>t.component(o,ay))),t.directive("t",A6(e))}function S6(t,e,n){return{beforeCreate(){const r=la();if(!r)throw Ft(Rt.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const i=s.i18n;if(s.__i18n&&(i.__i18n=s.__i18n),i.__root=e,this===this.$root)this.$i18n=uy(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=mf(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=uy(t,s);else{this.$i18n=mf({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&Ew(e,s,s),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$tc=(...i)=>this.$i18n.tc(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=la();if(!r)throw Ft(Rt.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(r),delete this.$i18n}}}function uy(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[_w](e.pluralizationRules||t.pluralizationRules);const n=ou(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const P6=Ds("global-vue-i18n");function R6(t={},e){const n=__VUE_I18N_LEGACY_API__&&Me(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=Me(t.globalInjection)?t.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,i=new Map,[o,a]=k6(t,n),l=Ds("");function u(m){return i.get(m)||null}function h(m,g){i.set(m,g)}function f(m){i.delete(m)}{const m={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return s},async install(g,...E){if(g.__VUE_I18N_SYMBOL__=l,g.provide(g.__VUE_I18N_SYMBOL__,m),Ae(E[0])){const L=E[0];m.__composerExtend=L.__composerExtend,m.__vueI18nExtend=L.__vueI18nExtend}let w=null;!n&&r&&(w=U6(g,m.global)),__VUE_I18N_FULL_INSTALL__&&C6(g,m,...E),__VUE_I18N_LEGACY_API__&&n&&g.mixin(S6(a,a.__composer,m));const R=g.unmount;g.unmount=()=>{w&&w(),m.dispose(),R()}},get global(){return a},dispose(){o.stop()},__instances:i,__getInstance:u,__setInstance:h,__deleteInstance:f};return m}}function um(t={}){const e=la();if(e==null)throw Ft(Rt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Ft(Rt.NOT_INSTALLED);const n=D6(e),r=O6(n),s=vw(e),i=N6(t,s);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw Ft(Rt.NOT_AVAILABLE_IN_LEGACY_MODE);return V6(e,i,r,t)}if(i==="global")return Ew(r,t,s),r;if(i==="parent"){let l=L6(n,e,t.__useComponent);return l==null&&(l=r),l}const o=n;let a=o.__getInstance(e);if(a==null){const l=Qt({},t);"__i18n"in s&&(l.__i18n=s.__i18n),r&&(l.__root=r),a=lm(l),o.__composerExtend&&(a[df]=o.__composerExtend(a)),x6(o,e,a),o.__setInstance(e,a)}return a}function k6(t,e,n){const r=ST();{const s=__VUE_I18N_LEGACY_API__&&e?r.run(()=>mf(t)):r.run(()=>lm(t));if(s==null)throw Ft(Rt.UNEXPECTED_ERROR);return[r,s]}}function D6(t){{const e=rr(t.isCE?P6:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Ft(t.isCE?Rt.NOT_INSTALLED_WITH_PROVIDE:Rt.UNEXPECTED_ERROR);return e}}function N6(t,e){return ru(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function O6(t){return t.mode==="composition"?t.global:t.global.__composer}function L6(t,e,n=!1){let r=null;const s=e.root;let i=M6(e,n);for(;i!=null;){const o=t;if(t.mode==="composition")r=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(i);a!=null&&(r=a.__composer,n&&r&&!r[yw]&&(r=null))}if(r!=null||s===i)break;i=i.parent}return r}function M6(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function x6(t,e,n){u0(()=>{},e),zf(()=>{const r=n;t.__deleteInstance(e);const s=r[df];s&&(s(),delete r[df])},e)}function V6(t,e,n,r={}){const s=e==="local",i=Hf(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Ft(Rt.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=Me(r.inheritLocale)?r.inheritLocale:!ce(r.locale),a=nt(!s||o?n.locale.value:ce(r.locale)?r.locale:Ji),l=nt(!s||o?n.fallbackLocale.value:ce(r.fallbackLocale)||ct(r.fallbackLocale)||Ae(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),u=nt(ou(a.value,r)),h=nt(Ae(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),f=nt(Ae(r.numberFormats)?r.numberFormats:{[a.value]:{}}),m=s?n.missingWarn:Me(r.missingWarn)||bs(r.missingWarn)?r.missingWarn:!0,g=s?n.fallbackWarn:Me(r.fallbackWarn)||bs(r.fallbackWarn)?r.fallbackWarn:!0,E=s?n.fallbackRoot:Me(r.fallbackRoot)?r.fallbackRoot:!0,w=!!r.fallbackFormat,R=it(r.missing)?r.missing:null,L=it(r.postTranslation)?r.postTranslation:null,S=s?n.warnHtmlMessage:Me(r.warnHtmlMessage)?r.warnHtmlMessage:!0,T=!!r.escapeParameter,A=s?n.modifiers:Ae(r.modifiers)?r.modifiers:{},U=r.pluralRules||s&&n.pluralRules;function F(){return[a.value,l.value,u.value,h.value,f.value]}const y=Et({get:()=>i.value?i.value.locale.value:a.value,set:D=>{i.value&&(i.value.locale.value=D),a.value=D}}),_=Et({get:()=>i.value?i.value.fallbackLocale.value:l.value,set:D=>{i.value&&(i.value.fallbackLocale.value=D),l.value=D}}),v=Et(()=>i.value?i.value.messages.value:u.value),N=Et(()=>h.value),V=Et(()=>f.value);function x(){return i.value?i.value.getPostTranslationHandler():L}function P(D){i.value&&i.value.setPostTranslationHandler(D)}function be(){return i.value?i.value.getMissingHandler():R}function Ge(D){i.value&&i.value.setMissingHandler(D)}function ke(D){return F(),D()}function Ce(...D){return i.value?ke(()=>Reflect.apply(i.value.t,null,[...D])):ke(()=>"")}function Ie(...D){return i.value?Reflect.apply(i.value.rt,null,[...D]):""}function ut(...D){return i.value?ke(()=>Reflect.apply(i.value.d,null,[...D])):ke(()=>"")}function yt(...D){return i.value?ke(()=>Reflect.apply(i.value.n,null,[...D])):ke(()=>"")}function Je(D){return i.value?i.value.tm(D):{}}function $e(D,H){return i.value?i.value.te(D,H):!1}function He(D){return i.value?i.value.getLocaleMessage(D):{}}function Ut(D,H){i.value&&(i.value.setLocaleMessage(D,H),u.value[D]=H)}function kt(D,H){i.value&&i.value.mergeLocaleMessage(D,H)}function ft(D){return i.value?i.value.getDateTimeFormat(D):{}}function z(D,H){i.value&&(i.value.setDateTimeFormat(D,H),h.value[D]=H)}function ae(D,H){i.value&&i.value.mergeDateTimeFormat(D,H)}function ie(D){return i.value?i.value.getNumberFormat(D):{}}function ue(D,H){i.value&&(i.value.setNumberFormat(D,H),f.value[D]=H)}function Le(D,H){i.value&&i.value.mergeNumberFormat(D,H)}const k={get id(){return i.value?i.value.id:-1},locale:y,fallbackLocale:_,messages:v,datetimeFormats:N,numberFormats:V,get inheritLocale(){return i.value?i.value.inheritLocale:o},set inheritLocale(D){i.value&&(i.value.inheritLocale=D)},get availableLocales(){return i.value?i.value.availableLocales:Object.keys(u.value)},get modifiers(){return i.value?i.value.modifiers:A},get pluralRules(){return i.value?i.value.pluralRules:U},get isGlobal(){return i.value?i.value.isGlobal:!1},get missingWarn(){return i.value?i.value.missingWarn:m},set missingWarn(D){i.value&&(i.value.missingWarn=D)},get fallbackWarn(){return i.value?i.value.fallbackWarn:g},set fallbackWarn(D){i.value&&(i.value.missingWarn=D)},get fallbackRoot(){return i.value?i.value.fallbackRoot:E},set fallbackRoot(D){i.value&&(i.value.fallbackRoot=D)},get fallbackFormat(){return i.value?i.value.fallbackFormat:w},set fallbackFormat(D){i.value&&(i.value.fallbackFormat=D)},get warnHtmlMessage(){return i.value?i.value.warnHtmlMessage:S},set warnHtmlMessage(D){i.value&&(i.value.warnHtmlMessage=D)},get escapeParameter(){return i.value?i.value.escapeParameter:T},set escapeParameter(D){i.value&&(i.value.escapeParameter=D)},t:Ce,getPostTranslationHandler:x,setPostTranslationHandler:P,getMissingHandler:be,setMissingHandler:Ge,rt:Ie,d:ut,n:yt,tm:Je,te:$e,getLocaleMessage:He,setLocaleMessage:Ut,mergeLocaleMessage:kt,getDateTimeFormat:ft,setDateTimeFormat:z,mergeDateTimeFormat:ae,getNumberFormat:ie,setNumberFormat:ue,mergeNumberFormat:Le};function M(D){D.locale.value=a.value,D.fallbackLocale.value=l.value,Object.keys(u.value).forEach(H=>{D.mergeLocaleMessage(H,u.value[H])}),Object.keys(h.value).forEach(H=>{D.mergeDateTimeFormat(H,h.value[H])}),Object.keys(f.value).forEach(H=>{D.mergeNumberFormat(H,f.value[H])}),D.escapeParameter=T,D.fallbackFormat=w,D.fallbackRoot=E,D.fallbackWarn=g,D.missingWarn=m,D.warnHtmlMessage=S}return c0(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Ft(Rt.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const D=i.value=t.proxy.$i18n.__composer;e==="global"?(a.value=D.locale.value,l.value=D.fallbackLocale.value,u.value=D.messages.value,h.value=D.datetimeFormats.value,f.value=D.numberFormats.value):s&&M(D)}),k}const F6=["locale","fallbackLocale","availableLocales"],hy=["t","rt","d","n","tm","te"];function U6(t,e){const n=Object.create(null);return F6.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw Ft(Rt.UNEXPECTED_ERROR);const o=zt(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,s,o)}),t.config.globalProperties.$i18n=n,hy.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw Ft(Rt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,hy.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}m6();__INTLIFY_JIT_COMPILATION__?W_(l6):W_(a6);XV(NV);ZV(sw);if(__INTLIFY_PROD_DEVTOOLS__){const t=Pr();t.__INTLIFY__=!0,BV(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const $6={name:"Wacken GLUP",share:{invite:"Let us plan together with Wacken Group Line Up Planner"}},B6={notifications:{message:"Click to receive reminders for your favorites."},offline:{message:"You are offline. No changes can be made.",ready:{message:"The app can now work offline."},onlineAgain:{message:"You are back online. Click me to reload."},button:{message:"Click to view offline."}}},j6={overview:"Overview",acts:"Acts",discover:"Discover",members:"Members",settings:"Settings"},H6={ok:"Okay",confirm:"Confirm",finish:"Finish",abort:"Abort",signIn:"Sign in",signUp:"Sign up",logOut:"Log out",join:"Join",name:"Name",color:"Color",mail:"Mail",mailAddress:"Mail address",password:"Password",invite:"Invite",invitationLink:"Invitation link",leave:"Leave",delete:"Delete",add:"Add",select:"Select",greeting:"Hello",anon:"Anonymous",likes:"no likes | one like | {count} likes",recommendations:"no recommendations | one recommendation | {count} recommendations",and:" & ",someone:"Someone",liked:"Liked",recommended:"Recommended",details:"Details",until:"until",showActs:"Show acts"},W6={title:"Join space",message:{generic:"{n} has invited you to join their space.",specific:'{n} has invited you to join a space called "{s}".'},button:{joinWithoutAccount:"Join (without Account)"},whoAreYou:{title:"Who are you?",message:["You can add yourself to the members of this space","or choose an already created persona from the list."],add:"Not a part of the list? Click here"},dialog:{error:{title:"Error",message:"An error occurred whilst joining:"}}},q6={alreadyLoggedIn:"You are already logged in.",signIn:{message:["Sign in to create and edit your plan","and share it with your friends."]},mail:{title:"Login via mail",message:["Sign in to create and edit your plan","and share it with your friends."]}},K6={runningOrderInactive:{title:"No running order",message:"The running order hasn't been announced yet."},festivalEnded:{title:"The festival is over",message:"See you in Wacken  Rain or Shine "},dialog:{filterStages:{title:"Filter stages",save:{title:"Save",description:"Also apply on next visit"}}}},G6={search:{placeholder:"Search for acts"},filter:{sortTime:{label:"Sort chronological",description:"Show upcoming acts at the top"}},results:"{count} results"},z6={done:{title:"no more acts",message:"You have marked {count} acts | You have marked one act | You have marked {count} acts",resetLeftSwipes:"Reset"},dialog:{introduction:{title:"Discover",message:"If you like the act, swipe right. If you don't, swipe left."},reset:{title:"Reset swipes",message:"Do you really want to reset your swipes?"}}},Y6={tasteMatch:"matches {n}",dialog:{removeMember:{title:"Delete forever",message:"Do you really want to remove this member?"},charts:{title:"Charts"}}},Q6={spaceSettings:{title:"Space settings"},dialog:{leaveSpace:{title:"Leave space",message:"Du you really want to leave this space? Your data will be deleted."},anonLogOut:{title:"Log out forever",message:"If you sign out of your anonymous account, your favorites can only be managed with the invitation link. Do you really want to log out? You'll never be able to log in again."},deleteAccount:{title:"Delete forever",message:"Du you really want to delete your account? All data associated with your account is going to be deleted aswell."},relogin:{title:"Log in again",message:"You need to log in again to be able to delete your account."},invitationLink:{title:"Share invitation link",message:"Your friends can join your space with the following link:"}}},J6={"login-needed":{title:"Login required",message:"Log in or ask for a invitation link for an existing space to save your favorites."}},X6="Install to your homescreen",Z6="About privacy",e3={brand:$6,app:B6,navigation:j6,common:H6,join:W6,login:q6,home:K6,acts:G6,swiper:z6,members:Y6,settings:Q6,dialog:J6,pwaAdvert:X6,privacyPolicy:Z6},t3={name:"Wacken GLUP",share:{invite:"Lass uns zusammen planen mit Wacken Group Line Up Planner!"}},n3={notifications:{message:"Klicke, um Erinnerungen fr deine Favoriten zu erhalten."},offline:{message:"Du bist offline, keine nderungen werden bernommen.",ready:{message:"Die App funktioniert nun auch offline."},onlineAgain:{message:"Du bist wieder online. Klicke, um neu zu laden."},button:{message:"Offline anschauen? Klicke auf mich."}}},r3={overview:"berblick",acts:"Acts",discover:"Entdecken",members:"Mitglieder",settings:"Einstellungen"},s3={ok:"Okay",confirm:"Besttigen",finish:"Abschlieen",abort:"Abbrechen",signIn:"Anmelden",signUp:"Registrieren",logOut:"Abmelden",join:"Beitreten",name:"Name",color:"Farbe",mail:"E-Mail",mailAddress:"E-Mail Adresse",password:"Passwort",invite:"Einladen",invitationLink:"Einladungslink",leave:"Verlassen",delete:"Lschen",add:"Hinzufgen",select:"Auswhlen",greeting:"Moin",anon:"Anonym",likes:"keine Likes | ein Like | {count} Likes",recommendations:"keine Vorschlge | ein Vorschlag | {count} Vorschlge",and:" & ",someone:"Jemand",liked:"Vorgemerkt",recommended:"Vorgeschlagen",details:"Details",until:"bis",showActs:"Acts anzeigen"},i3={title:"Space beitreten",message:{generic:"{n} hat dich eingeladen, einem Space beizutreten.",specific:'{n} hat dich eingeladen, dem Space "{s}" beizutreten.'},button:{joinWithoutAccount:"Beitreten (ohne Konto)"},whoAreYou:{title:"Wer bist du?",message:["Du kannst entweder dich als neue Person hinzufgen oder,","falls du dies bereits getan hast, deine bestehende Person auswhlen."],add:"Kein Teil der Liste? Klicke hier"},dialog:{error:{title:"Fehler beim Beitreten",message:"Beim Beitreten ist ein Fehler aufgetreten:"}}},o3={alreadyLoggedIn:"Du bist bereits angemeldet.",signIn:{message:["Melde dich an, um einen Plan zu erstellen","und ihn mit deinen Freunden zu teilen."]},mail:{title:"per Mail anmelden",message:["Melde dich an, um einen Plan zu erstellen","und ihn mit deinen Freunden zu teilen."]}},a3={runningOrderInactive:{title:"keine Running Order",message:"Die Running Order wurde noch nicht bekannt gegeben."},festivalEnded:{title:"Das Festival ist vorbei",message:"See you in Wacken  Rain or Shine "},dialog:{filterStages:{title:"Stages filtern",save:{title:"Speichern",description:"Auch beim nchsten Besuch anwenden"}}}},l3={search:{placeholder:"Nach Acts suchen"},filter:{sortTime:{label:"Zeitlich sortieren",description:"Anstehende Acts oben anzeigen"}},results:"{count} Ergebnisse"},c3={done:{title:"keine weiteren Acts",message:"Du hast {count} Acts markiert | Du hast einen Act markiert | Du hast {count} Acts markiert",resetLeftSwipes:"Zurcksetzen"},dialog:{introduction:{title:"Entdecken",message:"Wische nach rechts, wenn du den Act magst und nach links, wenn nicht."},reset:{title:"Swipes zurcksetzen",message:"Mchtest du deine Swipes wirklich zurcksetzen?"}}},u3={tasteMatch:"{n} bereinstimmung",dialog:{removeMember:{title:"Entgltig lschen",message:"Mchtest du dieses Mitglied wirklich entfernen?"},charts:{title:"Charts"}}},h3={spaceSettings:{title:"Space-Einstellungen"},dialog:{leaveSpace:{title:"Space verlassen",message:"Mchtest du diesen Space verlassen? Deine Daten werden gelscht!"},anonLogOut:{title:"Entgltig abmelden",message:"Wenn du dich von deinem annonymen Konto abmeldest, knnen die gespeicherten Daten nur ber den Einladungslink verwaltet werden. Mchtest du dich dennoch abmelden? Du wirst dich nie wieder mit diesem Konto anmelden knnen."},deleteAccount:{title:"Entgltig lschen",message:"Mchtest du deinen Account lschen? Alle Daten, die mit deinem Konto verknpft sind werden ebenfalls gelscht."},relogin:{title:"Erneut anmelden",message:"Bitte melde dich erneut mit deinen Anmeldedaten an um deinen Account lschen zu knnen."},invitationLink:{title:"Einladungslink teilen",message:"ber den folgenen Link knnen deine Freunde beitreten:"}}},f3={"login-needed":{title:"Anmeldung erforderlich",message:"Melde dich an oder frage nach einem Einladungslink zu einem bestehenden Space um deine Favoriten zu speichern."}},d3="Installiere die App auf deinem Homescreen",m3="Informationen zum Datenschutz",g3="LITERAL TRANSLATIONS",p3="Montag",_3="Dienstag",y3="Mittwoch",v3="Donnerstag",E3="Freitag",w3="Samstag",I3="Sonntag",T3="Konzert",b3={brand:t3,app:n3,navigation:r3,common:s3,join:i3,login:o3,home:a3,acts:l3,swiper:c3,members:u3,settings:h3,dialog:f3,pwaAdvert:d3,privacyPolicy:m3,__comment:g3,Monday:p3,Tuesday:_3,Wednesday:y3,Thursday:v3,Friday:E3,Saturday:w3,Sunday:I3,Concert:T3,"Spoken Word":"Rede"};let gf;"serviceWorker"in navigator&&(async()=>await Notification.requestPermission()==="granted"&&Xw({immediate:!0,onOfflineReady(){gf!==void 0&&gf()},async onRegisteredSW(t,e){const n=await(e==null?void 0:e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:"BMLNE7-ifli-HDnisx0QwKtwjcFN1V1W1H-XH3GX3D0ymksOOtpzk7YGPAUxXZ5NceFuxiHPfuL5285PmecUmvs"}));localStorage.setItem("webPushSubscription",JSON.stringify(n))},onRegisterError(t){console.error(t)}}))();ui("theme","#9AB14D");const A3={apiKey:"AIzaSyD17IQgWZmP3iCaXGeeQq71o09hh3DcwUE",authDomain:"wacken-glup.firebaseapp.com",projectId:"wacken-glup",storageBucket:"wacken-glup.appspot.com",messagingSenderId:"708544587822",appId:"1:708544587822:web:184cc869ae7b53167057bf"},C3=uv(A3),Tw=new PN(C3),S3=R6({locale:navigator.language.substring(0,2),fallbackLocale:"en",messages:{en:e3,de:b3}}),mr=DA(CM),bw=new m2(Tw);mr.config.globalProperties.$client=bw;mr.config.globalProperties.$ctx=Tw;mr.config.globalProperties.openLoginNeededDialog=nt(!1);mr.config.globalProperties.showOfflineReadyToast=nt(!1);bw.fetchAll();mr.use(S3);mr.use(Nx);mr.use(LC,{});mr.component(qg.name||"",qg);mr.mount("body");gf=()=>{mr.config.globalProperties.showOfflineReadyToast.value=!0};export{$L as A,Bo as B,CA as C,F3 as D,$3 as E,pe as F,U3 as G,aD as H,PA as I,GO as L,tL as P,Js as W,At as _,O as a,je as b,oe as c,nt as d,u0 as e,lb as f,cb as g,ub as h,Et as i,Da as j,OE as k,dc as l,Lf as m,Wf as n,Z as o,Al as p,Ne as q,mt as r,Kf as s,he as t,Fe as u,qt as v,Ys as w,NE as x,ln as y,yh as z};
